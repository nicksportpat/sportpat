define("revAdmin",["jquery","revSettings","admin","rsCodeMirror","rev_lang","loading","editLayers","editLayersTimeline","perfectScrollbar"],function(j,S,I,D,q,O,R,z){var E={},A=[],P=!1,B=new function(){function e(t){j("#button_save_slider,#button_save_slider_t").click(function(){var e={params:S.getSettingsObject("form_slider_params"),main:S.getSettingsObject("form_slider_main"),template:j("#revslider_template").val()};"update_slider"==t&&(e.sliderid=j("#sliderid").val(),e.params.custom_css=rev_cm_custom_css.getValue(),e.params.custom_javascript=rev_cm_custom_js.getValue(),I.setAjaxLoaderID("loader_update, #loader_update_t"),I.setAjaxHideButtonID("button_save_slider,button_save_slider_t"),I.setSuccessMessageID("update_slider_success,#update_slider_success_t")),I.ajaxRequest(t,e)})}var s=this,n=null;s.initLayerPreview=function(){j("#button_preview_slider-tb").click(function(){var e=j("#sliderid").val();u(e)})};function t(){var e=j("#alias").val(),t='{{block class="Nwdthemes\\Revslider\\Block\\Revslider" alias="'+e+'"}}';""==e&&(t=q.wrong_alias),j("#shortcode").val(t)}var i=!1,a=!(s.load_slider_template_html=function(){return i?(j("#template_area").addClass("show"),j("#template_area").trigger("showitnow")):I.ajaxRequest("load_template_store_sliders",{},function(e){e.success&&(j(".revolution-template-groups").html(e.html),j("#template_area").addClass("show"),j("#template_area").trigger("showitnow"),initTemplateSliders(),i=!0)}),!0});s.load_slide_template_html=function(){return a?(j("#template_area").addClass("show"),j(".revolution-template-groups").perfectScrollbar(),scrollTA()):I.ajaxRequest("load_template_store_slides",{},function(e){e.success&&(j(".revolution-basic-templates").html(e.html),a=!0,templateSelectorHandling(),j("#template_area").addClass("show"),j(".revolution-template-groups").perfectScrollbar(),scrollTA())}),!0};function l(e,t,i,a){j('input[name="width"]').attr("disabled",!1),j('input[name="height"]').attr("disabled",!1),"normal"!=a&&"full"!=a||j("#layout-preshow").removeClass("lp-fullscreenalign"),e?(j("#responsitive_row").removeClass("disabled"),j("#responsitive_row input").prop("disabled","")):(j("#responsitive_row").addClass("disabled"),j("#responsitive_row input").prop("disabled","disabled")),t?(j("#auto_height_row").removeClass("disabled"),j("#layout-preshow").removeClass("lp-fullscreenalign")):j("#auto_height_row").addClass("disabled"),"normal"==a&&0==e&&0==t&&0==i?j(".rs-hide-on-fixed").hide():j(".rs-hide-on-fixed").show(),i?(j(".rs-show-on-fullscreen").show(),j(".rs-hide-on-fullscreen").hide(),"on"==j('input[name="full_screen_align_force"]:checked').val()&&j("#layout-preshow").addClass("lp-fullscreenalign"),j("#full_screen_align_force_row").removeClass("disabled"),j("#fullscreen_offset_container_row").removeClass("disabled")):(j(".rs-show-on-fullscreen").hide(),j(".rs-hide-on-fullscreen").show(),j("#full_screen_align_force_row").addClass("disabled"),j("#fullscreen_offset_container_row").addClass("disabled")),i||t?j("#force_full_width_row").removeClass("disabled"):j("#force_full_width_row").addClass("disabled"),j("#layout-preshow").removeClass("lp-fixed"),j("#layout-preshow").removeClass("lp-custom"),j("#layout-preshow").removeClass("lp-autoresponsive"),j("#layout-preshow").removeClass("lp-fullscreen"),e?j("#layout-preshow").addClass("lp-custom"):t?j("#layout-preshow").addClass("lp-autoresponsive"):i?j("#layout-preshow").addClass("lp-fullscreen"):j("#layout-preshow").addClass("lp-fixed")}function o(e,r){j("#"+e).change(function(){var e=j(this).val(),o=[];j("#"+r+" option").each(function(){1==j(this).prop("selected")&&o.push(j(this).val())}),j("#"+r).empty(),j(e).each(function(e,t){var i=n[t];for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],l=new Option(s,a);0==a.indexOf("option_disabled")?j(l).prop("disabled","disabled"):-1!==j.inArray(j(l).val(),o)&&j(l).prop("selected","selected"),j("#"+r).append(l)}})}),j("#"+e).change()}function r(){_(),j("#slider_type_1").click(function(){l(!1,!1,!1,"normal")}),j("#slider_type_2").click(function(){l(!0,!1,!1,"normal")}),j("#slider_type_3").click(function(){l(!1,!0,!1,"full")}),j("#slider_type_4").click(function(){l(!1,!1,!0,"screen")}),j('input[name="full_screen_align_force"]').click(function(){"on"==j(this).val()?j("#layout-preshow").addClass("lp-fullscreenalign"):j("#layout-preshow").removeClass("lp-fullscreenalign")}),j('input[name="auto_height"]').click(function(){"on"==j(this).val()?j("#layout-preshow").addClass("lp-autoheight"):j("#layout-preshow").removeClass("lp-autoheight")}),j('input[name="force_full_width"]').click(function(){"on"==j(this).val()?j("#layout-preshow").addClass("lp-fullwidth"):j("#layout-preshow").removeClass("lp-fullwidth")}),j('input[name="full_screen_align_force"]:checked').click(),j('input[name="auto_height"]:checked').click(),j('input[name="force_full_width"]:checked').click(),n=j.parseJSON(g_jsonTaxWithCats),o("post_types","post_category"),o("product_types","product_category"),j("#fetch_type").change(function(){switch(j(".rs-post-type-wrap").hide(),j(".rs-post-order-setting").show(),j("#post_sortby_row").show(),j(this).val()){case"cat_tag":j(".rs-post-type-wrap").show();break;case"related":break;case"popular":case"recent":j(".rs-post-order-setting").hide();break;case"next_prev":j("#post_sortby_row").hide()}}),j("#fetch_type option:selected").change(),j("input[name='source_type']").click(function(){"posts"==j(this).val()?(j("#toolbox_wrapper").hide(),j("#slider_type_row").hide(),j("#slider_type_row").prev().hide(),j("#fullscreen_offset_container_row").hide(),j("#full_screen_align_force_row").hide(),j("#slider_size_row").hide(),j("#auto_height_row").hide(),j("#force_full_width_row").hide(),j("#responsitive_row").hide(),j("#responsitive_row").next().hide()):(j(".settings_panel_right").show(),j("#toolbox_wrapper").show(),j("#slider_type_row").show(),j("#slider_type_row").prev().show(),j("#fullscreen_offset_container_row").show(),j("#full_screen_align_force_row").show(),j("#slider_size_row").show(),j("#auto_height_row").show(),j("#force_full_width_row").show(),j("#responsitive_row").show(),j("#responsitive_row").next().show(),j("#layout-preshow").show()),"specific_posts"==j(this).val()&&j('#fetch_type option[value="cat_tag"]').attr("selected","selected"),j("#fetch_type option:selected").change(),j(".rs-settings-wrapper").hide(),"posts"==j(this).val()||"specific_posts"==j(this).val()||"woocommerce"==j(this).val()?(j("#rs-post-settings-wrapper").show(),j(".rs-specific-posts-wrap").hide(),j(".rs-woocommerce-product-wrap").hide(),j(".rs-post-types-wrapper").hide(),j(".rs-show-for-wc").hide(),j(".rs-hide-for-wc").show(),"posts"==j(this).val()?(j(".rs-post-types-wrapper").show(),j(".rs-specific-posts-wrap").hide()):"specific_posts"==j(this).val()?(j(".rs-post-types-wrapper").hide(),j(".rs-specific-posts-wrap").show()):"woocommerce"==j(this).val()&&(j(".rs-woocommerce-product-wrap").show(),j(".rs-show-for-wc").show(),j(".rs-hide-for-wc").hide())):(j("#rs-post-settings-wrapper").hide(),j("#rs-"+j(this).val()+"-settings-wrapper").show(),"facebook"==j(this).val()&&j('select[name="facebook-type-source"]').change(),"instagram"==j(this).val()&&j('select[name="instagram-type"]').change(),"photosets"==j("select[name=flickr-type]").val()&&"flickr"==j("input[name=source_type]:checked").val()&&j("input[name=flickr-user-url]").change(),"youtube"==j("input[name=source_type]:checked").val()&&"playlist"==j("select[name='youtube-type-source']").val()&&j("input[name=youtube-channel-id]").change())}),j(".rs-settings-wrapper").hide(),j("#source_type_1").is(":checked")||j("#source_type_2").is(":checked")?(j("#rs-post-settings-wrapper").show(),j("#source_type_1").is(":checked")?(j(".rs-post-types-wrapper").show(),j(".rs-specific-posts-wrap").hide()):(j(".rs-post-types-wrapper").hide(),j(".rs-specific-posts-wrap").show())):(j("#rs-post-settings-wrapper").hide(),j("input[name=source_type]:checked").click()),j("#source_type_1").is(":checked")&&(j("#toolbox_wrapper").hide(),j("#slider_type_row").hide(),j("#slider_type_row").prev().hide(),j("#fullscreen_offset_container_row").hide(),j("#full_screen_align_force_row").hide(),j("#slider_size_row").hide(),j("#auto_height_row").hide(),j("#force_full_width_row").hide(),j("#responsitive_row").hide(),j("#responsitive_row").next().hide()),j(document).ready(function(){j('input[name="slider_type"]:checked').click(),j('select[name="navigation_style"]').change(function(){switch(j(this).val()){case"preview1":case"preview2":case"preview3":case"preview4":j("#leftarrow_align_hor_row").hide(),j("#leftarrow_align_vert_row").hide(),j("#leftarrow_offset_hor_row").hide(),j("#leftarrow_offset_vert_row").hide(),j("#rightarrow_align_hor_row").hide(),j("#rightarrow_align_vert_row").hide(),j("#rightarrow_offset_hor_row").hide(),j("#rightarrow_offset_vert_row").hide(),j("#navigation_arrows_row").hide();break;default:j("#navigaion_type").change(),j("#navigation_arrows").change()}}),j("#navigation_arrows").on("change",function(){switch(j(this).val()){case"nexttobullets":case"solo":var e=j('select[name="navigation_style"]').val();"preview1"!=e&&"preview2"!=e&&"preview3"!=e&&"preview4"!=e&&(j("#leftarrow_align_hor_row").show(),j("#leftarrow_align_vert_row").show(),j("#leftarrow_offset_hor_row").show(),j("#leftarrow_offset_vert_row").show(),j("#rightarrow_align_hor_row").show(),j("#rightarrow_align_vert_row").show(),j("#rightarrow_offset_hor_row").show(),j("#rightarrow_offset_vert_row").show());break;default:j("#leftarrow_align_hor_row").hide(),j("#leftarrow_align_vert_row").hide(),j("#leftarrow_offset_hor_row").hide(),j("#leftarrow_offset_vert_row").hide(),j("#rightarrow_align_hor_row").hide(),j("#rightarrow_align_vert_row").hide(),j("#rightarrow_offset_hor_row").hide(),j("#rightarrow_offset_vert_row").hide()}}),j('select[name="navigation_style"] option:selected').change(),j("#navigation_type").change(function(){switch(j(this).val()){case"bullet":case"thumb":var e=j('select[name="navigation_style"]').val();"preview1"!=e&&"preview2"!=e&&"preview3"!=e&&"preview4"!=e&&j("#navigation_arrows_row").show();break;default:j("#navigation_arrows_row").hide()}}),j("#navigation_style").change()}),j("body").on("change",'select[name="facebook-type-source"]',function(){var e=j(this).val();"timeline"==e?(j("#facebook-album-wrap").hide(),j("#facebook-timeline-wrap").show()):(j("#facebook-timeline-wrap").hide(),j("#facebook-album-wrap").show(),j("input[name=facebook-page-url]").change()),j("input[name=facebook-type-source]").val(e)}),"facebook"==j("input[name=source_type]:checked").val()&&j('select[name="facebook-type-source"]').change(),j("input[name=facebook-page-url]").change(function(){if("album"==j("select[name='facebook-type-source']").val()){var e={url:j("input[name=facebook-page-url]").val(),album:j("input[name=facebook-album]").val(),app_id:j("input[name=facebook-app-id]").val(),app_secret:j("input[name=facebook-app-secret]").val()};""!=j("input[name=facebook-page-url]").val()?I.ajaxRequest("get_facebook_photosets",e,function(e){j("select[name=facebook-album-select]").html(e.html),j("select[name=facebook-album-select]").change()}):(j("select[name=facebook-album-select]").html(""),j("select[name=facebook-album-select]").change())}}),"facebook"==j("input[name=source_type]:checked").val()&&j("input[name=facebook-page-url]").change(),j("select[name=facebook-album-select]").change(function(){j("input[name=facebook-album]").val(j("select[name=facebook-album-select]").val())}),j("select[name=flickr-type]").change(function(){switch(j(this).val()){case"publicphotos":j("#flickr-photosets-wrap,#flickr-gallery-url-wrap,#flickr-group-url-wrap").hide(),j("#flickr-publicphotos-url-wrap").show();break;case"gallery":j("#flickr-publicphotos-url-wrap,#flickr-photosets-wrap,#flickr-group-url-wrap").hide(),j("#flickr-gallery-url-wrap").show();break;case"photosets":j("#flickr-gallery-url-wrap,#flickr-group-url-wrap").hide(),j("#flickr-publicphotos-url-wrap,#flickr-photosets-wrap").show();break;case"group":j("#flickr-publicphotos-url-wrap,#flickr-photosets-wrap,#flickr-gallery-url-wrap").hide(),j("#flickr-group-url-wrap").show()}}),j("select[name=flickr-type]").change(),j("input[name=flickr-user-url],select[name=flickr-type]").change(function(){if("photosets"==j("select[name=flickr-type]").val())if(""!=j("input[name=flickr-user-url]").val()&&""!=j("input[name=flickr-api-key]").val()){var e={url:j("input[name=flickr-user-url]").val(),key:j("input[name=flickr-api-key]").val(),count:j("input[name=flickr-count]").val(),set:j("input[name=flickr-photoset]").val()};I.ajaxRequest("get_flickr_photosets",e,function(e){j("select[name=flickr-photoset-select]").html(e.data.html),j("select[name=flickr-photoset-select]").change()})}else j("select[name=flickr-photoset-select]").html(response.data.html),j("input[name=flickr-photoset]").val("")}),"photosets"==j("select[name=flickr-type]").val()&&"flickr"==j("input[name=source_type]:checked").val()&&j("input[name=flickr-user-url]").change(),j("select[name=flickr-photoset-select]").change(function(){j("input[name=flickr-photoset]").val(j("select[name=flickr-photoset-select]").val())}),j("select[name=youtube-playlist-select]").change(function(){j("input[name=youtube-playlist]").val(j("select[name=youtube-playlist-select]").val())}),j("input[name=youtube-channel-id]").change(function(){if("playlist"==j("select[name='youtube-type-source']").val()){var e={api:j("input[name=youtube-api]").val(),id:j("input[name=youtube-channel-id]").val(),playlist:j("input[name=youtube-playlist]").val()};""!=j("input[name=youtube-channel-id]").val()?I.ajaxRequest("get_youtube_playlists",e,function(e){j("select[name=youtube-playlist-select]").html(e.data.html),j("select[name=youtube-playlist-select]").change()}):j("select[name=youtube-playlist-select]").html("")}}),j("select[name=youtube-type-source]").change(function(){"playlist"!=j(this).val()?j("#youtube-playlist-wrap").hide():(j("#youtube-playlist-wrap").show(),"youtube"==j("input[name=source_type]:checked").val()&&""!=j("input[name=youtube-channel-id]").val()&&"playlist"==j('select[name="youtube-type-source"]').val()&&j("input[name=youtube-channel-id]").change())}),j("select[name=youtube-type-source]").change(),j("select[name=vimeo-type-source]").change(function(){var e=j(this).val();j(".source-vimeo").hide(),j("#vimeo-"+e+"-wrap").show()}),j("select[name=vimeo-type-source]").change(),j("body").on("change",'select[name="instagram-type"]',function(){var e=j(this).val();j(this).parent().find("div").hide(),j("#instagram_"+e).show()}),"instagram"==j("input[name=source_type]:checked").val()&&j('select[name="instagram-type"]').change(),j("body").on("click",'input[name="loop_slide"]',function(){"noloop"==j(this).val()&&(j('#navigaion_type option[value="none"]').attr("selected",!0),j('#navigation_arrows option[value="none"]').attr("selected",!0),j("#navigaion_type").change(),j("#navigation_arrows").change(),I.showInfo({type:"info",hideon:"",event:"",content:q.nav_bullet_arrows_to_none,hidedelay:3}))}),j("#enable_advanced_sizes").click(function(){j(".rev-advanced-sizes-wrap").show(),j("#rev-enable-advanced-sizes").hide(),j('input[name="advanced-responsive-sizes"]').val("true"),j(".rev-desktop-naming").html("Desktop")}),j("#disable_advanced_sizes").click(function(){j(".rev-advanced-sizes-wrap").hide(),j("#rev-enable-advanced-sizes").show(),j('input[name="advanced-responsive-sizes"]').val("false"),j(".rev-desktop-naming").html("")})}function d(){var e=j("#spinner_color").val(),t=j("#use_spinner");0!=t.val()&&5!=t.val()||(e="#ffffff");var i=j("#spinner_preview .tp-loader.tp-demo");i.hasClass("spinner0")||i.hasClass("spinner1")||i.hasClass("spinner2")?i.css({backgroundColor:e}):i.find("div").css({backgroundColor:e})}function c(e){var t=j("#use_spinner");e.find(".tp-loader").remove(),e.append('<div class="tp-loader tp-demo"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),e.find(".tp-demo").addClass("spinner"+t.val()),"-1"==t.val()||0==t.val()||5==t.val()?j("#spinner_color_row").css({display:"none"}):j("#spinner_color_row").css({display:"block"}),d()}this.initSpinnerAdmin=function(){j("#use_spinner_row").parent().prepend('<div id="spinner_preview"></div>');var e=j("#spinner_preview"),t=j("#use_spinner"),i=j("#spinner_color"),a=i.val();c(e),t.on("change",function(){c(e,!0)}),setInterval(function(){a!=i.val()&&(d(),oldocl=i.val())},300)},this.initAddSliderView=function(){r(),j("#title").focus(),e("create_slider"),l(!1,!1,!1,"normal"),this.initSpinnerAdmin()},this.initEditSliderView=function(){r(),e("update_slider"),j("#button_delete_slider, #button_delete_slider_t").click(function(){if(0==confirm(q.really_want_to_delete+" '"+j("#title").val()+"' ?"))return!0;var e={sliderid:j("#sliderid").val()};I.ajaxRequest("delete_slider",e)}),j("#api_wrapper .api-input").click(function(){j(this).select().focus()}),j("#link_show_api").click(function(){j("#api_wrapper").show(),j("#link_show_api").addClass("button-selected"),j("#toolbox_wrapper").hide(),j("#link_show_toolbox").removeClass("button-selected")}),j("#link_show_toolbox").click(function(){j("#toolbox_wrapper").show(),j("#link_show_toolbox").addClass("button-selected"),j("#api_wrapper").hide(),j("#link_show_api").removeClass("button-selected")}),j("#button_export_slider").click(function(){var e=j("#sliderid").val(),t=j('input[name="export_dummy_images"]').is(":checked"),i=ajaxurl+I.return_ajaxurl_param()+"action="+g_uniteDirPlugin+"_ajax_action&client_action=export_slider&dummy="+t+"&nonce="+g_revNonce;i+="&sliderid="+e,location.href=i}),j("#button_preview_slider, #button_preview_slider_t").click(function(){var e=j("#sliderid").val();u(e)}),j("#button_replace_url").click(function(){if(0==confirm(q.sure_to_replace_urls))return!1;var e={sliderid:j("#sliderid").val(),url_from:j("#replace_url_from").val(),url_to:j("#replace_url_to").val(),replace_all:j("[name=replace_url_all]:checked").val()};I.setAjaxLoaderID("loader_replace_url"),I.setAjaxHideButtonID("button_replace_url"),I.setSuccessMessageID("replace_url_success"),I.ajaxRequest("replace_image_urls",e)}),j('input[name="slider_type"]').each(function(){j(this).is(":checked")&&j(this).click()}),j("#reset_slide_button").click(function(){if("0.5"==j(this).css("opacity"))return!1;if(0==confirm(q.set_settings_on_all_slider))return!1;var e={sliderid:j("#sliderid").val()};j('input[name="reset-slide_transition"]').is(":checked")&&(e.slide_transition=j('select[name="def-slide_transition"] option:selected').val()),j('input[name="reset-transition_duration"]').is(":checked")&&(e.transition_duration=j('input[name="def-transition_duration"]').val()),j('input[name="reset-image_source_type"]').is(":checked")&&(e.image_source_type=j('select[name="def-image_source_type"] option:selected').val()),j('input[name="reset-background_fit"]').is(":checked")&&(e.bg_fit=j("#def-background_fit option:selected").val(),"percentage"==e.bg_fit&&(e.bg_fit_x=j('input[name="def-bg_fit_x"]').val(),e.bg_fit_y=j('input[name="def-bg_fit_y"]').val())),j('input[name="reset-bg_position"]').is(":checked")&&(e.bg_position=j('select[name="def-bg_position"] option:selected').val(),"percentage"==e.bg_position&&(e.bg_position_x=j('input[name="def-bg_position_x"]').val(),e.bg_position_y=j('input[name="def-bg_position_y"]').val())),j('input[name="reset-bg_repeat"]').is(":checked")&&(e.bg_repeat=j('select[name="def-bg_repeat"] option:selected').val()),j('input[name="reset-kenburn_effect"]').is(":checked")&&(e.kenburn_effect=j('input[name="def-kenburn_effect"]').is(":checked")?"on":"off"),j('input[name="reset-kb_start_fit"]').is(":checked")&&(e.kb_start_fit=j('input[name="def-kb_start_fit"]').val()),j('input[name="reset-kb_easing"]').is(":checked")&&(e.kb_easing=j('select[name="def-kb_easing"] option:selected').val()),j('input[name="reset-kb_end_fit"]').is(":checked")&&(e.kb_end_fit=j('input[name="def-kb_end_fit"]').val()),j('input[name="reset-kb_duration"]').is(":checked")&&(e.kb_duration=j('input[name="def-kb_duration"]').val()),j('input[name="reset-kb_start_offset_x"]').is(":checked")&&(e.kb_start_offset_x=j('input[name="def-kb_start_offset_x"]').val()),j('input[name="reset-kb_start_offset_y"]').is(":checked")&&(e.kb_start_offset_y=j('input[name="def-kb_start_offset_y"]').val()),j('input[name="reset-kb_end_offset_x"]').is(":checked")&&(e.kb_end_offset_x=j('input[name="def-kb_end_offset_x"]').val()),j('input[name="reset-kb_end_offset_y"]').is(":checked")&&(e.kb_end_offset_y=j('input[name="def-kb_end_offset_y"]').val()),j('input[name="reset-kb_start_rotate"]').is(":checked")&&(e.kb_start_rotate=j('input[name="def-kb_start_rotate"]').val()),j('input[name="reset-kb_end_rotate"]').is(":checked")&&(e.kb_end_rotate=j('input[name="def-kb_end_rotate"]').val()),I.ajaxRequest("reset_slide_settings",e)}),j(".rs-reset-slide-setting").change(function(){j("#reset_slide_button").css("opacity","0.5"),j(".rs-reset-slide-setting").each(function(){if(j(this).is(":checked"))return j("#reset_slide_button").css("opacity","1"),!0})}),j(".rs-reset-slide-setting").change(),j(".tp-moderncheckbox").each(function(){S.onoffStatus(j(this))}),this.initSpinnerAdmin()};var _=function(){j("#shortcode").focus(function(){this.select()}),j("#shortcode").click(function(){this.select()}),j("#alias").change(function(){t()}),j("#alias").keyup(function(){t()}),t()};this.initNewsletterRoutine=function(){j("#subscribe-to-newsletter").click(function(){var e={email:j('input[name="rs-email"]').val()};I.ajaxRequest("subscribe_to_newsletter",e)}),j("#activate-unsubscribe").click(function(){j(".subscribe-newsletter-wrap").hide(),j("#activate-unsubscribe").hide(),j(".unsubscribe-newsletter-wrap").show(),j("#unsubscribe-text").show(),j("#subscribe-text").hide()}),j("#cancel-unsubscribe").click(function(){j(".subscribe-newsletter-wrap").show(),j("#activate-unsubscribe").show(),j(".unsubscribe-newsletter-wrap").hide(),j("#unsubscribe-text").hide(),j("#subscribe-text").show()}),j("#unsubscribe-to-newsletter").click(function(){var e={email:j('input[name="rs-email"]').val()};I.ajaxRequest("unsubscribe_to_newsletter",e)})},this.initSlidersListView=function(){var n;j("body").on("click",".rs-reload-shop",function(){O({fadeIn:300,text:q.please_wait_a_moment}),location.href=window.location.href+(-1==window.location.href.indexOf("?")?"?":"&")+"update_shop"}),j("body").on("click",".template_slider_item_reimport, .install_template_slider",function(){var e=j(this);if(j("#import_dialog_box").data("requested_slide",e.data("title")),e.hasClass("deny_download"))return alert(q.this_template_requires_version+" "+e.data("versionneed")+" "+q.of_slider_revolution),!1;var t={};return t.zip=e.data("zipname"),t.uid=e.data("uid"),t.package="false",j("#dialog_import_template_slider_from").dialog({modal:!0,resizable:!1,dialogClass:"tpdialogs",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Local:function(){if(RS_DEMO)return alert(q.not_available_in_demo),!1;j(".input_import_slider").val(""),j(".rs-import-slider-button").hide(),j(".rs-zip-name").text(t.zip),j(".rs-uid").val(t.uid),j(".rs-package").val(t.package),j("#dialog_import_template_slider").dialog({modal:!0,resizable:!1,width:600,height:450,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){j(this).dialog("close")}}}),j(this).dialog("close")},Online:function(){rs_plugin_validated?rs_single_page_creation?j("#dialog_import_template_slider_page_template").dialog({modal:!0,resizable:!1,title:"Create Blank Demo Page",width:450,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Yes:function(){i(t,"true"),j(this).dialog("close"),j("#dialog_import_template_slider_from").dialog("close")},No:function(){i(t,"false"),j(this).dialog("close"),j("#dialog_import_template_slider_from").dialog("close")}}}):(i(t,"false"),j("#dialog_import_template_slider_from").dialog("close")):j("#regsiter-to-access-store-none").click()}}}),j("#close-template").click(),!1}),j("body").on("click",".template_slider_item_reimport_package, .install_template_slider_package",function(){if(j(this).hasClass("deny_download"))return alert(q.this_template_requires_version+" "+j(this).data("versionneed")+" "+q.of_slider_revolution),!1;var e={};return e.zip=j(this).data("zipname"),e.uid=j(this).data("uid"),e.package="true",rs_plugin_validated?rs_pack_page_creation?j("#dialog_import_template_slider_page_template").dialog({modal:!0,resizable:!1,title:"Create Blank Demo Page",width:450,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Yes:function(){i(e,"true"),j(this).dialog("close")},No:function(){i(e,"false"),j(this).dialog("close")}}}):i(e,"false"):alert(q.this_feature_only_if_activated),j("#close-template").click(),!1});var i=function(s,l){if(j("#import_dialog_box").html(""),j("#dialog_import_template_slider_info").dialog({modal:!0,resizable:!1,width:450,minHeight:350,dialogClass:"tpdialogs",open:function(e,t){var i=j(e.target).parent(),a=i.find(".ui-dialog-titlebar");i.attr("id","tp_import_sliders"),a.attr("id","tp_import_sliders_title"),n=j(".ui-dialog-titlebar-close",t.dialog),j(".ui-dialog-titlebar-close",t.dialog).hide()}}),void 0!==s.package&&void 0!==slider_package_uids[s.uid]){for(var e in s["page-creation"]=!1,delete s.package,E={},A=[],slider_package_uids[s.uid])if(slider_package_uids[s.uid].hasOwnProperty(e))for(var t in slider_package_uids[s.uid][e])slider_package_uids[s.uid][e].hasOwnProperty(t)&&(E[e]={uid:slider_package_uids[s.uid][e][t],sid:t,status:0});var o=0,r=setInterval(function(){30==++o&&j("#import_dialog_box_action").append('<div class="import_failure">'+q.download_install_takes_longer+"</div>"),60==o&&(j("#import_dialog_box").append(q.download_failed_check_server),j("#import_dialog_box").append("<div>"+q.aborting_import+"</div>"),j("#import_dialog_box_action").html(""),void 0!==n&&n.show(),clearInterval(r));var e=0,t=1,i=!0;for(var a in E)E.hasOwnProperty(a)&&(1===E[a].status&&(e=1),2!==E[a].status&&(i=!1),2===E[a].status&&t++);if(t<=Object.keys(E).length?j("#install-slider-counter").css({width:t/Object.keys(E).length*100+"%"}):j("#install-slider-counter").width("100%"),0===e)for(var a in o=0,E)if(E.hasOwnProperty(a)&&0===E[a].status){s.uid=E[a].uid,j("#import_dialog_box_action").html(slider_package_names[E[a].uid].name),E[a].status=1,I.ajaxRequest("import_slider_online_template_slidersview_new",s,function(e){if(E[a].status=2,void 0!==e.slider_id&&0<e.slider_id&&A.push(e.slider_id),!1!==e.view&&(P=e.view),0<e.error.length)for(var t in e.error)e.error.hasOwnProperty(t)&&j("#import_dialog_box").append("<div>"+e.error[t]+"</div>")},!0);break}i&&(clearInterval(r),"true"===l?(j("#import_dialog_box").append("<div>"+q.create_draft+"</div>"),I.ajaxRequest("create_draft_page",{slider_ids:A},function(e){!1!==e.open?(j("#import_dialog_box").append("<div>"+q.draft_created+"</div>"),window.open(e.open,"_blank")):j("#import_dialog_box").append("<div>"+q.draft_not_created+"</div>"),j("#import_dialog_box").append("<div>"+q.slider_import_success_reload+"</div>"),!1!==P&&(location.href=P)},!0)):(j("#import_dialog_box").append("<div>"+q.slider_import_success_reload+"</div>"),!1!==P&&(location.href=P)))},1e3)}else{s["page-creation"]=l;var i=j("#import_dialog_box").data("requested_slide");j("#import_dialog_box").append("<div>"+i+"</div>"),I.ajaxRequest("import_slider_online_template_slidersview_new",s,function(e){if(j("#import_dialog_box_action").html(""),0<e.error.length)for(var t in e.error)e.error.hasOwnProperty(t)&&j("#import_dialog_box").append('<div class="import_failure">'+e.error[t]+"</div>");else{for(var t in e.success)e.success.hasOwnProperty(t)&&j("#install-slider-counter").css({width:"100%"});!1!==e.open&&(j("#import_dialog_box").append("<div>"+q.draft_created+"</div>"),window.open(e.open,"_blank")),!1!==e.view&&(j("#import_dialog_box").append("<div>"+q.slider_import_success_reload+"</div>"),location.href=e.view)}},!0,!1)}};s.get_title_by_uid=function(e){var t=j('.template_slide_item_img[data-uid="'+e+'"]').data("title");return null==t&&(t=j('.install_template_slider[data-uid="'+e+'"]').data("title")),null==t&&(t=j('.template_slider_item_import[data-uid="'+e+'"]').data("title")),null==t&&(t=j('.install_template_slider_package[data-uid="'+e+'"]').data("title")),t},j("body").on("click",".add_template_slider_item",function(){var e=j(this).data("sliderid");j("#dialog_duplicate_slider").dialog({modal:!0,resizable:!1,title:"Import",width:250,height:200,closeOnEscape:!0,dialogClass:"tpdialogs tpdialogs_z",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){j(this).dialog("close")},Import:function(){if(""==j("#rs-duplicate-animation").val())return!1;I.ajaxRequest("duplicate_slider",{sliderid:e,title:j("#rs-duplicate-animation").val()},function(e){j("#close-template").click()})}}})}),j("body").on("click",".add_template_slider_item_package",function(){var e=j(this).data("uid");j("#dialog_duplicate_slider_package").dialog({modal:!0,resizable:!1,title:"Import Package",width:250,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){j(this).dialog("close")},"Import Package":function(){if(""==j("#rs-duplicate-prefix").val())return!1;I.ajaxRequest("duplicate_slider_package",{slideruid:e,title:j("#rs-duplicate-prefix").val()},function(e){j("#close-template").click()})}}})}),j(".input_import_slider").change(function(){""!==j(this).val()?j(".rev-import-slider-button").show():j(".rev-import-slider-button").hide()}),j("#form-import-slider-local, #form-import-online-slider-local").submit(function(e){var t=j(this).find('input[name="import_file"]').val().split("\\").pop();j("#dialog_import_slider").hasClass("ui-dialog-content")&&j("#dialog_import_slider").dialog("close"),j("#dialog_import_template_slider").hasClass("ui-dialog-content")&&j("#dialog_import_template_slider").dialog("close"),j("#dialog_import_template_slider_info").dialog({modal:!0,resizable:!1,width:450,minHeight:350,dialogClass:"tpdialogs",open:function(e,t){var i=j(e.target).parent(),a=i.find(".ui-dialog-titlebar");i.attr("id","tp_import_sliders"),a.attr("id","tp_import_sliders_title"),j(".ui-dialog-titlebar-close",t.dialog).hide()}}),j("#import_dialog_box").html(""),j("#import_dialog_box").append("<div>"+t+"</div>");var i=0,a=setInterval(function(){30==++i&&j("#import_dialog_box_action").append(q.download_install_takes_longer),60==i&&(j("#import_dialog_box").append(q.download_failed_check_server),j("#import_dialog_box").append("<div>"+q.aborting_import+"</div>"),j("#import_dialog_box_action").html(""),void 0!==n&&n.show(),clearInterval(a))},1e3)}),j("#button_import_template_slider, #button_import_template_slider_b").click(function(){s.load_slider_template_html()}),j("#button_import_slider").click(function(){if(RS_DEMO)return alert(q.not_available_in_demo),!1;j(".rev-import-slider-button").hide(),j(".input_import_slider").val(""),j("#dialog_import_slider form").on("submit",function(){return j(".rev-import-slider-button").val(j(".rev-import-slider-button").data("loading")).attr("disabled","disabled"),j(this).on("submit",function(){return!1}),!0}),j("#dialog_import_slider").dialog({modal:!0,resizable:!1,width:600,height:400,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){j(this).dialog("close")}}})}),j(".button_delete_slider").click(function(){var e=this.id.replace("button_delete_",""),t=j("#slider_title_"+e).text();if(0==confirm(q.really_want_to_delete+" '"+t+"' ?"))return!1;I.ajaxRequest("delete_slider_stay",{sliderid:e},function(){j('li[data-id="'+e+'"]').remove()})}),j(".button_duplicate_slider").click(function(){var e=this.id.replace("button_duplicate_","");j("#dialog_duplicate_slider").dialog({modal:!0,resizable:!1,width:250,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){j(this).dialog("close")},Duplicate:function(){if(""==j("#rs-duplicate-animation").val())return!1;I.ajaxRequest("duplicate_slider",{sliderid:e,title:j("#rs-duplicate-animation").val()},function(e){})}}})}),j(".rev-toogle-fav").click(function(){var t=this.id.replace("reg-toggle-id-","");I.ajaxRequest("toggle_favorite",{id:t},function(){var e=j("#reg-toggle-id-"+t).find("i");e.hasClass("eg-icon-star-empty")?(e.removeClass("eg-icon-star-empty"),e.addClass("eg-icon-star")):(e.removeClass("eg-icon-star"),e.addClass("eg-icon-star-empty"))})}),j(".button_slider_preview").click(function(){var e=this.id.replace("button_preview_","");u(e)}),j(".export_slider_overview").click(function(){var e=this.id.replace("export_slider_",""),t=ajaxurl+I.return_ajaxurl_param()+"action="+g_uniteDirPlugin+"_ajax_action&client_action=export_slider&dummy="+!1+"&nonce="+g_revNonce;t+="&sliderid="+e,location.href=t}),j("body").on("click",".rs-embed-slider",function(){var e=j(this).closest("li.tls-slide").find(".tls-alias").text();j(".rs-dialog-embed-slider").find(".rs-example-alias").text(e),j(".rs-dialog-embed-slider").find(".rs-example-alias-1").text('{{block class="Nwdthemes\\Revslider\\Block\\Revslider" alias="'+e+'"}}'),j(".rs-dialog-embed-slider").dialog({modal:!0,resizable:!1,minWidth:850,minHeight:300,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")}})}),j(".export_slider_standalone").click(function(){var e=this.id.replace("export_slider_standalone_",""),t=ajaxurl+I.return_ajaxurl_param()+"action="+g_uniteDirPlugin+"_ajax_action&client_action=preview_slider&only_markup=true&dummy="+!1+"&nonce="+g_revNonce;t+="&sliderid="+e,location.href=t})};function p(e,i){var a=function(e){var t=[];return e.find(".icon_slide_lang").each(function(){var e=j(this).data("lang");t.push(e)}),t}(e),s=0;return j("#langs_float_wrapper li.item_lang").each(function(){var e=j(this),t=e.data("lang");j.inArray(t,a);"add"!=i&&j("#langs_float_wrapper li.operation_sap").hide(),-1==j.inArray(t,a)?(s++,e.show(),"add"!=i&&j("#langs_float_wrapper li.operation_sap").show()):e.hide()}),s}var u=function(e){var t=j("#rs-preview-form");j("#rs-client-action").val("preview_slider"),j("#preview_sliderid").val(e),j("#preview_slider_markup").val("false"),t.submit(),j("#rs-preview-wrapper").show(),j(window).trigger("resize")};s.initSlidesListViewPosts=function(t){f(t),j("#select_sortby").change(function(){j("#slides_top_loader").show();var e={};e.sliderID=t,e.sortby=j(this).val(),I.ajaxRequest("update_posts_sortby",e,function(){j("#slides_top_loader").html("Updated, reloading page..."),location.reload(!0)})}),j(".button_delete_slide").click(function(){var e={slideID:j(this).data("slideid"),sliderID:t};if(0==confirm(g_messageDeleteSlide))return!1;I.ajaxRequest("delete_slide",e)})};var f=function(s){j("#list_slides").sortable({axis:"y",handle:".col-handle",update:function(){!function(e){var t=j("#list_slides").sortable("toArray"),a=[],s=0;j(t).each(function(e,t){var i=t.replace("slidelist_item_","");a.push(i),s++,j("#slidelist_item_"+i+" .order-text").text(s)});var i={arrIDs:a,sliderID:e};j("#saving_indicator").show(),I.ajaxRequest("update_slides_order",i,function(){j("#saving_indicator").hide()}),j("#select_sortby").val("menu_order")}(s)}}),j("#list_slides .icon_state").click(function(){var t=j(this),i=t.siblings(".state_loader"),e=t.data("slideid"),a={slider_id:s,slide_id:e};t.hide(),i.show(),I.ajaxRequest("toggle_slide_state",a,function(e){t.show(),i.hide(),"published"==e.state?t.removeClass("state_unpublished").addClass("state_published").prop("title","Unpublish Slide"):t.removeClass("state_published").addClass("state_unpublished").prop("title","Publish Slide")})}),j(".col-image .slide_image").click(function(){var a=this.id.replace("slide_image_","");I.openAddImageDialog(g_messageChangeImage,function(e,t){var i={slider_id:s,slide_id:a,url_image:e,image_id:t};I.ajaxRequest("change_slide_image",i)})}).tipsy({gravity:"s",delayIn:70})};s.initSlidesListView=function(o){f(o),j("#button_new_slide, #button_new_slide_top").click(function(){var e=j("#button_new_slide").data("dialogtitle");I.openAddImageDialog(e,function(e){var t={sliderid:o,obj:e};I.ajaxRequest("add_slide",t)},!0)}),j("#button_new_slide_transparent, #button_new_slide_transparent_top").click(function(){j(this).hide(),j(".new_trans_slide_loader").show();var e={sliderid:o};I.ajaxRequest("add_slide",e)}),j(".button_duplicate_slide").click(function(){var e={slideID:this.id.replace("button_duplicate_slide_",""),sliderID:o};I.ajaxRequest("duplicate_slide",e)}),j(".button_copy_slide").click(function(){if(j(this).hasClass("button-disabled"))return!1;var e=j("#dialog_copy_move"),t=(e.data("textclose"),e.data("textupdate")),l=j(this),i={};i[t]=function(){var e=l.attr("id").replace("button_copy_slide_",""),t=j("#selectSliders").val(),i="copy";j("#radio_move").prop("checked")&&(i="move");var a={slideID:e,sliderID:o,targetSliderID:t,operation:i},s=l.siblings(".loader_copy");l.hide(),s.show(),I.ajaxRequest("copy_move_slide",a),j(this).dialog("close")},j("#dialog_copy_move").dialog({modal:!0,resizable:!1,width:400,height:300,closeOnEscape:!0,create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},dialogClass:"tpdialogs",buttons:i})}),j(".button_delete_slide").click(function(){var e={slideID:j(this).data("slideid"),sliderID:o};if(0==confirm("Delete this slide?"))return!1;var t=j(this),i=t.siblings(".loader_delete");t.hide(),i.show(),I.ajaxRequest("delete_slide",e)}),j("#list_slides .icon_slide_preview").click(function(){var e=j(this).data("slideid");h(e,!1)})},s.saveEditSlide=function(e,t){t||(t=!1),z.updateZIndexByOrder(),R.setRowZoneOrders(),z.organiseGroupsAndLayer();var i=R.getLayers(),a={};for(key in i)i.hasOwnProperty(key)&&!0!==i[key].layer_unavailable&&!0!==i[key].deleted&&(a[key]=I.duplicateObject(i[key]),void 0!==a[key].layer_unavailable&&delete a[key].layer_unavailable,void 0!==a[key].deleted&&delete a[key].deleted,void 0!==a[key].references&&delete a[key].references,void 0!==a[key].createdOnInit&&delete a[key].createdOnInit);JSON&&JSON.stringify&&(a=JSON.stringify(a));var l={slideid:e,layers:a};if(l.params=S.getSettingsObject("form_slide_params"),!t){l.params.slide_bg_color=j("#slide_bg_color").val(),l.params.slide_bg_external=j("#slide_bg_external").val(),l.params.bg_fit=j("#slide_bg_fit").val(),l.params.bg_fit_x=j("input[name='bg_fit_x']").val(),l.params.bg_fit_y=j("input[name='bg_fit_y']").val(),l.params.bg_repeat=j("#slide_bg_repeat").val(),l.params.bg_position=j("#slide_bg_position").val(),l.params.bg_position_x=j("input[name='bg_position_x']").val(),l.params.bg_position_y=j("input[name='bg_position_y']").val(),l.params.bg_end_position_x=j("input[name='bg_end_position_x']").val(),l.params.bg_end_position_y=j("input[name='bg_end_position_y']").val();var s=g();if("object"==typeof s&&!j.isEmptyObject(s))for(key in s)s.hasOwnProperty(key)&&(l.params[key]=s[key]);l.params.kenburn_effect=j("input[name='kenburn_effect']").is(":checked")?"on":"off",l.params.kb_start_fit=j("input[name='kb_start_fit']").val(),l.params.kb_end_fit=j("input[name='kb_end_fit']").val(),l.params.bg_end_position=j("select[name='bg_end_position']").val(),l.params.kb_duration=j("input[name='kb_duration']").val(),l.params.kb_easing=j("select[name='kb_easing']").val(),l.params.slide_transition=[],l.params.slot_amount=[],l.params.transition_rotation=[],l.params.transition_duration=[],l.params.transition_ease_in=[],l.params.transition_ease_out=[],j(".slide-trans-cur-ul li").each(function(){l.params.slide_transition.push(j(this).data("animval")),l.params.slot_amount.push(j(this).data("slot")),l.params.transition_rotation.push(j(this).data("rotation")),l.params.transition_duration.push(j(this).data("duration")),l.params.transition_ease_in.push(j(this).data("ease_in")),l.params.transition_ease_out.push(j(this).data("ease_out"))});var o=j(".bgsrcchanger:checked").val();if(("vimeo"==o||"html5"==o||"youtube"==o)&&!(void 0!==l.params.image_id&&0!=parseInt(l.params.image_id)&&""!=l.params.image_id||void 0!==l.params.image_url&&""!=l.params.image_url))return alert(q.cover_image_needs_to_be_set),!1;switch(j('input[name="rs-gallery-type"]').val()){case"gallery":break;case"posts":case"woocommerce":case"facebook":case"twitter":case"instagram":case"flickr":case"youtube":case"vimeo":l.params.image_url=""}}l.settings={};var r=[];j("#hor-css-linear .helplines").each(function(){r.push(j(this).css("left"))});var n=[];j("#ver-css-linear .helplines").each(function(){n.push(j(this).css("top"))}),l.settings.hor_lines=r,l.settings.ver_lines=n,j.each(R.addon_callbacks,function(e,t){var i=t.callback,a=t.environment,s=t.function_position;"saveEditSlide"===a&&"data"==s&&(l=i(l))}),l.obj_favorites=favoriteObjectsList,t?(I.setAjaxHideButtonID("button_save_static_slide,button_save_static_slide-tb"),I.setAjaxLoaderID("loader_update"),I.setSuccessMessageID("update_slide_success"),I.ajaxRequest("update_static_slide",l)):(I.setAjaxHideButtonID("button_save_slide,button_save_slide-tb"),I.setAjaxLoaderID("loader_update"),I.setSuccessMessageID("update_slide_success"),I.ajaxRequest("update_slide",l))},this.initEditSlideView=function(t,_,i){j("body").on("click",".rs-reload-shop",function(){confirm(q.unsaved_data_will_be_lost_proceed)&&(O({fadeIn:300,text:q.please_wait_a_moment}),location.href=window.location.href+(-1==window.location.href.indexOf("?")?"?":"&")+"update_shop")}),j("body").on("click",".install_template_slide",function(){var e=j(this);if(j("#import_dialog_box").data("requested_slide",e.data("title")),e.hasClass("deny_download"))return alert(q.this_template_requires_version+" "+e.data("versionneed")+" "+q.of_slider_revolution),!1;confirm(q.unsaved_data_will_be_lost_proceed)&&(j(".rs-zip-name").text(e.data("zipname")),j(".rs-uid").val(e.data("uid")),j(".rs-slide-number").val(e.data("slidenumber")),j(".rs-slider-id").val(_),i?j(".rs-slide-id").val("static_"+_):j(".rs-slide-id").val(t),j("#dialog_import_template_slide_from").dialog({modal:!0,resizable:!1,dialogClass:"tpdialogs",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Local:function(){j(".input_import_slider").val(""),j(".rs-import-slider-button").hide(),j("#dialog_import_template_slide").dialog({modal:!0,resizable:!1,width:600,height:350,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){j(this).dialog("close")}}})},Online:function(){rs_plugin_validated?(O({fadeIn:300,text:q.please_wait_a_moment}),a(),j("#rs-import-slide-template-from-server").submit(),j(this).dialog("close")):alert(q.this_feature_only_if_activated)}}}),j("#close-template").click())}),j("#dialog_import_template_slide").submit(function(e){a()});var a=function(){j("#import_dialog_box").html(""),j("#dialog_import_template_slide_info").dialog({modal:!0,resizable:!1,width:450,minHeight:350,open:function(e,t){var i=j(e.target).parent(),a=i.find(".ui-dialog-titlebar");i.attr("id","tp_import_sliders"),a.attr("id","tp_import_sliders_title"),installclosebutton=j(".ui-dialog-titlebar-close",t.dialog),j(".ui-dialog-titlebar-close",t.dialog).hide()}});var e=0;j("#import_dialog_box").append(j("#import_dialog_box").data("requested_slide"));var t=setInterval(function(){60==++e&&j("#import_dialog_box_action").append(q.download_install_takes_longer),90==e&&(j("#import_dialog_box").append(q.download_failed_check_server),j("#import_dialog_box").append("<div>"+q.aborting_import+"</div>"),j("#import_dialog_box_action").html(""),clearInterval(t))},1e3)};j(".tp-accordion").click(function(){var e=j(this);e.hasClass("tpa-closed")?(e.parent().parent().parent().find(".tp-closeifotheropen").each(function(){j(this).slideUp(300),j(this).parent().find(".tp-accordion").addClass("tpa-closed").addClass("box_closed").find(".postbox-arrow2").html("+")}),e.parent().find(".toggled-content").slideDown(300),e.removeClass("tpa-closed").removeClass("box_closed"),e.find(".postbox-arrow2").html("-")):(e.parent().find(".toggled-content").slideUp(300),e.addClass("tpa-closed").addClass("box_closed"),e.find(".postbox-arrow2").html("+"))}),j(".mw960").each(function(){var e=j("#divLayers").width();e<960&&(e=960),j(this).css({maxWidth:e+"px"})}),j("#button_sort_depth").on("click",function(){j(".layer_sortbox").addClass("depthselected"),j(".layer_sortbox").removeClass("timeselected")}),j("#button_sort_time").on("click",function(){j(".layer_sortbox").removeClass("depthselected"),j(".layer_sortbox").addClass("timeselected")}),j("#link_add_slide").click(function(){var e={sliderid:_};j("#loader_add_slide").show(),I.ajaxRequest("add_slide_fromslideview",e)}),j("#link_add_bulk_slide").click(function(){I.openAddImageDialog(q.add_bulk_slides,function(e){var t={sliderid:_,obj:e};I.ajaxRequest("add_bulk_slide",t)},!0)}),j("body").on("click",".add_template_slide_item, .add_user_template_slide_item",function(){if(confirm(q.unsaved_data_will_be_lost_proceed)){var e={slider_id:_};e.slide_id=j(this).data("slideid"),e.redirect_id=i?"static_"+_:t,I.ajaxRequest("copy_slide_to_slider",e,function(){j("#close-template").click()})}}),j("body").on("click",".delete_user_template_slide_item",function(){if(confirm(q.delete_user_slide)){var e={slider_id:_};e.slide_id=j(this).data("slideid"),j(this).closest(".template_group_wrappers").remove(),I.ajaxRequest("delete_template_slide",e,function(){})}}),j("#button_save_slide").click(function(){s.saveEditSlide(t),R.set_save_needed(!1)}),j("#button_save_slide-tb").click(function(){s.saveEditSlide(t),R.set_save_needed(!1)}),j("#button_save_static_slide").click(function(){s.saveEditSlide(t,!0),R.set_save_needed(!1)}),j("#button_save_static_slide-tb").click(function(){s.saveEditSlide(t,!0),R.set_save_needed(!1)}),j("#button_change_image").click(function(){I.openAddImageDialog(q.select_slide_img,function(e,t){null==t&&(t=""),j("#divbgholder").css("background-image","url("+e+")"),j("#slide_selector .list_slide_links li.selected .slide-media-container ").css("background-image","url("+e+")"),j("#image_url").val(e),j("#image_id").val(t),R.changeSlotBGs(),j(".bgsrcchanger:checked").click(),j('input[name="kenburn_effect"]').is(":checked")&&j('input[name="kb_start_fit"]').change()})}),j(".button_change_video").click(function(){var i=j(this).data("inptarget");j(".ui-dialog.ui-widget:visible,.ui-widget-overlay:visible").addClass("temporaryHidden").hide(),I.openAddVideoDialog(q.select_slide_video,function(e,t){j(".temporaryHidden").removeClass("temporaryHidden").show(),j('input[name="'+i+'"]').val(e),j("#"+i).trigger("change")})}),j("#link_hide_options").click(function(){1==j("#slide_params_holder").is(":visible")?(j("#slide_params_holder").hide("slow"),j(this).text(q.show_slide_opt).addClass("link-selected")):(j("#slide_params_holder").show("slow"),j(this).text(q.hide_slide_opt).removeClass("link-selected"))}),j("#button_preview_slide").click(function(){h(t,!0)}),j("#button_preview_slide-tb").click(function(){h(t,!0)}),j("#radio_back_image, #radio_back_trans, #radio_back_solid, #radio_back_external, #radio_back_youtube, #radio_back_htmlvideo").click(function(){var e=j("#background_type").val(),t=j(this).data("bgtype");if(e==t)return!0;"image"==t?j("#button_change_image").removeClass("button-disabled"):j("#button_change_external").addClass("button-disabled"),"solid"==t?j("#slide_bg_color").removeClass("disabled").prop("disabled",""):j("#slide_bg_color").addClass("disabled").prop("disabled","disabled"),"external"==t?(j("#slide_bg_external").removeClass("disabled").prop("disabled",""),j("#button_change_image").removeClass("button-disabled"),j("#button_change_external").removeClass("button-disabled")):(j("#slide_bg_external").addClass("disabled").prop("disabled","disabled"),j("#button_change_external").addClass("button-disabled")),j("#background_type").val(t),m(t)}),j("#button_change_external").click(function(){var e=j("#radio_back_external:checked").data("bgtype");"external"==e&&(j("#slide_bg_external").removeClass("disabled").prop("disabled",""),j("#button_change_image").removeClass("button-disabled"),m(e),j('input[name="kenburn_effect"]').is(":checked")&&j('input[name="kb_start_fit"]').change(),R.changeSlotBGs())}),I.setColorPickerCallback(function(){if("solid"==j("#background_type").val()){var e=j("#slide_bg_color").val();j("#divbgholder").css("background-color",e),j("#slide_selector .list_slide_links li.selected .slide-media-container ").css({backgroundColor:e})}}),j("#title").on("input",function(e){j(".slide_title").text(j("#title").val())}),j(".list_slide_links").sortable({items:"li:not(.eg-drag-disabled)",update:function(){e(_)}});var e=function(e){var t=j(".list_slide_links").sortable("toArray"),a=[];j(t).each(function(e,t){var i=t.replace("slidelist_item_","");a.push(i)});var i={arrIDs:a,sliderID:e};j("#loader_add_slide").show(),I.ajaxRequest("update_slides_order",i,function(){j("#loader_add_slide").hide()})};j(".inputDatePicker").datepicker({dateFormat:"dd-mm-yy 00:00"}),j("#button_delete_slide").click(function(){var e={slideID:t,sliderID:_};if(0==confirm(g_messageDeleteSlide))return!1;I.ajaxRequest("delete_slide",e)}),"false"==j('input[name="load_googlefont"]:checked').val()&&(j("#load_googlefont_row").siblings(".spanSettingsStaticText").remove(),j("#load_googlefont_row").remove(),j("#google_font_row").remove(),j("#load_googlefont").closest(".postbox.unite-postbox").hide()),j("body").on("click",".slide-remove",function(){var e=j(this).closest("li").attr("id").replace("slidelist_item_",""),t={slideID:e,sliderID:_};if(0==confirm("Delete this slide?"))return!1;var i=j(this),a=i.siblings(".loader_delete");i.hide(),a.show();var s=j(this).closest("li"),l=curSlideID==e?"delete_slide":"delete_slide_stay";I.ajaxRequest(l,t,function(e){s.remove()})}),j("body").on("click",".slide-published.pubclickable, .slide-unpublished.pubclickable",function(){var t=j(this).closest("li"),i=t.attr("id").replace("slidelist_item_",""),e={slider_id:_,slide_id:i};return objButton=j(this),t.find(".slide-published").fadeOut(200),t.find(".slide-unpublished").fadeOut(200),I.ajaxRequest("toggle_slide_state",e,function(e){"published"==e.state?(t.find(".slide-published").removeClass("pubclickable").fadeIn(200),t.find(".slide-unpublished").addClass("pubclickable").fadeIn(200),curSlideID==i&&j('select[name="state"] option[value="published"]').attr("selected",!0)):(t.find(".slide-published").addClass("pubclickable").fadeIn(200),t.find(".slide-unpublished").removeClass("pubclickable").fadeIn(200),curSlideID==i&&j('select[name="state"] option[value="unpublished"]').attr("selected",!0))}),!1}),j("body").on("click",".slide-hero-unpublished.pubclickable",function(){var t=j(this).closest("li"),i=j(this).closest("ul"),e=t.attr("id").replace("slidelist_item_",""),a={slider_id:_,slide_id:e};return objButton=j(this),I.ajaxRequest("toggle_hero_slide",a,function(e){i.find(".slide-hero-published").removeClass("slide-hero-published").addClass("slide-hero-unpublished").addClass("pubclickable"),t.find(".slide-hero-unpublished").removeClass("pubclickable").removeClass("slide-hero-unpublished").addClass("slide-hero-published")}),!1}),j("body").on("click",".slide-duplicate",function(){var s=j(this).closest("li"),l=s.attr("id").replace("slidelist_item_",""),o=j(this);o.hide();var e={slideID:l,sliderID:_};I.ajaxRequest("duplicate_slide_stay",e,function(e){if(o.show(),1==e.success){var t=s.clone(!0).insertAfter(s);t.attr("id","slidelist_item_"+e.id),t.hasClass("selected")&&(t.removeClass("selected"),j('<a href="#" class="slide-link-toolbar-button slide-moveto"><span class=""><i class="eg-icon-forward"></i><span>'+q.copy_move+"</span></span></a>").insertAfter(t.find(".slide-remove")));var i=t.find("a").first().attr("href");i="javascript:void(0)"==i?"?page=revslider&view=slide&id="+e.id:i.replace("id="+l,"id="+e.id),t.find("a").first().attr("href",i);var a=0;j(".list_slide_links li").each(function(){j(this).find(".slide-link-nr").text("#"+a),a++})}})}),j("body").on("click",".slide-moveto",function(){var s=j(this).closest("li"),l=j(this),e=j("#dialog_copy_move"),t=(e.data("textclose"),e.data("textupdate")),i=(l=j(this),{});i[t]=function(){var e=s.attr("id").replace("slidelist_item_",""),t=j("#selectSliders").val(),i="copy";!j("#radio_move").prop("checked")&&1!=j("#radio_move").prop("checked")||(i="move");var a={slideID:e,sliderID:_,targetSliderID:t,operation:i};l.siblings(".loader_copy");l.hide(),I.ajaxRequest("copy_move_slide_stay",a,function(e){l.show(),"move"==i&&s.remove()}),j(this).dialog("close")},j("#dialog_copy_move").dialog({modal:!0,resizable:!1,width:400,height:300,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){j(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:i})}),j("body").on("click",".slide-add-as-template",function(){if(confirm(q.unsaved_changes_will_not_be_added)){var e=j(this).closest("li"),t=prompt(q.please_enter_a_slide_title,e.find(".slidetitleinput").val()),i=j('input[name="rs-grid-width"]').val(),a=j('input[name="rs-grid-height"]').val(),s=e.attr("id").replace("slidelist_item_",""),l={width:i,height:a};if(null!=t){var o=j(this);o.hide();var r={slideID:s,title:t,settings:l};I.ajaxRequest("add_slide_to_template",r,function(e){o.show(),j("#template_area").replaceWith(e.HTML),templateSelectorHandling()})}}}),j("#rev_lang_list").delegate(".icon_slide_lang, .icon_slide_lang_add","click",function(e){e.stopPropagation();var t=I.getAbsolutePos(this),i=t[0]-135,a=t[1]-60,s=j(this),l=s.data("operation"),o=s.data("isparent");"add"==l?j("#langs_float_wrapper .item_operation").hide():(j("#langs_float_wrapper .item_operation").show(),1==o&&j("#langs_float_wrapper .item_operation.operation_delete").hide());var r=s.parents(".list_slide_icons");p(r,l),j("#langs_float_wrapper").show().css({left:i,top:a}),j("#langs_float_wrapper").data("iconid",this.id)}),j("body").click(function(){j("#langs_float_wrapper").hide()}),j("#slides_langs_float li a").click(function(){var e=j(this),t=e.data("lang"),i=j("#langs_float_wrapper").data("iconid");if(!i)return!0;var a=j("#"+i),s=a.parents(".list_slide_icons"),l=e.data("operation");null!=l&&l||(l=a.data("operation")),null!=l&&l||(l="update");var o=a.data("lang"),r=a.data("slideid"),n=a.data("origid");if(o==t)return!0;if("preview"!=l&&(a.siblings(".icon_lang_loader").show(),a.hide()),"edit"==l){var d=g_patternViewSlide.replace("[slideid]",r);return location.href=d,!0}if("preview"==l)return u(_),!0;"delete"!=l&&"update"!=l||(n=r);var c={sliderid:_,slideid:n,lang:t,operation:l};I.ajaxRequest("slide_lang_operation",c,function(e){switch(a.siblings(".icon_lang_loader").hide(),e.operation){case"update":a.attr("src",e.url_icon),a.attr("title",e.title),a.data("lang",t),a.show(),n==curSlideID&&(j('select[name="lang"] option[value="'+t+'"]').attr("selected",!0),j('select[name="lang"]').change());break;case"add":a.show(),a.parent().before(e.html),1==e.isAll&&s.find(".icon_slide_lang_add").hide();break;case"delete":a.parent().remove(),s.find(".icon_slide_lang_add").show()}})}),j(".tp-moderncheckbox").each(function(){S.onoffStatus(j(this))}),S.onoffStatus(j('input[name="hideslideonmobile"]')),S.onoffStatus(j('input[name="stream_do_cover"]')),S.onoffStatus(j('input[name="stream_do_cover_both"]')),S.onoffStatus(j('input[name="kenburn_effect"]')),S.onoffStatus(j('input[name="save_performance"]')),S.onoffStatus(j('input[name="video_force_cover"]')),S.onoffStatus(j('input[name="video_nextslide"]')),S.onoffStatus(j('input[name="video_allowfullscreen"]')),S.onoffStatus(j('input[name="video_force_rewind"]')),S.onoffStatus(j('input[name="video_mute"]')),S.onoffStatus(j('input[name="thumb_for_admin"]')),j("#video_force_cover").change(function(){j(this).is(":checked")?j("#video_dotted_overlay_wrap").show():j("#video_dotted_overlay_wrap").hide()}),j("#video_force_cover").change()};var h=function(e,t){void 0===t&&(t=!0);var i=j("#rs-preview-form"),a={slideid:e};if(1==t){a.params=S.getSettingsObject("form_slide_params"),a.params.slide_bg_color=j("#slide_bg_color").val(),a.params.slide_bg_external=j("#slide_bg_external").val(),a.params.bg_fit=j("#slide_bg_fit").val(),a.params.bg_fit_x=j("input[name='bg_fit_x']").val(),a.params.bg_fit_y=j("input[name='bg_fit_y']").val(),a.params.bg_repeat=j("#slide_bg_repeat").val(),a.params.bg_position=j("#slide_bg_position").val(),a.params.bg_position_x=j("input[name='bg_position_x']").val(),a.params.bg_position_y=j("input[name='bg_position_y']").val(),a.params.bg_end_position_x=j("input[name='bg_end_position_x']").val(),a.params.bg_end_position_y=j("input[name='bg_end_position_y']").val(),a.params.kenburn_effect=j("input[name='kenburn_effect']").is(":checked")?"on":"off",a.params.kb_start_fit=j("input[name='kb_start_fit']").val(),a.params.kb_end_fit=j("input[name='kb_end_fit']").val(),a.params.bg_end_position=j("select[name='bg_end_position']").val(),a.params.kb_duration=j("input[name='kb_duration']").val(),a.params.kb_easing=j("select[name='kb_easing']").val();var s=R.getLayers(),l={};for(key in s)s.hasOwnProperty(key)&&!0!==s[key].layer_unavailable&&!0!==s[key].deleted&&(l[key]=I.duplicateObject(s[key]),void 0!==l[key].layer_unavailable&&delete l[key].layer_unavailable,void 0!==l[key].deleted&&delete l[key].deleted,void 0!==l[key].references&&delete l[key].references,void 0!==l[key].createdOnInit&&delete l[key].createdOnInit);a.layers=l}var o=JSON.stringify(a);j("#preview-slide-data").val(o),j("#rs-client-action").val("preview_slide"),i.submit(),j("#rs-preview-wrapper").show(),j(window).trigger("resize")},m=function(e){switch(e){case"image":var t=j("#image_url").val();j("#divbgholder").css("background-image","url('"+t+"')"),j("#divbgholder").css("background-color","transparent"),j("#divbgholder").removeClass("trans_bg"),j('input[name="kenburn_effect"]').is(":checked")&&j('input[name="kb_start_fit"]').change();break;case"trans":j("#divbgholder").css("background-image","none"),j("#divbgholder").css("background-color","transparent"),j("#divbgholder").addClass("trans_bg");break;case"solid":j("#divbgholder").css("background-image","none"),j("#divbgholder").removeClass("trans_bg");var i=j("#slide_bg_color").val();j("#divbgholder").css("background-color",i),j("#slide_selector .list_slide_links li.selected .slide-media-container ").css({backgroundColor:i});break;case"external":t=j("#slide_bg_external").val();j("#divbgholder").css("background-image","url('"+t+"')"),j("#divbgholder").css("background-color","transparent"),j("#divbgholder").removeClass("trans_bg"),j('input[name="kenburn_effect"]').is(":checked")&&j('input[name="kb_start_fit"]').change();break;case"youtube":case"html5":t=j("#image_url").val();j("#divbgholder").css("background-image","url('"+t+"')"),j("#divbgholder").css("background-color","transparent"),j("#divbgholder").removeClass("trans_bg")}},g=function(){var e=new Object;return e.bg_fit=j("#slide_bg_fit").val(),"percentage"==e.bg_fit&&(e.bg_fit_x=j('input[name="bg_fit_x"]').val(),e.bg_fit_y=j('input[name="bg_fit_y"]').val()),e.bg_position=j("#slide_bg_position").val(),"percentage"==e.bg_position&&(e.bg_position_x=j('input[name="bg_position_x"]').val(),e.bg_position_y=j('input[name="bg_position_y"]').val()),e.bg_end_position=j("#slide_bg_end_position").val(),"percentage"==e.bg_end_position&&(e.bg_end_position_x=j('input[name="bg_end_position_x"]').val(),e.bg_end_position_y=j('input[name="bg_end_position_y"]').val()),e.bg_repeat=j("#slide_bg_repeat").val(),e},v=null,b=null,w=null,k=null,y=null;s.setStaticCssCaptionsUrl=function(e){y=e},s.getUrlStaticCssCaptions=function(){return y},s.initGlobalStyles=function(){x(),C()},s.setCodeMirrorStaticEditor=function(){b=D.fromTextArea(document.getElementById("textarea_edit_static"),{lineNumbers:!0})},s.setCodeMirrorSliderEditor=function(){w=D.fromTextArea(document.getElementById("textarea_show_slider_styles"),{lineNumbers:!0})},s.setCodeMirrorSliderEditorJS=function(){k=D.fromTextArea(document.getElementById("textarea_show_slider_javascript"),{lineNumbers:!0})},s.setCodeMirrorDynamicEditor=function(){null!=document.getElementById("textarea_show_dynamic_styles")&&(v=D.fromTextArea(document.getElementById("textarea_show_dynamic_styles"),{lineNumbers:!0,readOnly:!0}))};var x=function(){j("#css-static-accordion").accordion({heightStyle:"content",activate:function(e,t){null!=w&&w.refresh(),null!=k&&k.refresh(),null!=b&&b.refresh(),null!=v&&v.refresh()}})},C=function(){j("#button_edit_css_global").click(function(){j("#css-static-accordion").accordion({active:1}),I.ajaxRequest("get_slider_custom_css_js",{slider_id:curSliderID},function(e){var t=e.css,i=e.js;null!=w?w.setValue(t):(j("#textarea_show_slider_styles").val(t),setTimeout(function(){B.setCodeMirrorSliderEditor()},500)),null!=k?k.setValue(i):(j("#textarea_show_slider_javascript").val(i),setTimeout(function(){B.setCodeMirrorSliderEditorJS()},500))},!1),I.ajaxRequest("get_static_css","",function(e){var t=e.data;null!=b?b.setValue(t):(j("#textarea_edit_static").val(t),setTimeout(function(){B.setCodeMirrorStaticEditor()},500))}),I.ajaxRequest("get_dynamic_css","",function(e){var t=e.data;null!=v?v.setValue(t):(j("#textarea_show_dynamic_styles").val(t),setTimeout(function(){B.setCodeMirrorDynamicEditor()},500))}),j("#css_slider_editor_wrap").dialog({modal:!0,dialogClass:"tpdialogs",resizable:!1,minWidth:1024,minHeight:500,closeOnEscape:!0,create:function(e){},open:function(){j(this).closest(".ui-dialog").addClass("tp-css-editor-dialog"),j(this).closest(".ui-dialog").find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Save:function(){var e={};e.css=null!=w?w.getValue():j("#textarea_show_slider_styles").val(),e.js=null!=k?k.getValue():j("#textarea_show_slider_javascript").val(),e.slider_id=curSliderID,I.ajaxRequest("update_slider_custom_css_js",e,function(e){}),j(this).dialog("close")}}})}),j(".show_global_styles").click(function(){x(),j("#css_static_editor_wrap").dialog({modal:!0,resizable:!1,minWidth:1224,minHeight:600,closeOnEscape:!0,dialogClass:"tpdialogs tp-css-editor-dialog tp-depricated-dialog",buttons:{"Empty Global Styles":function(){if(!confirm(q.really_clear_global_styles))return!1;data="",I.ajaxRequest("update_static_css",data,function(e){null!=b?b.setValue(""):j("#textarea_edit_static").val("")})},Cancel:function(){j(this).dialog("close")}}})})}};return B});