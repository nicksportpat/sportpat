define("editLayers",["jquery","tpColorPicker","themepunchTools","loading","wpUtil","perfectScrollbar","contextMenu","admin","editLayersTimeline","revSettings","cssEditor"],function(jQuery,tpColorPicker,punchgs,showWaitAMinute,wpUtil,perfectScrollbar,tpLayerContextMenu,UniteAdminRev,tpLayerTimelinesRev,RevSliderSettings,UniteCssEditorRev){var La;!function(t){"use strict";function q(e,t,r,a){var i;return(r=r||M(e,null))?i=(e=r.getPropertyValue(t.replace(o,"-$1").toLowerCase()))||r.length?e:r[t]:e.currentStyle&&(i=(r=e.currentStyle)[t]),a?i:parseInt(i,10)||0}function s(e){return!!(e.length&&e[0]&&(e[0].nodeType&&e[0].style&&!e.nodeType||e[0].length&&e[0][0]))}function H(e){var t=-1!==(e=e||"").indexOf("++"),r=1;return t&&(e=e.split("++").join("")),function(){return a+(e?" class='"+e+(t?r++:"")+"'>":">")}}function r(e,t,r,a,i){G.test(e.innerHTML)&&(e.innerHTML=e.innerHTML.replace(G,W));var o,s,n,l,d,y,u,c,_,m,p,v,g,h=N(e),f=t.type||t.split||"chars,words,lines",j=-1!==f.indexOf("lines")?[]:null,b=-1!==f.indexOf("words"),Q=-1!==f.indexOf("chars"),k="absolute"===t.position||!0===t.absolute,w=k?"&#173; ":" ",x=-999,L=M(e),C=q(e,"paddingLeft",L),S=q(e,"borderBottomWidth",L)+q(e,"borderTopWidth",L),I=q(e,"borderLeftWidth",L)+q(e,"borderRightWidth",L),z=q(e,"paddingTop",L)+q(e,"paddingBottom",L),A=q(e,"paddingLeft",L)+q(e,"paddingRight",L),E=q(e,"textAlign",L,!0),T=e.clientHeight,B=e.clientWidth,R=h.length,V="</div>",O=H(t.wordsClass),F=H(t.charsClass),P=-1!==(t.linesClass||"").indexOf("++"),D=t.linesClass;for(P&&(D=D.split("++").join("")),n=O(),l=0;l<R;l++)")"===(y=h.charAt(l))&&h.substr(l,20)===W?(n+=V+"<BR/>",l!==R-1&&(n+=" "+O()),l+=19):" "===y&&" "!==h.charAt(l-1)&&l!==R-1?(n+=V,l!==R-1&&(n+=w+O())):n+=Q&&" "!==y?F()+y+"</div>":y;for(e.innerHTML=n+V,R=(d=e.getElementsByTagName("*")).length,u=[],l=0;l<R;l++)u[l]=d[l];if(j||k)for(l=0;l<R;l++)((s=(c=u[l]).parentNode===e)||k||Q&&!b)&&(_=c.offsetTop,j&&s&&_!==x&&"BR"!==c.nodeName&&(o=[],j.push(o),x=_),k&&(c._x=c.offsetLeft,c._y=_,c._w=c.offsetWidth,c._h=c.offsetHeight),j&&(b!==s&&Q||(o.push(c),c._x-=C),s&&l&&(u[l-1]._wordEnd=!0)));for(l=0;l<R;l++)s=(c=u[l]).parentNode===e,"BR"!==c.nodeName?(k&&(p=c.style,b||s||(c._x+=c.parentNode._x,c._y+=c.parentNode._y),p.left=c._x+"px",p.top=c._y+"px",p.position="absolute",p.display="block",p.width=c._w+1+"px",p.height=c._h+"px"),b?s?a.push(c):Q&&r.push(c):s?(e.removeChild(c),u.splice(l--,1),R--):!s&&Q&&(_=!j&&!k&&c.nextSibling,e.appendChild(c),_||e.appendChild(U.createTextNode(" ")),r.push(c))):j||k?(e.removeChild(c),u.splice(l--,1),R--):b||e.appendChild(c);if(j){for(k&&(m=U.createElement("div"),e.appendChild(m),v=m.offsetWidth+"px",_=m.offsetParent===e?0:e.offsetLeft,e.removeChild(m)),p=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(g=!k||!b&&!Q,l=0;j.length>l;l++){for(o=j[l],(m=U.createElement("div")).style.cssText="display:block;text-align:"+E+";position:"+(k?"absolute;":"relative;"),D&&(m.className=D+(P?l+1:"")),i.push(m),R=o.length,d=0;d<R;d++)"BR"!==o[d].nodeName&&(c=o[d],m.appendChild(c),g&&(c._wordEnd||b)&&m.appendChild(U.createTextNode(" ")),k&&(0===d&&(m.style.top=c._y+"px",m.style.left=C+_+"px"),c.style.top="0px",_&&(c.style.left=c._x-_+"px")));b||Q||(m.innerHTML=N(m).split(String.fromCharCode(160)).join(" ")),k&&(m.style.width=v,m.style.height=c._h+"px"),e.appendChild(m)}e.style.cssText=p}k&&(T>e.clientHeight&&(e.style.height=T-z+"px",T>e.clientHeight&&(e.style.height=T+S+"px")),B>e.clientWidth&&(e.style.width=B-A+"px",B>e.clientWidth&&(e.style.width=B+I+"px")))}var i=t.GreenSockGlobals||t,e=function(e){var t,r=e.split("."),a=i;for(t=0;r.length>t;t++)a[r[t]]=a=a[r[t]]||{};return a}("com.greensock.utils"),N=function(e){var t=e.nodeType,r="";if(1===t||9===t||11===t){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=N(e)}else if(3===t||4===t)return e.nodeValue;return r},U=document,M=U.defaultView?U.defaultView.getComputedStyle:function(){},o=/([A-Z])/g,W=")eefec303079ad17405c",G=/(?:<br>|<br\/>|<br \/>)/gi,a="<div style='position:relative;display:inline-block;"+(U.all&&!U.addEventListener?"*display:inline;*zoom:1;'":"'"),n=e.SplitText=i.SplitText=function(e,t){if("string"==typeof e&&(e=n.selector(e)),!e)throw"cannot split a null element.";this.elements=s(e)?function(e){var t,r,a,i=[],o=e.length;for(t=0;t<o;t++)if(r=e[t],s(r))for(a=r.length,a=0;r.length>a;a++)i.push(r[a]);else i.push(r);return i}(e):[e],this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)},l=n.prototype;l.split=function(e){this.isSplit&&this.revert(),this.vars=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var t=0;this.elements.length>t;t++)this._originals[t]=this.elements[t].innerHTML,r(this.elements[t],this.vars,this.chars,this.words,this.lines);return this.isSplit=!0,this},l.revert=function(){if(!this._originals)throw"revert() call wasn't scoped properly.";for(var e=this._originals.length;-1<--e;)this.elements[e].innerHTML=this._originals[e];return this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},n.selector=t.$||t.jQuery||function(e){return t.$?(n.selector=t.$,t.$(e)):U?U.getElementById("#"===e.charAt(0)?e.substr(1):e):e}}(window||{}),La=jQuery,La.widget("ui.rotatable",La.ui.mouse,{options:{handle:!1,angle:!1,start:null,rotate:null,stop:null},handle:function(e){return void 0===e?this.options.handle:void(this.options.handle=e)},angle:function(e){return void 0===e?this.options.angle:(this.options.angle=e,void this.performRotation(this.options.angle))},_create:function(){var e;this.options.handle?e=this.options.handle:(e=La(document.createElement("div"))).addClass("ui-rotatable-handle"),this.listeners={rotateElement:La.proxy(this.rotateElement,this),startRotate:La.proxy(this.startRotate,this),stopRotate:La.proxy(this.stopRotate,this)},e.draggable({helper:"clone",start:this.dragStart,handle:e}),e.bind("mousedown",this.listeners.startRotate),e.appendTo(this.element),0!=this.options.angle?(this.elementCurrentAngle=this.options.angle,this.performRotation(this.elementCurrentAngle)):this.elementCurrentAngle=0},_destroy:function(){this.element.removeClass("ui-rotatable"),this.element.find(".ui-rotatable-handle").remove()},performRotation:function(e){var t=180*e/Math.PI;punchgs.TweenLite.set(this.element,{rotationZ:t+"deg"})},getElementOffset:function(){this.performRotation(0);var e=this.element.offset();return this.performRotation(this.elementCurrentAngle),e},getElementCenter:function(){var e=this.getElementOffset(),t=e.left+this.element.width()/2,r=e.top+this.element.height()/2;return Array(t,r)},dragStart:function(){return!this.element&&void 0},startRotate:function(e){var t=this.getElementCenter(),r=e.pageX-t[0],a=e.pageY-t[1];return this.mouseStartAngle=Math.atan2(a,r),this.elementStartAngle=this.elementCurrentAngle,this.hasRotated=!1,this._propagate("start",e),La(document).bind("mousemove",this.listeners.rotateElement),La(document).bind("mouseup",this.listeners.stopRotate),!1},rotateElement:function(e){if(!this.element)return!1;var t=this.getElementCenter(),r=e.pageX-t[0],a=e.pageY-t[1],i=Math.atan2(a,r)-this.mouseStartAngle+this.elementStartAngle;this.performRotation(i);var o=this.elementCurrentAngle;return this.elementCurrentAngle=i,this._propagate("rotate",e),o!=i&&(this._trigger("rotate",e,this.ui()),this.hasRotated=!0),!1},stopRotate:function(e){return this.element?(La(document).unbind("mousemove",this.listeners.rotateElement),La(document).unbind("mouseup",this.listeners.stopRotate),this.elementStopAngle=this.elementCurrentAngle,this.hasRotated&&this._propagate("stop",e),setTimeout(function(){this.element=!1},10),!1):void 0},_propagate:function(e,t){La.ui.plugin.call(this,e,[t,this.ui()]),"rotate"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{element:this.element,angle:{start:this.elementStartAngle,current:this.elementCurrentAngle,stop:this.elementStopAngle}}}}),jQuery(document).ready(function(){jQuery.widget("custom.catcomplete",jQuery.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(a,e){var i=this,o="";e&&jQuery.each(e,function(e,t){var r;t.version!=o&&(0<a.closest("#tp-thelistoffonts").length?a.append("<li class='ui-autocomplete-category' style='font-size: 24px;'>"+t.version+"</li>"):a.append("<li class='ui-autocomplete-category' style='font-size: 24px;'>Version: "+t.version+"</li>"),o=t.version),r=i._renderItemData(a,t),t.version&&r.attr("aria-label",t.version+" : "+t.label)})}})}),jQuery(document).ready(function(){"undefined"!=typeof tp_color_picker_presets&&tp_color_picker_presets||(tp_color_picker_presets={colors:[],gradients:[]}),tp_color_picker_presets.colors||(tp_color_picker_presets.colors=[]),tp_color_picker_presets.gradients||(tp_color_picker_presets.gradients=[]),jQuery.tpColorPicker({custom:tp_color_picker_presets,onAjax:function(e,t,r,a,i){var o=!1,s=tp_color_picker_presets[r];switch(e){case"save":s[s.length]=t,o=!0;break;case"delete":for(var n=s.length,l=0;l<n;l++)for(var d in s[l])d===t&&s.splice(l,1);o=!0}o&&UniteAdminRev.ajaxRequest("save_color_preset",{presets:tp_color_picker_presets},function(e){var t=e.error||!1;jQuery(document).trigger(a,[t])})}})});var UniteLayersRev=new function(){var initTop=100,initLeft=100,initSpeed=300,initTopVideo=20,initLeftVideo=20,g_startTime=500,g_stepTime=0,g_slideTime,initText="Caption Text",initGroupName="Group",initRowName="Row",initColumnName="Column",layout="desktop",transSettings=[],t=this,u=tpLayerTimelinesRev,cm=tpLayerContextMenu,initArrFontTypes=[],containerID="#divLayers",container,update_layer_changes=!0,id_counter=0,initLayers=null,initDemoLayers=null,initStaticLayers=[],initDemoSettings=null,layerresized=!1,layerGeneralParamsStatus=!1,initLayerAnims=[],initLayerAnimsDefault=[],currentAnimationType="customin",curDemoSlideID=0,slideIDs={},alluniqueids=[],selectedLayerWidth=0,selectedlayerHeight=0,totalWidth=0,totalHeight=0,unique_layer_id=0,global_action_template=null,global_layer_import_template=null,updateRevTimer=0,updateRevChange=0,save_needed=!1,import_slides={},lastchangedinput="";t.core=5,t.sub=3,t.subsub=0,t.newlayercoord={x:-1,y:-1},u.layout=layout,t.groupMove={x:0,y:0},t.selectedLayerSerial=-1,t.selectedLayers=new Array,t.justDropped=!1,t.arrLayers={},t.arrLayersClone={},t.arrLayersDemo={},t.arrLayersChanges={undo:[],redo:[]},t.ignorAllUndoRedoLogs=!1,t.attributegroups=[{id:"0",icon:"move",groupname:"Layer Position",keys:["left.desktop","top.desktop","align_hor.desktop","align_vert.desktop","left.notebook","top.notebook","align_hor.notebook","align_vert.notebook","left.tablet","top.tablet","align_hor.tablet","align_vert.tablet","left.mobile","top.mobile","align_hor.mobile","align_vert.mobile"]},{id:"1",icon:"play",groupname:"Start Animation",keys:["x_rotate_start","x_rotate_start_reverse","x_start","x_start_reverse","y_rotate_start","y_rotate_start_reverse","y_start","y_start_reverse","z_rotate_start","z_rotate_start_reverse","z_start"]},{id:"2",icon:"play",groupname:"End Animation",keys:["x_end","x_end_reverse","x_origin_end","x_rotate_end","x_rotate_end_reverse","y_end","y_end_reverse","y_rotate_end","y_rotate_end_reverse","z_end","z_rotate_end","z_rotate_end_reverse"]},{id:"31",icon:"play",groupname:"Frames",keys:["splitdelay","animation","split","split_extratime","relative_time","easing","speed","time"]},{id:"3",icon:"play",groupname:"Loop Animation",keys:["loop_angle","loop_animation","loop_easing","loop_enddeg","loop_radius","loop_speed","loop_startdeg","loop_xend","loop_xorigin","loop_xstart","loop_yend","loop_yorigin","loop_ystart","loop_zoomend","loop_zoomstart"]},{id:"4",icon:"play",groupname:"Mask Animation",keys:["mask_ease_end","mask_ease_start","mask_end","mask_speed_end","mask_speed_start","mask_start","mask_x_end","mask_x_end_reverse","mask_x_start","mask_x_start_reverse","mask_y_end","mask_y_end_reverse","mask_y_start","mask_y_start_reverse"]},{id:"5",icon:"font",groupname:"Formatting",keys:["displaymode.desktop","displaymode.notebook","displaymode.tablet","displaymode.mobile","autolinebreak","whitespace.desktop","whitespace.notebook","whitespace.tablet","whitespace.mobile","html_tag","layer-selectable"]},{id:"6",icon:"cog",groupname:"Behavior",keys:["basealign","lazy-load","resizeme","resize-full","responsive_offset"]},{id:"7",icon:"eye",groupname:"Visibilty",keys:["hiddenunder","visible-desktop","visible-notebook","visible-tablet","visible-mobile","show-on-hover"]},{id:"8",icon:"resize-full",groupname:"Sizing",keys:["scaleProportional","video_data.fullwidth","video_data.cover","originalWidth","originalHeight","cover_mode","height","width","image-size","video_height.desktop","video_height.notebook","video_height.tablet","video_height.mobile","video_width.desktop","video_width.notebook","video_width.tablet","video_width.mobile","max_height.desktop","max_height.notebook","max_height.tablet","max_height.mobile","min_height.desktop","min_height.notebook","min_height.tablet","min_height.mobile","max_width.desktop","max_width.notebook","max_width.tablet","max_width.mobile","scaleX.desktop","scaleX.notebook","scaleX.tablet","scaleX.mobile","scaleY.desktop","scaleY.notebook","scaleY.tablet","scaleY.mobile"]},{id:"9",icon:"font",groupname:"Naming and Alias",keys:["text","alias"]},{id:"30",icon:"resize-vertical",groupname:"Order",keys:["order","p_uid"]},{id:"10",icon:"cancel",groupname:"Deleted",keys:["deleted"]},{id:"11",icon:"plus",groupname:"Created",keys:["layer_unavailable"]},{id:"12",icon:"link",groupname:"Source",keys:["svg.src","image_url"]},{id:"13",icon:"star",groupname:"SVG Style",keys:["svg.svgstroke-color","svg.svgstroke-dasharray","svg.svgstroke-dashoffset","svg.svgstroke-width","svg.svgstroke-hover-color","svg.svgstroke-hover-dasharray","svg.svgstroke-hover-dashoffset","svg.svgstroke-hover-transparency","svg.svgstroke-hover-width"]},{id:"14",icon:"palette",groupname:"Main Styling",keys:["static_styles.color.desktop","static_styles.color.notebook","static_styles.color.tablet","static_styles.color.mobile","static_styles.font-size.desktop","static_styles.font-size.notebook","static_styles.font-size.tablet","static_styles.font-size.mobile","static_styles.font-weight.desktop","static_styles.font-weight.notebook","static_styles.font-weight.tablet","static_styles.font-weight.mobile","static_styles.line-height.desktop","static_styles.line-height.notebook","static_styles.line-height.tablet","static_styles.line-height.mobile"]},{id:"15",icon:"thumbs-up",groupname:"Layer Action",keys:["layer_action","layer_action.action","layer_action.action_delay","layer_action.actioncallback","layer_action.image_link","layer_action.jump_to_slide","layer_action.jump_to_slide","layer_action.link_open_in","layer_action.link_type","layer_action.scrollunder_offset","layer_action.toggle_class","layer_action.toggle_layer_type","layer_action.tooltip_event"]},{id:"16",icon:"droplet",groupname:"Styling Text",keys:["deformation.color-transparency","deformation.font-family","deformation.font-style","deformation.opacity","deformation.text-align","deformation.vertical-align","deformation.display","deformation.text-decoration"]},{id:"17",icon:"droplet",groupname:"Styling Padding",keys:["deformation.padding","deformation.padding.0","deformation.padding.1","deformation.padding.2","deformation.padding.3"]},{id:"17",icon:"droplet",groupname:"Styling Margin",keys:["margin.desktop","margin.notebook","margin.tablet","margin.mobile"]},{id:"18",icon:"droplet",groupname:"Styling Corners",keys:["deformation.corner_left","deformation.corner_right"]},{id:"19",icon:"droplet",groupname:"Styling Background",keys:["deformation.background-color","deformation.background-transparency"]},{id:"20",icon:"droplet",groupname:"Styling Border",keys:["deformation.border-color","deformation.border-radius.0","deformation.border-radius.1","deformation.border-radius.2","deformation.border-radius.3","deformation.border-style","deformation.border-transparency","deformation.border-width"]},{id:"21",icon:"droplet",groupname:"Styling Transforms",keys:["deformation.2d_origin_x","deformation.2d_origin_y","deformation.parallax","deformation.pers","deformation.scalex","deformation.scaley","deformation.skewx","deformation.skewy","deformation.text-transform","deformation.x","deformation.xrotate","deformation.y","deformation.yrotate","deformation.z"]},{id:"22",icon:"droplet",groupname:"Styling Hover",keys:["hover","deformation-hover.css_cursor","deformation-hover.easing"]},{id:"23",icon:"droplet",groupname:"Styling Hover Text",keys:["deformation-hover.color","deformation-hover.color-transparency","deformation-hover.font-family","deformation-hover.font-style","deformation-hover.opacity","deformation-hover.text-align","deformation-hover.vertical-align","deformation-hover.text-decoration"]},{id:"24",icon:"droplet",groupname:"Styling Hover Padding",keys:["deformation-hover.padding","deformation-hover.padding.0","deformation-hover.padding.1","deformation-hover.padding.2","deformation-hover.padding.3"]},{id:"24",icon:"droplet",groupname:"Styling Hover Margin",keys:["deformation-hover.margin","deformation-hover.margin.0","deformation-hover.margin.1","deformation-hover.margin.2","deformation-hover.margin.3"]},{id:"25",icon:"droplet",groupname:"Styling Hover Corners",keys:["deformation-hover.corner_left","deformation-hover.corner_right"]},{id:"26",icon:"droplet",groupname:"Styling Hover Background",keys:["deformation-hover.background-color","deformation-hover.background-transparency"]},{id:"27",icon:"droplet",groupname:"Styling Hover Border",keys:["deformation-hover.border-color","deformation-hover.border-radius.0","deformation-hover.border-radius.1","deformation-hover.border-radius.2","deformation-hover.border-radius.3","deformation-hover.border-style","deformation-hover.border-transparency","deformation-hover.border-width"]},{id:"28",icon:"droplet",groupname:"Styling Hover Transforms",keys:["deformation-hover.2d_origin_x","deformation-hover.2d_origin_y","deformation-hover.parallax","deformation-hover.pers","deformation-hover.scalex","deformation-hover.scaley","deformation-hover.skewx","deformation-hover.skewy","deformation-hover.text-transform","deformation-hover.x","deformation-hover.xrotate","deformation-hover.y","deformation-hover.yrotate","deformation-hover.z"]},{id:"29",icon:"video",groupname:"Video/Audo Settings",keys:["video_data.urlAudio","video_data.previewimage","video_data.link","video_data.thumb_medium.url","video_type","video_data.id","video_data.video_type","video_data.title","video_data.author","video_data.description","video_data.args","video_data.autoplay","video_data.nextslide","video_data.forcerewind","video_data.controls","video_data.mute","video_data.stopallvideo","video_data.allowfullscreen","video_data.videoloop","video_data.show_cover_pause","video_data.start_at","video_data.end_at","video_data.volume","video_data.desc_small","video_data.thumb_small.url","video_data.thumb_small.width","video_data.thumb_small.height","video_data.thumb_medium.width","video_data.thumb_medium.height","video_data.video_height"]},{id:"30",icon:"droplet",groupname:"Styling Hover Pointer Events",keys:["deformation-hover.pointer_events"]}],t.addon_callbacks=[],t.set_save_needed=function(e){save_needed=e},t.ulff_core=0,t.setGlobalAction=function(e){global_action_template=e},t.setGlobalSlideImport=function(e){global_layer_import_template=e},t.getLayout=function(){return layout},t.setInitSlideIds=function(e){slideIDs=jQuery.parseJSON(e)},t.setInitLayersJson=function(e){initLayers=jQuery.parseJSON(e)},t.setInitStaticLayersJson=function(e){initStaticLayers=jQuery.parseJSON(e)},t.setInitDemoLayersJson=function(e){initDemoLayers=jQuery.parseJSON(e)},t.setInitDemoSettingsJson=function(e){initDemoSettings=jQuery.parseJSON(e)},t.setInitLayerAnim=function(e){initLayerAnims=jQuery.parseJSON(e)},t.setInitLayerAnimsDefault=function(e){initLayerAnimsDefault=jQuery.parseJSON(e)},t.setInitTransSetting=function(e){transSettings=jQuery.parseJSON(e)},t.updateInitLayerAnim=function(e){initLayerAnims=[],initLayerAnims=e},t.setInitCaptionClasses=function(e){initArrCaptionClasses=jQuery.parseJSON(e)},t.setCaptionClasses=function(e){initArrCaptionClasses=e},t.setInitFontTypes=function(e){initArrFontTypes=jQuery.parseJSON(e)},t.getMaintime=function(){return g_slideTime},t.setMaintime=function(e){g_slideTime=e},t.getObjectLength=function(e){var t=0;for(var r in e)e.hasOwnProperty(r)&&t++;return t},t.sortFontTypesByUsage=function(){for(var e in sgfamilies)if(sgfamilies.hasOwnProperty(e))for(var t in initArrFontTypes)if(initArrFontTypes.hasOwnProperty(t)&&void 0!==initArrFontTypes[t]&&void 0!==initArrFontTypes[t].label&&void 0!==sgfamilies[e]&&initArrFontTypes[t].label.replace(/\ /g,"+")==sgfamilies[e].replace(/\ /g,"+")){void 0===initArrFontTypes[t].top&&(initArrFontTypes[t].top=!0);break}var r={},a=0;for(var i in initArrFontTypes)initArrFontTypes.hasOwnProperty(i)&&(r[a]=initArrFontTypes[i],a++);initArrFontTypes=r},t.setVal=function(e,t,r,a,i,o){if(-1!==jQuery.inArray(t,transSettings))if(a)"object"!=typeof e[t]&&(e[t]={}),null==o||0==o?e[t][layout]=r:(e[t].desktop=r,e[t].notebook=r,e[t].tablet=r,e[t].mobile=r);else if(null!=i)for(var s in i)i.hasOwnProperty(s)&&(void 0!==e[t]&&void 0!==e[t][i[s]]||void 0===e[t]&&(e[t]={}),e[t][i[s]]=r);else void 0!==e[t]&&void 0!==e[t][layout]||void 0===e[t]&&(e[t]={}),e[t][layout]=r;else e[t]=r;return e},t.getVal=function(e,t,r){if(r=void 0===r?layout:r,void 0!==e){if(-1===jQuery.inArray(t,transSettings))return void 0!==e[t]&&"object"!=typeof e[t]?e[t]:void 0;if(void 0!==e[t]&&void 0!==e[t][r])return e[t][r];if(void 0!==e[t]&&"object"!=typeof e[t])return e[t];if(void 0!==e[t]){var a="novalue";switch(r){case"desktop":void 0!==e[t].notebook?(a=e[t].notebook,"notebook"):void 0!==e[t].tablet?(a=e[t].tablet,"tablet"):void 0!==e[t].mobile&&(a=e[t].mobile,"mobile");break;case"notebook":void 0!==e[t].desktop?(a=e[t].desktop,"desktop"):void 0!==e[t].tablet?(a=e[t].tablet,"tablet"):void 0!==e[t].mobile&&(a=e[t].mobile,"mobile");break;case"tablet":void 0!==e[t].notebook?(a=e[t].notebook,"notebook"):void 0!==e[t].desktop?(a=e[t].desktop,"desktop"):void 0!==e[t].mobile&&(a=e[t].mobile,"mobile");break;case"mobile":void 0!==e[t].tablet?(a=e[t].tablet,"tablet"):void 0!==e[t].notebook?(a=e[t].notebook,"notebook"):void 0!==e[t].desktop&&(a=e[t].desktop,"desktop")}if("novalue"!=a)return a}}},t.insertTemplate=function(e){if(""===add_meta_into){if(-1==t.selectedLayerSerial)return!1;e.lastIndexOf("%")<0?jQuery("#layer_text").val(jQuery("#layer_text").val()+"{{"+e+"}}"):jQuery("#layer_text").val(jQuery("#layer_text").val()+e),t.updateLayerFromFields()}else"object"==jQuery.type(add_meta_into)?add_meta_into.val(add_meta_into.val()+"{{"+e+"}}").trigger("change"):jQuery('input[name="'+add_meta_into+'"]').val(jQuery('input[name="'+add_meta_into+'"]').val()+"{{"+e+"}}");jQuery("#dialog_template_insert").dialog("close")},t.refreshGridSize=function(){var e=jQuery("#hor-css-linear .helplines-offsetcontainer"),r=jQuery("#ver-css-linear .helplines-offsetcontainer"),a=jQuery("#rs-grid-sizes option:selected").val(),i=jQuery("#rs-grid-snapto option:selected").val(),o=jQuery("#divLayers");if("custom"!=a){o.css({position:"relative"}),o.find("#helpergrid").remove(),o.append('<div id="helpergrid" style="position:absolute;top:0px;left:0px;position:absolute;z-index:0;width:100%;height:100%"></div>');var s=o.find("#helpergrid");if(4<a){for(var n=1;n<o.height()/a;n++){var l=n*a;s.append('<div class="helplines" style="background-color:#4affff;width:100%;height:1px;position:absolute;left:0px;top:'+l+'px"></div>')}for(n=1;n<o.width()/a;n++){l=n*a;s.append('<div class="helplines" style="background-color:#4affff;height:100%;width:1px;position:absolute;top:0px;left:'+l+'px"></div>')}}punchgs.TweenLite.to(e,.3,{autoAlpha:0}),punchgs.TweenLite.to(r,.3,{autoAlpha:0})}else{punchgs.TweenLite.to(e,.3,{autoAlpha:1}),punchgs.TweenLite.to(r,.3,{autoAlpha:1}),o.find("#helpergrid").remove();try{e.find(".helplines").draggable("destroy")}catch(e){}try{r.find(".helplines").draggable("destroy")}catch(e){}e.find(".helplines").draggable({handle:".helpline-drag",axis:"x"}),r.find(".helplines").draggable({handle:".helpline-drag",axis:"y"})}for(var d in t.arrLayers)if(t.arrLayers.hasOwnProperty(d)){t.getHtmlLayerFromSerial(d).draggable({drag:t.onLayerDrag,snap:i,snapMode:"outer"})}},t.add_missing_unique_ids=function(){var e=t.getSimpleLayers(),r={};for(var a in e)e.hasOwnProperty(a)&&(void 0===e[a].unique_id?r[a]=!0:e[a].unique_id>unique_layer_id&&(unique_layer_id=e[a].unique_id));for(var a in r)if(r.hasOwnProperty(a)){unique_layer_id++;var i={};i.unique_id=unique_layer_id,update_layer_changes=!1,t.updateLayer(a,i),update_layer_changes=!0}},t.init=function(slideTime){null!=jQuery().draggable&&null!=jQuery().autocomplete||jQuery("#jqueryui_error_message").show(),jQuery("body").addClass("rs-layer-editor-view"),g_slideTime=Number(slideTime),u.init(t),container=jQuery(containerID);var demoRows=new Array;if(initDemoLayers){var len=initDemoLayers.length;if(len)for(var i=0;i<len;i++)for(var key in initDemoLayers[i])initDemoLayers[i].hasOwnProperty(key)&&(curDemoSlideID=i,"row"===initDemoLayers[i][key].type||"column"===initDemoLayers[i][key].type?demoRows.push(initDemoLayers[i][key].unique_id):-1==jQuery.inArray(initDemoLayers[i][key].p_uid,demoRows)&&addLayer(initDemoLayers[i][key],!0,!0,!0));else for(var i in initDemoLayers)if(initDemoLayers.hasOwnProperty(i))for(var key in initDemoLayers[i])initDemoLayers[i].hasOwnProperty(key)&&(curDemoSlideID=i,"row"===initDemoLayers[i][key].type||"column"===initDemoLayers[i][key].type?demoRows.push(initDemoLayers[i][key].unique_id):-1==jQuery.inArray(initDemoLayers[i][key].p_uid,demoRows)&&addLayer(initDemoLayers[i][key],!0,!0,!0))}u.organiseGroupsAndLayer(!1,!0);var len=initLayers.length;if(initLayers){if(len){for(var i=0;i<len;i++)initLayers[i].addedToStage=!1;for(var i=0;i<len&&"row"!==initLayers[i].type;i++)"row"!==initLayers[i].type&&"column"!==initLayers[i].type&&("group"===initLayers[i].type&&-1!==initLayers[i].p_uid||(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0)));t.add_missing_unique_ids();for(var i=0;i<len&&"row"!=initLayers[i].type;i++)!0!==initLayers[i].addedToStage&&"row"!==initLayers[i].type&&"column"!==initLayers[i].type&&"group"!==initLayers[i].type&&(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0));t.add_missing_unique_ids();for(var i=0;i<len;i++)!0===initLayers[i].addedToStage||"group"!==initLayers[i].type&&"row"!==initLayers[i].type||(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0));t.add_missing_unique_ids();for(var i=0;i<len;i++)"column"===initLayers[i].type&&(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0));t.add_missing_unique_ids();for(var i=0;i<len;i++)!0!==initLayers[i].addedToStage&&addLayer(initLayers[i],!0,!1,!0)}else{for(var i in initLayers)initLayers.hasOwnProperty(i)&&(initLayers[i].addedToStage=!1);for(var i in initLayers)if(initLayers.hasOwnProperty(i)){if("row"===initLayers[i].type)break;"row"!==initLayers[i].type&&"column"!==initLayers[i].type&&("group"===initLayers[i].type&&-1!==initLayers[i].p_uid||(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0)))}for(var i in t.add_missing_unique_ids(),initLayers)if(initLayers.hasOwnProperty(i)){if("row"==initLayers[i].type)break;!0!==initLayers[i].addedToStage&&"row"!==initLayers[i].type&&"column"!==initLayers[i].type&&"group"!==initLayers[i].type&&(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0))}for(var i in t.add_missing_unique_ids(),initLayers)initLayers.hasOwnProperty(i)&&(!0===initLayers[i].addedToStage||"group"!==initLayers[i].type&&"row"!==initLayers[i].type||(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0)));for(var i in t.add_missing_unique_ids(),initLayers)initLayers.hasOwnProperty(i)&&"column"===initLayers[i].type&&(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0));for(var i in t.add_missing_unique_ids(),initLayers)initLayers.hasOwnProperty(i)&&!0!==initLayers[i].addedToStage&&addLayer(initLayers[i],!0,!1,!0)}t.add_missing_unique_ids()}u.timeLineTableDimensionUpdate(),u.updateAllLayerTimeline(),disableFormFields(),initMainEvents(),initButtons(),initHtmlFields(),initAlignTable(),initLoopFunctions(),scaleAndResetLayerInit(),positionChanged_Core(),initBackgroundFunctions(),jQuery("#tp-thelistofclasses ul, #tp-thelistoffonts ul").bind("scroll",function(){var e=jQuery(this),i=e.scrollTop(),t=e.data("olds"),o=(e.parent().height(),null==t||t<i?"up":"down");e.find(".ui-autocomplete-category").each(function(e){var t=jQuery(this),r=t.next().position().top,a=0==e?0:15;"up"==o&&r<50||"down"==o&&r<0-a?(t.css({position:"absolute",top:i-a,zIndex:e}),t.next().css({marginTop:50+a})):(t.css({position:"relative",top:0,zIndex:e}),t.next().css({marginTop:0}))}),e.data("olds",i)}),jQuery(".bgsrcchanger").each(function(){jQuery(this)[0].checked&&initSliderMainOptions(jQuery(this))}),jQuery(".bgsrcchanger").click(function(){initSliderMainOptions(jQuery(this))}),jQuery("#alt_option").change(function(){"custom"==jQuery("#alt_option option:selected").val()?jQuery("#alt_attr").show():jQuery("#alt_attr").hide()}),jQuery("#title_option").change(function(){"custom"==jQuery("#title_option option:selected").val()?jQuery("#title_attr").show():jQuery("#title_attr").hide()}),initDisallowCaptionsOnClick(),jQuery(".open_right_panel").click(function(){var e=jQuery(".layer_props_wrapper");e.hasClass("openeed")?e.removeClass("openeed"):e.addClass("openeed")}),jQuery("#rs-grid-sizes, #rs-grid-snapto").change(function(){t.refreshGridSize()}),jQuery("#layer_alt_option").change(function(){"custom"==jQuery("#layer_alt_option option:selected").val()?jQuery("#layer_alt").show():jQuery("#layer_alt").hide()}),jQuery('select[name="rev_show_the_slides"]').change(function(){var e=jQuery("#divbgholder").find(".slotholder");if(jQuery(".demo_layer").addClass("invisible_demolayer"),e.addClass("trans_bg"),e.css("background-image","none"),e.css("background-color","transparent"),e.css("background-position","top center"),e.css("background-size","cover"),e.css("background-repeat","no-repeat"),jQuery(".tp-bgimg").css({backgroundImage:"none",backgroundColor:"transparent"}),"none"!==jQuery(this).val()){var t=jQuery(this).val();if(jQuery(".demo_layer_"+t).show(),jQuery(".demo_layer_"+t).removeClass("invisible_demolayer"),void 0!==initDemoSettings[t]){var r="percentage"==initDemoSettings[t].bg_fit?initDemoSettings[t].bg_fit_x+"% "+initDemoSettings[t].bg_fit_y+"% ":initDemoSettings[t].bg_fit,a="percentage"==initDemoSettings[t].bg_position?initDemoSettings[t].bg_position_x+"% "+initDemoSettings[t].bg_position_y+"% ":initDemoSettings[t].bg_position;switch("contain"==initDemoSettings[t].bg_fit?jQuery("#divLayers-wrapper").css("maxWidth",jQuery("#divbgholder").css("minWidth")):jQuery("#divLayers-wrapper").css("maxWidth","none"),initDemoSettings[t].background_type){case"image":case"meta":case"streamyoutube":case"streamvimeo":case"streaminstagram":case"youtube":case"vimeo":case"html5":var i=initDemoSettings[t].image;jQuery("#the_image_source_url").html(i),e.find(".defaultimg, .slotslidebg").css("background-image","url('"+i+"')"),e.find(".defaultimg, .slotslidebg").css("background-color","transparent"),e.find(".defaultimg, .slotslidebg").css("background-size",r),e.find(".defaultimg, .slotslidebg").css("background-position",a),e.find(".defaultimg, .slotslidebg").css("background-repeat",initDemoSettings[t].bg_repeat),e.find(".defaultimg, .slotslidebg").removeClass("trans_bg");break;case"trans":e.find(".defaultimg, .slotslidebg").css("background-image","none"),e.find(".defaultimg, .slotslidebg").css("background-color","transparent"),e.find(".defaultimg, .slotslidebg").addClass("trans_bg");break;case"solid":e.find(".defaultimg, .slotslidebg").css("background-image","none"),e.find(".defaultimg, .slotslidebg").removeClass("trans_bg");var o=window.RevColor.get(initDemoSettings[t].slide_bg_color);e.find(".defaultimg, .slotslidebg").css("background-color",o);break;case"external":i=initDemoSettings[t].slide_bg_external;jQuery("#the_image_source_url").html(i),e.find(".defaultimg, .slotslidebg").css("background-image","url('"+i+"')"),e.find(".defaultimg, .slotslidebg").css("background-color","transparent"),e.find(".defaultimg, .slotslidebg").css("background-size",r),e.find(".defaultimg, .slotslidebg").css("background-position",a),e.find(".defaultimg, .slotslidebg").css("background-repeat",initDemoSettings[t].bg_repeat),e.find(".defaultimg, .slotslidebg").removeClass("trans_bg")}}}jQuery("#divbgholder").css({backgroundImage:"none",backgroundColor:"transparent"})}),jQuery("#thumb_for_admin").on("change",function(){t.changeSlotBGs()}),0<jQuery("#slide_thumb_button_preview").find("div").length&&jQuery(".show_on_thumbnail_exist").show(),jQuery(".rs-slide-device_selector").click(function(){if(0!=rev_adv_resp_sizes){var e=jQuery(this).data("val");layout=e,u.layout=e;var r=0;jQuery(".row-zone-container").each(function(){r+=jQuery(this).height()}),r=r<rev_sizes[e][1]?rev_sizes[e][1]:r,jQuery(".tp-bgimg.defaultimg, #divLayers").css({width:rev_sizes[e][0],height:r}),"auto"!=__slidertype?(jQuery("#divbgholder").css({minWidth:rev_sizes[e][0],maxWidth:"100%",marginLeft:"auto",marginRight:"auto"}),jQuery("#divbgholder").css({minHeight:r,height:r}),jQuery(".slotholder .tp-bgimg.defaultimg").css({minWidth:rev_sizes[e][0],maxWidth:"100%"}),jQuery(".tp-bgimg.defaultimg").css({width:"100%"})):(jQuery("#divbgholder").css({minWidth:rev_sizes[e][0],maxWidth:rev_sizes[e][0],marginLeft:"auto",marginRight:"auto"}),jQuery("#divbgholder").css({minHeight:r,height:r}),jQuery(".slotholder .tp-bgimg.defaultimg").css({minWidth:rev_sizes[e][0],maxWidth:rev_sizes[e][0]})),jQuery("#divLayers-wrapper").css("height",r+1),jQuery(".rs-slide-device_selector").removeClass("selected"),jQuery(this).addClass("selected"),u.resetSlideAnimations(),jQuery(window).trigger("resize"),redrawAllLayerHtml(),t.setMiddleRowZone(100)}}),jQuery("#divbgholder .oldslotholder, #divbgholder .slotholder, #divbgholder .defaultimg, #top-toolbar-wrapper, #layer-settings-toolbar-bottom").on("click",function(e){1===(e.which||e.button)&&cm.toggleMenuOff(),e.target==this&&(u.checkMultipleSelectedItems(!0),unselectLayers())});var cfith=function(e,t){return e["deformation-hover"][t]=e.deformation[t],e},cfhti=function(e,t){return e.deformation[t]=e["deformation-hover"][t],e};jQuery(".copy-from-idle").click(function(){if(confirm(rev_lang.copy_styles_to_idle_from_hover)){var e=t.getCurrentLayer();e["deformation-hover"].color=t.getVal(e.static_styles,"color"),e["deformation-hover"]["2d_rotation"]=e["2d_rotation"],e=cfith(e,"2d_origin_x"),e=cfith(e,"2d_origin_y"),e=cfith(e,"background-color"),e=cfith(e,"background-transparency"),e=cfith(e,"border-color"),e=cfith(e,"border-radius"),e=cfith(e,"border-style"),e=cfith(e,"border-transparency"),e=cfith(e,"border-width"),e=cfith(e,"color-transparency"),e=cfith(e,"opacity"),e=cfith(e,"scalex"),e=cfith(e,"scaley"),e=cfith(e,"skewx"),e=cfith(e,"skewy"),e=cfith(e,"text-decoration"),e=cfith(e,"x"),e=cfith(e,"xrotate"),e=cfith(e,"y"),e=cfith(e,"yrotate"),e=cfith(e,"z"),t.updateLayerFormFields(t.selectedLayerSerial),t.updateLayerFromFields()}}),jQuery(".copy-from-hover").click(function(){if(confirm(rev_lang.copy_styles_to_hover_from_idle)){var e=t.getCurrentLayer();e["2d_rotation"]=e["deformation-hover"]["2d_rotation"],e.static_styles=t.setVal(e.static_styles,"color",e["deformation-hover"].color,!1),e=cfhti(e,"2d_origin_x"),e=cfhti(e,"2d_origin_y"),e=cfhti(e,"background-color"),e=cfhti(e,"background-transparency"),e=cfhti(e,"border-color"),e=cfhti(e,"border-radius"),e=cfhti(e,"border-style"),e=cfhti(e,"border-transparency"),e=cfhti(e,"border-width"),e=cfhti(e,"color-transparency"),e=cfhti(e,"opacity"),e=cfhti(e,"scalex"),e=cfhti(e,"scaley"),e=cfhti(e,"skewx"),e=cfhti(e,"skewy"),e=cfhti(e,"text-decoration"),e=cfhti(e,"x"),e=cfhti(e,"xrotate"),e=cfhti(e,"y"),e=cfhti(e,"yrotate"),e=cfhti(e,"z"),t.updateLayerFormFields(t.selectedLayerSerial),t.updateLayerFromFields()}}),jQuery("#button_css_reset").click(function(){var e=t.getCurrentLayer();null!==e&&(t.reset_to_default_static_styles(e),updateSubStyleParameters(e,!0),t.updateLayerFromFields())});var getGridDimension=function(){var e=jQuery("#divLayers"),t=e.offset(),r=jQuery("#divLayers-wrapper").offset();return{top:t.top-r.top,left:t.left-r.left,bottom:t.top-r.top+e.height(),right:t.left-r.left+e.width()}};function edit_content_current_layer(){var a=t.getCurrentLayer();if(null!==a)switch(a.type){case"text":case"button":t.showHideContentEditor(!0),jQuery("#quick-layers-wrapper").slideUp(300),jQuery(".current-active-main-toolbar").removeClass("opened"),jQuery("#button_show_all_layer i").removeClass("eg-icon-up").addClass("eg-icon-menu"),jQuery("#layer_text").focus();break;case"video":var e=a.video_data;UniteAdminRev.openVideoDialog(function(e){var r=getVideoObjLayer(e);t.updateCurrentLayer(r),updateHtmlLayersFromObject(t.selectedLayerSerial),t.updateLayerFormFields(t.selectedLayerSerial),redrawLayerHtml(t.selectedLayerSerial),scaleNormalVideo()},e);break;case"image":"objectlibrary"===a.image_library?(jQuery("#dialog_addobj").data("changeimg",!0),jQuery("#dialog_addobj").data("changeimgserial",a.serial),t.callObjectLibraryDialog("object")):UniteAdminRev.openAddImageDialog(rev_lang.select_layer_image,function(e){var r={};r.image_url=e,t.updateCurrentLayer(r),redrawLayerHtml(t.selectedLayerSerial),t.add_layer_change(),scaleNormal()});break;case"shape":break;case"svg":jQuery("#dialog_addobj").data("changesvg",!0),jQuery("#dialog_addobj").data("changesvgserial",a.serial),t.callObjectLibraryDialog("object");break;case"audio":e=a.video_data;UniteAdminRev.openVideoDialog(function(e){var r=getVideoObjLayer(e);t.updateCurrentLayer(r),updateHtmlLayersFromObject(t.selectedLayerSerial),t.updateLayerFormFields(t.selectedLayerSerial),redrawLayerHtml(t.selectedLayerSerial),u.drawAudioMap(a)},e,"audio")}}jQuery("body").on("dblclick",".layer_selected",edit_content_current_layer),setTimeout(function(){jQuery("#form_slide_params").find("input, select").on("change",function(){t.set_save_needed(!0)})},500),jQuery("body").on("click",".button_change_image_source, .button_edit_layer, .button_change_video_settings, .button_reset_size, .button_edit_shape, .button_change_audio_settings, .button_change_svg_settings",function(){jQuery(":focus").blur();var e=jQuery(this),r=e.closest(".layer-toolbar-li").data("serial");t.setLayerSelected(r),e.hasClass("button_reset_size")?resetCurrentElementSize():edit_content_current_layer()}),jQuery("body").on("click",".layer-title-with-icon",function(){var e=jQuery(this).find("input").is(":focus");e||jQuery(":focus").blur();var r=jQuery(this).closest(".layer-toolbar-li").data("serial");t.setLayerSelected(r,!1,e)}),jQuery("#button_edit_layer, #button_change_video_settings,#button_change_image_source").click(edit_content_current_layer),jQuery("body").on("click",".button_delete_layer, #button_delete_layer",function(){jQuery(":focus").blur();var e=jQuery(this);if(e.hasClass("button-now-disabled"))return!1;if(e.hasClass("button_delete_layer")){var r=e.closest(".layer-toolbar-li").data("serial");t.setLayerSelected(r)}var a=t.getCurrentLayer();if("column"===a.type)return!1;if(("group"===a.type||"row"===a.type)&&0<t.getLayersInGroup(a.unique_id).layers.length)jQuery("#delete-full-group-dialog").dialog({width:600,open:function(){},buttons:[{text:"Remove All Layers",click:function(){var e=t.getLayersInGroup(a.unique_id);jQuery.each(e.layers,function(e,r){t.deleteLayer(r.serial)}),jQuery.each(e.columns,function(e,r){t.deleteLayer(r.serial)}),t.deleteLayer(a.serial),u.organiseGroupsAndLayer(!0),jQuery(this).dialog("close")}},{text:"Move Layers to Root",click:function(){var e=t.getLayersInGroup(a.unique_id);jQuery.each(e.layers,function(e,t){t.p_uid=-1}),jQuery.each(e.columns,function(e,r){t.deleteLayer(r.serial)}),t.deleteLayer(a.serial),u.organiseGroupsAndLayer(!0),jQuery(this).dialog("close")}},{text:"Cancel Action",click:function(){jQuery(this).dialog("close")}}]});else if(confirm(rev_lang.delete_layer)){if(e.hasClass("button_delete_layer")){r=e.closest(".layer-toolbar-li").data("serial");t.setLayerSelected(r)}deleteCurrentLayer(),unselectLayers()}}),t.makeRowSortableDroppable(),jQuery("body").on("click",".button_duplicate_layer, #button_duplicate_layer",function(){jQuery(":focus").blur();var e=jQuery(this);if(e.hasClass("button-now-disabled"))return!1;if(e.hasClass("button_duplicate_layer")){var r=e.closest(".layer-toolbar-li").data("serial");t.setLayerSelected(r)}return duplicateCurrentLayer(),!1}),t.showHideContentEditor(!1),t.changeSlotBGs(),jQuery("#hide_layer_content_editor").click(function(){t.showHideContentEditor(!1)}),jQuery("#layer_animation, #layer_endanimation").change(function(){var e="layer_animation"==jQuery(this).attr("id")?"in":"out",r=jQuery(this).val(),a=!1;for(var i in initLayerAnims)if(initLayerAnims.hasOwnProperty(i)&&"custom"+e+"-"+initLayerAnims[i].id==r){switch(e){case"in":setNewAnimFromObj("start",initLayerAnims[i].params);break;case"out":setNewAnimFromObj("end",initLayerAnims[i].params)}a=!0;break}if(0==a)for(var i in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(i)&&i==r){switch(e){case"in":setNewAnimFromObj("start",initLayerAnimsDefault[i].params);break;case"out":setNewAnimFromObj("end",initLayerAnimsDefault[i].params)}break}"out"==e&&"auto"==r&&jQuery("#masking-start")[0].checked&&1==jQuery("#masking-start")[0].checked&&(jQuery("#masking-end").attr("checked",!0),RevSliderSettings.onoffStatus(jQuery("#masking-end")),jQuery(".mask-end-settings").show()),t.updateLayerFromFields()}),jQuery("#layer_caption").change(function(){UniteCssEditorRev.checkIfHandleExists(jQuery(this).val())?jQuery("#extra_style_settings").removeClass("normal_rename normal_save save_rename save_save").addClass("normal_rename"):jQuery("#extra_style_settings").removeClass("normal_rename normal_save save_rename save_save").addClass("normal_save")}),jQuery(".save-current-animin, .save-current-animout").click(function(){var i=jQuery(this).hasClass("save-current-animin")?"start":"end",e="start"==i?jQuery('select[name="layer_animation"] option:selected').val():jQuery('select[name="layer_endanimation"] option:selected').val();if("custom"!==e)for(var r in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(r)&&r===e)return alert(rev_lang.cant_modify_default_anims),!1;var o={};if(o.params=createNewAnimObj(i),"custom"==e){jQuery("#rs-save-under-animation").val("");var a=t.getCurrentLayer();"start"==i&&void 0!==a["orig-anim"]&&jQuery("#rs-save-under-animation").val(a["orig-anim"]),"end"==i&&void 0!==a["orig-endanim"]&&jQuery("#rs-save-under-animation").val(a["orig-endanim"]),jQuery("#dialog_save_animation").dialog({modal:!0,width:300,height:200,resizable:!1,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Save:function(){var e=jQuery("#rs-save-under-animation").val(),t=UniteAdminRev.sanitize_input(e),r=!0;for(var a in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(a)&&initLayerAnimsDefault[a].handle==t)return alert(rev_lang.name_is_default_animations_cant_be_changed),!1;for(var a in initLayerAnims)if(initLayerAnims.hasOwnProperty(a)&&initLayerAnims[a].handle==t){r="start"==i?"customin":"customout",r+="-"+initLayerAnims[a].id;break}o.handle=t,o.params.type="start"==i?"customin":"customout",!0===r?(updateAnimInDb(t,o,!1),jQuery(this).dialog("close")):confirm(rev_lang.override_animation)&&(updateAnimInDb(r,o,!0),jQuery(this).dialog("close"))},Cancel:function(){jQuery(this).dialog("close")}}})}else o.params.type="start"==i?"customin":"customout",confirm(rev_lang.overwrite_animation)&&updateAnimInDb(e,o,!0)}),jQuery(".save-as-current-animin, .save-as-current-animout").click(function(){var o=jQuery(this).hasClass("save-as-current-animin")?"start":"end";jQuery(this).hasClass("save-as-current-animin")?jQuery("#layer_animation option:selected").val():jQuery("#layer_endanimation option:selected").val();currentAnimationType=jQuery(this).hasClass("save-as-current-animin")?"customin":"customout",jQuery("#dialog_save_as_animation").dialog({modal:!0,width:300,height:200,resizable:!1,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Save:function(){var e=jQuery("#rs-save-as-animation").val(),t=UniteAdminRev.sanitize_input(e),r=!1,a={};for(var i in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(i)&&i==t){r=!0;break}for(var i in initLayerAnims)if(initLayerAnims.hasOwnProperty(i)&&initLayerAnims[i].handle==t){r=!0;break}if(r)return alert(rev_lang.anim_with_handle_exists),!1;a.params=createNewAnimObj(o),a.handle=t,a.params.type=currentAnimationType,updateAnimInDb(t,a,!1),jQuery(this).dialog("close")},Cancel:function(){jQuery(this).dialog("close")}}})}),jQuery(".rename-current-animin, .rename-current-animout").click(function(){var e=jQuery(this).hasClass("rename-current-animin")?jQuery("#layer_animation option:selected").val():jQuery("#layer_endanimation option:selected").val(),t=jQuery(this).hasClass("rename-current-animin")?jQuery("#layer_animation option:selected").text():jQuery("#layer_endanimation option:selected").text();if("custom"!==e)for(var r in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(r)&&r===e)return alert(rev_lang.cant_modify_default_anims),!1;if("custom"==e)return!1;var s=e.replace("customin-","").replace("customout-","");jQuery("#rs-rename-animation").val(t),jQuery("#dialog_rename_animation").dialog({modal:!0,width:300,height:200,resizable:!1,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Rename:function(){var e=jQuery("#rs-rename-animation").val(),t=UniteAdminRev.sanitize_input(e),r=!1,a=!1;for(var i in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(i)&&i==t){a=!0;break}var o="";for(var i in initLayerAnims)if(initLayerAnims.hasOwnProperty(i)&&(i==t&&(a=!0),initLayerAnims[i].id==s)){r=!0,o=initLayerAnims[i].id;break}return a?(alert(rev_lang.anim_with_handle_exists),!1):r?(renameAnimInDb(o,t),jQuery(this).dialog("close"),!1):void 0},Cancel:function(){jQuery(this).dialog("close")}}})}),jQuery("#delete-current-animin, #delete-current-animout").click(function(){var e="delete-current-animin"==jQuery(this).attr("id")?jQuery("#layer_animation").val():jQuery("#layer_endanimation").val(),t="delete-current-animin"==jQuery(this).attr("id")?jQuery("#layer_animation option:selected").text():jQuery("#layer_endanimation option:selected").text();!(-1<e.indexOf("custom"))||"custom"==e?alert(rev_lang.default_animations_cant_delete):confirm(rev_lang.really_delete_anim+' "'+t+'"?')&&deleteAnimInDb(e)}),jQuery("#add_customanimation_in").click(function(){currentAnimationType="customin";var e=jQuery(this),t=jQuery("#extra_start_animation_settings"),r=jQuery("#extra_end_animation_settings");"block"==t.css("display")?(t.hide(200),e.removeClass("selected")):(t.show(200),e.addClass("selected")),r.hide(200)}),jQuery("#add_customanimation_out").click(function(){currentAnimationType="customout";var e=jQuery(this),t=jQuery("#extra_start_animation_settings"),r=jQuery("#extra_end_animation_settings");"block"==r.css("display")?(r.hide(200),e.removeClass("selected")):(r.show(200),e.addClass("selected")),t.hide(200)}),jQuery("#reset-current-animin, #reset-current-animout").click(function(){var e=jQuery(this).hasClass("reset-current-animin")?"start":"end",r=t.getCurrentLayer();"start"==e&&void 0!==r["orig-anim-handle"]&&jQuery('#layer_animation option[value="'+r["orig-anim-handle"]+'"]').attr("selected",!0).change(),"end"==e&&void 0!==r["orig-endanim-handle"]&&jQuery('#layer_endanimation option[value="'+r["orig-endanim-handle"]+'"]').attr("selected",!0).change()}),jQuery("#button_edit_css, #style-morestyle, .close_extra_settings").click(function(){var e=jQuery("#extra_style_settings"),t=jQuery("#button_edit_css"),r=jQuery("#style-morestyle");"block"==e.css("display")?(e.hide(200),t.removeClass("selected"),r.removeClass("showmore")):(e.show(200),t.addClass("selected"),r.addClass("showmore"))}),jQuery(".rename-current-css").click(function(){jQuery("#rs-rename-css").val(jQuery("#layer_caption").val()),jQuery("#dialog_rename_css").dialog({modal:!0,resizable:!1,width:400,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Rename:function(){jQuery("#rs-rename-css").val(UniteAdminRev.sanitize_input(jQuery("#rs-rename-css").val()));var e=jQuery("#rs-rename-css").val();if(""!=e){var t=jQuery("#layer_caption").val(),r=UniteCssEditorRev.checkIfHandleExists(e);if(!1===UniteCssEditorRev.checkIfHandleExists(t))return alert(rev_lang.css_orig_name_does_not_exists),!1;if(!1!==r||t==e)return alert(rev_lang.css_name_already_exists),!1;UniteCssEditorRev.renameStylesInDb(t,e)}}}})}),jQuery(".save-as-current-css").click(function(){jQuery("#rs-save-as-css").val(jQuery("#layer_caption").val()),jQuery("#dialog_save_as_css").dialog({modal:!0,resizable:!1,width:400,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Save:function(){jQuery("#rs-save-as-css").val(UniteAdminRev.sanitize_input(jQuery("#rs-save-as-css").val()));var e=jQuery("#rs-save-as-css").val();if(""!=e){if(!1!==UniteCssEditorRev.checkIfHandleExists(e))return alert(rev_lang.css_name_already_exists),!1;UniteCssEditorRev.saveStylesInDb(e,!0,jQuery("#dialog_save_as_css"))}}}})}),jQuery(".delete-current-css").click(function(){if(!1===confirm(rev_lang.delete_this_caption))return!1;var e=jQuery("#layer_caption").val(),t=UniteCssEditorRev.checkIfHandleExists(e);if(!1===t)return alert(rev_lang.css_name_does_not_exists),!1;UniteCssEditorRev.deleteStylesInDb(e,t)}),jQuery(".save-current-css").click(function(){if(confirm(rev_lang.this_will_change_the_class)){var e=jQuery("#layer_caption").val();!1!==UniteCssEditorRev.checkIfHandleExists(e)?UniteCssEditorRev.saveStylesInDb(e,!1):UniteCssEditorRev.saveStylesInDb(e,!0)}}),jQuery(".reset-current-css").click(function(){jQuery('input[name="rs-css-set-on[]"]').each(function(){jQuery(this).attr("checked",!0)}),jQuery('input[name="rs-css-include[]"]').each(function(){jQuery(this).attr("checked",!0)});var a=t.getCurrentLayer();void 0!==a.style&&jQuery("#dialog-change-style-from-css").dialog({buttons:{OK:function(){var e=!1,r={device:[],include:[]};if(jQuery('input[name="rs-css-set-on[]"]').each(function(){jQuery(this)[0].checked&&(e=!0,r.device.push(jQuery(this).val()))}),jQuery('input[name="rs-css-include[]"]').each(function(){jQuery(this)[0].checked&&r.include.push(jQuery(this).val())}),!e)return alert(rev_lang.select_at_least_one_device_type),!0;a.style=jQuery("#layer_caption").val(),t.reset_to_default_static_styles(a,r.include,r.device),updateSubStyleParameters(a,!0),jQuery("#layer_caption").change(),t.updateLayerFromFields(),jQuery("#dialog-change-style-from-css").dialog("close")},Close:function(){jQuery("#dialog-change-style-from-css").dialog("close")}},minWidth:275,minHeight:365,modal:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},close:function(e,t){},open:function(){jQuery(".rs-style-device_input").each(function(){var e=jQuery(this);"checked"===e.attr("checked")?e.siblings(".rs-style-device_selector_prev").addClass("selected"):e.siblings(".rs-style-device_selector_prev").removeClass("selected")})}})}),jQuery("body").on("click change",".rs-style-device_input",function(){var e=jQuery(this);"checked"===e.attr("checked")?e.siblings(".rs-style-device_selector_prev").addClass("selected"):e.siblings(".rs-style-device_selector_prev").removeClass("selected")}),jQuery(".rs-layer-animation-settings-tabs li, .rs-layer-settings-tabs li").click(function(){var e=jQuery(this),t=e.closest("ul").find(".selected");jQuery(t.data("content")).hide(0),t.removeClass("selected"),e.addClass("selected"),jQuery(e.data("content")).show(0),e.data("content")}),jQuery("body").on("mousemove","#thelayer-editor-wrapper",function(e){jQuery("#verlinie,#horlinie,#verlinetext,#horlinetext").css({visibility:"visible"});var t=e.pageX-jQuery(this).offset().left,r=e.pageY-jQuery(this).offset().top,a=jQuery("#divLayers"),i=parseInt(a.offset().left,0)-parseInt(jQuery("#thelayer-editor-wrapper").offset().left,0);jQuery("#verlinie").css({left:t+"px"}),jQuery("#horlinie").css({top:r+"px"}),jQuery("#verlinetext").html(Math.round(t-i)),jQuery("#horlinetext").html(Math.round(r-90)),jQuery("#hor-css-linear .helplines-offsetcontainer").data("x",e.pageX-jQuery("#hor-css-linear .helplines-offsetcontainer").offset().left),jQuery("#hor-css-linear .helplines-offsetcontainer").data("y",r)}),jQuery("body").on("mouseout","#thelayer-editor-wrapper",function(e){jQuery("#verlinie,#horlinie,#verlinetext,#horlinetext").css({visibility:"hidden"})}),jQuery("#hor-css-linear, #ver-css-linear, #verlinie, #horlinie").click(function(){var e=jQuery("#hor-css-linear .helplines-offsetcontainer"),t=jQuery("#ver-css-linear .helplines-offsetcontainer"),r=e.data("x"),a=e.data("y")-40,i=jQuery("#thelayer-editor-wrapper").outerHeight(!0),o=jQuery("#thelayer-editor-wrapper").outerWidth(!0);jQuery("#helpergrid").remove(),jQuery("#rs-grid-sizes").val("custom"),punchgs.TweenLite.to(e,.3,{autoAlpha:1}),punchgs.TweenLite.to(t,.3,{autoAlpha:1}),a<40&&0<r&&e.append('<div class="helplines" data-left="'+r+'" data-top="'+a+'" style="position:absolute;width:1px;height:'+(i-41)+"px;background:#4AFFFF;left:"+r+'px;top:-15px"><i class="helpline-drag eg-icon-move"></i><i class="helpline-remove eg-icon-cancel"></i></div>'),r<40&&0<a&&t.append('<div class="helplines" data-left="'+r+'" data-top="'+a+'"  style="position:absolute;width:'+(o-35)+"px;height:1px;background:#4AFFFF;top:"+a+'px;left:-15px"><i class="helpline-drag eg-icon-move"></i><i class="helpline-remove eg-icon-cancel"></i></div>');try{e.find(".helplines").draggable("destroy")}catch(e){}try{t.find(".helplines").draggable("destroy")}catch(e){}e.find(".helplines").draggable({handle:".helpline-drag",axis:"x"}),t.find(".helplines").draggable({handle:".helpline-drag",axis:"y"})}),jQuery("body").on("click",".helpline-remove",function(){jQuery(this).parent().remove()}),jQuery(".extra_sub_settings_wrapper").addClass("normal_rename"),jQuery("#extra_start_animation_settings input, #extra_end_animation_settings input").change(function(){if("new_start_animation_name"===jQuery(this).attr("id")||"new_end_animation_name"===jQuery(this).attr("id"))return!1;var e=jQuery("customin"==currentAnimationType?"#layer_animation":"#layer_endanimation");"customin"==currentAnimationType?jQuery(this).closest(".extra_start_animation_settings").removeClass("normal_rename normal_save save_rename save_save").addClass("normal_save"):jQuery(this).closest(".extra_end_animation_settings").removeClass("normal_rename normal_save save_rename save_save").addClass("normal_save");var r=e.find("option:selected").text(),a=e.find("option:selected").val();"custom"!==e.find("option:selected").val()&&(e.find('option[value="custom"]').attr("selected",!0).change(),"customin"==currentAnimationType?t.updateCurrentLayer({animation:"custom","orig-anim":r,"orig-anim-handle":a}):t.updateCurrentLayer({endanimation:"custom","orig-endanim":r,"orig-endanim-handle":a}))}),jQuery("#extra_style_settings input, #extra_style_settings select").change(function(){if("overwrite_style_name"===jQuery(this).attr("id")||"new_style_name"===jQuery(this).attr("id"))return!1;jQuery("#extra_style_settings").removeClass("normal_rename normal_save save_rename save_save").addClass("normal_save")}),jQuery('input[name="background_type"], #slide_bg_fit, input[name="bg_fit_x"], input[name="bg_fit_y"], #slide_bg_position,input[name="bg_position_x"],input[name="bg_position_y"],#slide_bg_repeat ').change(function(){t.changeSlotBGs()}),jQuery("body").on("blur",".timer-layer-text",function(){t.updateLayerFromFields()}),jQuery("#the_current-editing-layer-title").on("blur",function(){jQuery("#layer_sort_"+t.selectedLayerSerial+">.layer_sort_inner_wrapper .timer-layer-text").val(jQuery(this).val()),t.updateLayerFromFields()}),jQuery("body").on("blur",".layer-title-in-list",function(){var e=jQuery(this).closest("li").data("serial");if(void 0===e||""===e)return!1;jQuery("#layer_sort_"+e+" >.layer_sort_inner_wrapper .timer-layer-text").val(jQuery(this).val());jQuery(this).val(),t.updateLayerFromFields()}),jQuery("body").on("click",".quick-layer-lock",function(){var e=jQuery(this),a=(e.find("i"),e.closest(".layer-toolbar-li").data("serial")),r=t.getHtmlLayerFromSerial(a);if(void 0===a||""===a)return!1;u.isLayerLocked(r)?(u.unlockLayer(a),jQuery(".layer-toolbar-li").each(function(){var e=jQuery(this);if(e.data("serial")==a){var t=e.find(".quick-layer-lock"),r=t.find("i");t.addClass("in-on").removeClass("in-off"),r.removeClass("eg-icon-lock").addClass("eg-icon-lock-open")}})):(u.lockLayer(a),jQuery(".layer-toolbar-li").each(function(){var e=jQuery(this);if(e.data("serial")==a){var t=e.find(".quick-layer-lock"),r=t.find("i");t.addClass("in-off").removeClass("in-on"),r.removeClass("eg-icon-lock-open").addClass("eg-icon-lock")}}))}),jQuery("body").on("click",".quick-layer-view",function(){var a=jQuery(this).closest(".layer-toolbar-li").data("serial");if(void 0===a||""===a)return!1;var e=t.getLayer(a);u.isLayerVisible(e.references.htmlLayer)?(e.visible=!1,u.hideLayer(e),jQuery(".layer-toolbar-li").each(function(){var e=jQuery(this);if(e.data("serial")==a){var t=e.find(".quick-layer-view"),r=t.find("i");t.addClass("in-off").removeClass("in-on"),r.removeClass("eg-icon-eye").addClass("eg-icon-eye-off")}})):(e.visible=!0,u.showLayer(e),jQuery(".layer-toolbar-li").each(function(){var e=jQuery(this);if(e.data("serial")==a){var t=e.find(".quick-layer-view"),r=t.find("i");t.addClass("in-on").removeClass("in-off"),r.removeClass("eg-icon-eye-off").addClass("eg-icon-eye")}}))}),jQuery(".rs-row-break-selector").click(function(){var e=jQuery(this);jQuery(".rs-row-break-selector.selected").removeClass("selected"),e.addClass("selected"),jQuery("#column_break_at option:selected").prop("selected",!1),jQuery('#column_break_at option[value="'+e.data("val")+'"]').attr("selected","selected");var r={};r.column_break_at=e.data("val"),t.updateLayer(t.selectedLayerSerial,r,!1,!0)}),jQuery("#rs-check-row-layout").click(function(){var row_layer=t.getCurrentLayer();if("row"!==row_layer.type)return!1;var rl=jQuery('input[name="rs-row-layout"]').val(),rl_san=rl.replace(/[^\d\+\/ ]/gi,"");if(jQuery('input[name="rs-row-layout"]').val(rl_san),rl!==rl_san)return alert("Wrong format, please enter for example 1/2 + 1/4 + 1/4"),!1;var result=eval(rl_san);if(result=Math.ceil(1e14*result)/1e14,1!==result)return alert("The columns have to be added up to 1, so for example 1/2 + 1/8 is lower than 1"),!1;t.ignorAllUndoRedoLogs=!0;var columns_f=rl_san.split("+"),columns=new Array,undeleted_columns=new Array,deleted_columns=new Array;if(jQuery.each(t.arrLayers,function(e,t){"column"===t.type&&t.p_uid==row_layer.unique_id&&(columns.push(t),!0!==t.deleted&&undeleted_columns.push(t),!0===t.deleted&&deleted_columns.push(t))}),columns_f.length>undeleted_columns.length){for(var availablecolumns=0,i=columns.length;i<columns_f.length;i++){var c_objLayer={type:"column",text:initColumnName+(id_counter+1),p_uid:row_layer.unique_id,column_size:columns_f[i],createdOnInit:!1};addLayer(c_objLayer),availablecolumns++}for(var i=0;i<deleted_columns.length;i++){if(availablecolumns<columns_f.length-1){var objData={deleted:!1};t.updateLayer(deleted_columns[i].serial,objData,!1,!0),deleted_columns[i].deleted=!1,deleted_columns[i].references.htmlLayer.removeClass("layer-deleted"),deleted_columns[i].references.quicklayer.removeClass("layer-deleted"),deleted_columns[i].references.sorttable.layer.removeClass("layer-deleted"),deleted_columns[i].references.sorttable.timeline.removeClass("layer-deleted")}availablecolumns++}}else if(columns_f.length<undeleted_columns.length)for(var i=undeleted_columns.length;i>columns_f.length;i--){var highest=0,second=0;jQuery.each(undeleted_columns,function(e,t){null!=t&&t.unique_id>highest&&!1===t.deleted&&(second=highest,highest=t.unique_id)}),jQuery.each(t.arrLayers,function(e,r){r.p_uid===highest&&(r.p_uid=second),r.unique_id===highest&&t.deleteLayer(r.serial)})}var i=0;jQuery.each(t.arrLayers,function(e,t){t.p_uid==row_layer.unique_id&&!1===t.deleted&&i<columns_f.length&&(t.column_size=columns_f[i],i++)}),t.ignorAllUndoRedoLogs=!1,u.organiseGroupsAndLayer(u),u.allLayerToIdle(),t.makeRowSortableDroppable(),t.setLayerSelected(row_layer.serial),row_layer.references.htmlLayer.find(".row_editor").addClass("open_re"),jQuery("#rs-layout-row-composer").show(),u.timeLineTableDimensionUpdate(),t.hideRowLayoutComposer()}),jQuery("#button_change_background_image, #button_change_background_image_objlib").click(function(){var e=t.getCurrentLayer();null!==e&&("button_change_background_image_objlib"==jQuery(this).attr("id")?(e.image_library="objectlibrary",jQuery("#dialog_addobj").data("changeimg",!0),jQuery("#dialog_addobj").data("changeimgserial",e.serial),t.callObjectLibraryDialog("layer")):(delete e.image_library,UniteAdminRev.openAddImageDialog(rev_lang.select_layer_image,function(e){switchLayerBackground({bgimage_url:e})})))}),jQuery("#button_clear_background_image").click(function(){switchLayerBackground({bgimage_url:""})}),t.sortFontTypesByUsage(),t.cloneArrLayers(),cm.init(t,tpLayerTimelinesRev)},t.extendSlideHeightBasedOnRows=function(){var t=0;"undefined"!=typeof rev_sizes&&void 0!==rev_sizes&&(jQuery(".row-zone-container").each(function(){var e=jQuery(this);e.hasClass("emptyzone")||(t+=e.height())}),t=t<rev_sizes[layout][1]?rev_sizes[layout][1]:t,jQuery(".tp-bgimg.defaultimg, #divLayers").each(function(){var e=jQuery(this);jQuery(this).hasClass("slide-transition-example")||e.css({height:t})}),__slidertype,jQuery("#divbgholder").css({minHeight:t,height:t}),jQuery("#divLayers-wrapper").css("height",t+1))},t.getLayersInGroup=function(a){var i={layers:[],columns:[]};return jQuery.each(t.arrLayers,function(e,t){t.p_uid===a&&"column"===t.type&&i.columns.push(t)}),jQuery.each(t.arrLayers,function(e,t){t.p_uid===a&&"column"!==t.type&&i.layers.push(t);for(var r=0;r<i.columns.length;r++)i.columns[r].unique_id===t.p_uid&&i.layers.push(t)}),i},t.getHighestGroupOrder=function(e){var r=0;for(key in t.arrLayers)if(t.arrLayers.hasOwnProperty(key)){var a=t.arrLayers[key];"row"===a.type&&t.getVal(a,"align_vert")===e&&r<=a.groupOrder&&(r=a.groupOrder+1)}return r},t.makeRowSortableDroppable=function(){jQuery("#divLayers, .tp_layer_group_inner_wrapper .slide_layer_type_column, .slide_layer_type_group .tp_layer_group_inner_wrapper").droppable({refreshPositions:!0,tolerance:"pointer",accept:".slide_layer_type_text, .slide_layer_type_image, .slide_layer_type_video, .slide_layer_type_shape, .slide_layer_type_audio, .slide_layer_type_svg, .slide_layer_type_button",over:function(e,t){var r=jQuery(e.target);jQuery(".slide_layer_type_column, .slide_layer_type_row, .slide_layer_type_group").removeClass("layer_selected").removeClass("layerchild_selected"),"divLayers"!==r[0].id&&(punchgs.TweenLite.set(r,{zIndex:0}),r.addClass("layer_selected").addClass("layerchild_selected")),e.target.id,r.closest(".slide_layer_type_row, .slide_layer_type_group").addClass("layer_selected"),r.closest(".row-zone-container").addClass("layerrow_selected")},out:function(e,t){var r=jQuery(e.target);punchgs.TweenLite.set(r,{zIndex:1}),"divLayers"!==r[0].id&&r.removeClass("layer_selected").removeClass("layerchild_selected"),r.closest(".layer_selected").removeClass("layer_selected").removeClass("layerchild_selected"),r.find(".layer_selected").removeClass("layer_selected").removeClass("layerchild_selected"),r.closest(".row-zone-container").removeClass("layerrow_selected"),jQuery(t.draggable).addClass("layer_selected")},drop:function(e,r){jQuery(r.draggable).data("dropin",jQuery(e.target)),t.setMiddleRowZone(100),t.checkRowZoneContents(),jQuery(".row-zone-container").removeClass("nowyouseeme"),jQuery(".row-zone-container").removeClass("layerrow_selected")}}),jQuery("#row-zone-top, #row-zone-middle, #row-zone-bottom").sortable({refreshPositions:!0,handle:".row_moveme",start:function(e,t){t.placeholder.html(t.item.html()),jQuery(".row-zone-container").addClass("nowyouseeme"),jQuery(".row-zone-container").addClass("layerrow_selected")},stop:function(e,r){jQuery(".row-zone-container").removeClass("nowyouseeme"),jQuery(".row-zone-container").removeClass("layerrow_selected"),t.setRowZoneOrders(),u.organiseGroupsAndLayer()},update:function(e,r){var a=t.getLayer(t.selectedLayerSerial);switch(r.item[0].parentNode.id){case"row-zone-top":a=t.setVal(a,"align_vert","top",!0);break;case"row-zone-middle":a=t.setVal(a,"align_vert","middle",!0);break;case"row-zone-bottom":a=t.setVal(a,"align_vert","bottom",!0)}t.setRowZoneOrders(),u.organiseGroupsAndLayer(),t.updateLayerFormFields(a.serial),t.setMiddleRowZone(100),t.checkRowZoneContents()},sort:function(e,t){}}),jQuery(".slide_layer_type_column .tp_layer_group_inner_wrapper").sortable({refreshPositions:!0,placeholder:"layer_placeholder_in_column",start:function(e,t){jQuery(".slide_layer_type_column, .slide_layer_type_row").removeClass("layer_selected").removeClass("layerchild_selected"),jQuery(".row-zone-container").removeClass("layerrow_selected"),t.placeholder.html(t.item.html());var r=t.placeholder.find(".innerslide_layer>img");0<r.length&&r.css({width:t.item.width(),height:t.item.height()})},items:"> .slide_layer_type_text, > .slide_layer_type_image, > .slide_layer_type_video, > .slide_layer_type_shape, > .slide_layer_type_audio, > .slide_layer_type_svg, > .slide_layer_type_button",cancel:".slide_layer_type_row, .slide_layer_type_column, .slide_layer_type_group",update:function(e,r){t.setInnerGroupOrders(jQuery(r.item[0].parentNode)),t.setMiddleRowZone(100)},sort:function(e,t){var r=jQuery(e.target);r.closest(".slide_layer_type_column").addClass("layer_selected").addClass("layerchild_selected"),r.closest(".slide_layer_type_row").addClass("layer_selected")}})},t.setRowZoneOrders=function(){t.setInnerGroupOrders(jQuery("#row-zone-top")),t.setInnerGroupOrders(jQuery("#row-zone-middle")),t.setInnerGroupOrders(jQuery("#row-zone-bottom"))},t.setInnerGroupOrders=function(e){for(var r=e.sortable("toArray",{attribute:"data-uniqueid"}),a=0;a<r.length;a++){var i={groupOrder:a};t.updateLayer(t.getLayerByUniqueId(r[a]).serial,i,!1,!0)}},t.droppedContainerCheck=function(r){var e,a=r.references.htmlLayer,i=a.data("dropin");if("row"===r.type||"column"===r.type||"group"===r.type);else if(null!=i&&i[0].classList.contains("tp_layer_group_inner_wrapper"))if(i[0].contains(a[0]))e=r.p_uid;else{r=t.setVal(r,"align_hor","left"),r=t.setVal(r,"align_vert","top");var o=a.position(),s={left:0,top:0},n={left:0,top:0};a.data("originalPosition");if(-1!=r.p_uid)if("column"===(_=t.getLayerByUniqueId(r.p_uid)).type||"group"===_.type){s=_.references.htmlLayer.position();var l=_.references.htmlLayer.closest(".row-zone-container");(n=void 0===l||0==l.length?{left:0,top:0}:l.position()).top+=void 0===l||0==l.length?0:parseInt(l.css("marginTop"),0)}i[0].appendChild(a[0]),e=a.closest(".slide_layer_type_group").data("uniqueid");var d=t.getLayerByUniqueId(e);a.width(),a.height();r.p_uid=e,jQuery.each(d.left,function(e,t){void 0!==r.top&&void 0!==d.top&&void 0!==d.top[e]&&("right"===d.align_hor[e]?void 0!==rev_sizes?newl=Math.round(o.left+s.left-(rev_sizes[e][0]-(parseInt(d.left[e],0)+parseInt(d.max_width[e],0)))):newl=Math.round(o.left+s.left-(jQuery("#divLayers").width()-parseInt(d.left[e],0))):newl=Math.round(o.left+s.left-parseInt(d.left[e],0)),"bottom"===d.align_vert[e]?void 0!==rev_sizes?newt=Math.round(o.top+s.top+n.top-(rev_sizes[e][1]-(parseInt(d.top[e],0)+parseInt(d.max_height[e],0)))):newt=Math.round(o.top+s.top+n.top-(jQuery("#divLayers").height()-parseInt(d.top[e],0))):newt=Math.round(o.top+s.top+n.top-parseInt(d.top[e],0)),r.left[e]=_?newl:newl-1,r.top[e]=_?newt:newt-1)}),t.updateHtmlLayerPosition(!1,r,t.getVal(r,"top"),t.getVal(r,"left"),t.getVal(r,"align_hor"),t.getVal(r,"align_vert")),u.organiseGroupsAndLayer(!1),d.references.htmlLayer.addClass("inwork"),jQuery("#focusongroup").addClass("inwork")}else if(null!=i&&i[0].classList.contains("slide_layer_type_column")){i[0].getElementsByClassName("tp_layer_group_inner_wrapper")[0].contains(a[0])||i[0].getElementsByClassName("tp_layer_group_inner_wrapper")[0].appendChild(a[0]),e=a.closest(".slide_layer_type_column").data("uniqueid"),"column"!==(_=t.getLayerByUniqueId(r.p_uid)).type&&"group"!==_.type&&(r=t.setVal(r,"whitespace","normal")),r.p_uid=e,u.organiseGroupsAndLayer(!1);t.getVal(r,"align_hor"),t.getVal(r,"align_vert");if("left","top",r=t.setVal(r,"align_hor","left"),"text"===(r=t.setVal(r,"align_vert","top")).type&&(r=t.setVal(r,"max_height","auto",!0)),"shape"===r.type){var y=jQuery("#layer_cover_mode option:selected").val();if("fullheight"===y||"cover"===y||"cover-proportional"===y){jQuery("#layer_cover_mode option:selected").prop("selected",!1);var c={};c="fullheight"===y?(jQuery('#layer_cover_mode option[value="custom"]').attr("selected","selected"),t.setVal(c,"cover_mode","custom",!0)):(jQuery('#layer_cover_mode option[value="fullwidth"]').attr("selected","selected"),t.setVal(c,"cover_mode","fullwidth",!0)),t.updateLayer(r.serial,c),t.set_cover_mode()}}setTimeout(function(){t.extendSlideHeightBasedOnRows()},100),unselectAllFocusedGroup()}else if(null!=i&&"divLayers"===i[0].id&&"divLayers"!==a[0].parentNode.id){o=a.position();var _,m=null!=(d=t.getLayerByUniqueId(r.p_uid))&&null!=d.references&&null!=d.references.htmlLayer?d.references.htmlLayer.position():{top:0,left:0},p=(n={left:0,top:0},{left:0,top:0});if(r=t.setVal(r,"align_hor","left"),-1!=(r=t.setVal(r,"align_vert","top")).p_uid)if("column"===(_=t.getLayerByUniqueId(r.p_uid)).type){s=_.references.htmlLayer.position();l=_.references.htmlLayer.closest(".row-zone-container");var v=_.references.htmlLayer.closest(".slide_layer_type_row");p=void 0===v||0==p.length?{left:0,top:0}:v.position(),(n=void 0===l||0==l.length?{left:0,top:0}:l.position()).top+=void 0===l||0==l.length?0:parseInt(l.css("marginTop"),0),p.top+=void 0===v||0==v.length?0:parseInt(v.css("marginTop"),0)}r.p_uid=-1,document.getElementById("divLayers").appendChild(a[0]),jQuery.each(r.left,function(e,t){r.left[e]=Math.round(o.left+1+m.left+n.left+p.left),r.top[e]=Math.round(o.top+1+m.top+n.top+p.top)}),t.updateHtmlLayerPosition(!1,r,t.getVal(r,"top"),t.getVal(r,"left"),"left","top"),u.organiseGroupsAndLayer(!1),unselectAllFocusedGroup()}t.setMiddleRowZone(),t.resetLayerSelected(r)},t.checkRowZoneContents=function(){jQuery(".row-zone-container").each(function(){0===this.children.length?jQuery(this).addClass("emptyzone"):jQuery(this).removeClass("emptyzone")})},t.setMiddleRowZone=function(e){e=void 0===e?0:e,setTimeout(function(){var e=document.getElementById("row-zone-middle");e.style.marginTop=0-jQuery(e).height()/2+"px"},e)},t.showHideToggleContent=function(e){!0===e.toggle?jQuery("#layer_text_wrapper").addClass("withtoggle"):jQuery("#layer_text_wrapper").removeClass("withtoggle")},t.showHideContentEditor=function(e){e?(jQuery("#button_edit_layer").hide(),jQuery("#button_delete_layer").hide(),jQuery("#button_duplicate_layer").hide(),jQuery("#tp-addiconbutton").show(),jQuery("#hide_layer_content_editor").show(),jQuery("#linkInsertTemplate").show(),jQuery("#layer_text_wrapper").show(),jQuery("#button_reset_size").hide(),jQuery("#button_change_video_settings").hide(),jQuery("#layer_text_wrapper").addClass("currently_editing_txt"),jQuery("#layer-short-tool-placeholder-a").hide(),jQuery("#layer-short-tool-placeholder-b").hide()):(jQuery("#layer-short-tool-placeholder-a").show(),jQuery("#layer-short-tool-placeholder-b").show(),jQuery("#button_edit_layer").hide(),jQuery("#button_change_image_source").hide(),jQuery("#button_delete_layer").show(),jQuery("#button_duplicate_layer").show(),jQuery("#tp-addiconbutton").hide(),jQuery("#hide_layer_content_editor").hide(),jQuery("#linkInsertTemplate").hide(),jQuery("#button_reset_size").hide(),jQuery("#button_change_video_settings").hide(),jQuery("#layer_text_wrapper").hide(),jQuery("#layer_text_wrapper").removeClass("currently_editing_txt"));var r=-1===t.selectedLayerSerial?"":t.getLayer(t.selectedLayerSerial);t.toolbarInPos(r),t.showHideToggleContent(r)},t.changeSlotBGs=function(){var e=jQuery("#divbgholder").find(".slotholder"),r=jQuery("#image_url").val(),a="percentage"==jQuery("#slide_bg_position").val()?jQuery("input[name='bg_position_x']").val()+"% "+jQuery("input[name='bg_position_y']").val()+"% ":jQuery("#slide_bg_position").val(),i="percentage"==jQuery("#slide_bg_fit").val()?jQuery("input[name='bg_fit_x']").val()+"% "+jQuery("input[name='bg_fit_y']").val()+"% ":jQuery("#slide_bg_fit").val(),o=window.RevColor.get(jQuery("#slide_bg_color").val());gallery_type=jQuery('input[name="rs-gallery-type"]').val(),jQuery("#the_image_source_url").html(r),jQuery("#video-settings").hide(),jQuery("#bg-setting-wrap").show(),jQuery("#vid-rev-youtube-options").hide(),jQuery("#vid-rev-vimeo-options").hide(),jQuery("#streamvideo_cover").hide(),jQuery("#streamvideo_cover_both").hide(),jQuery("#button_change_image").show(),jQuery("#button_change_image_objlib").show(),jQuery(".video_volume_wrapper").hide(),jQuery("#slide_selector .list_slide_links li.selected .slide-media-container ").removeClass("mini-transparent").css({backgroundSize:"cover"});var s=jQuery('input[name="background_type"]:checked').data("bgtype");switch(s){case"image":switch(jQuery("#button_change_image").hide(),jQuery("#button_change_image_objlib").hide(),gallery_type){case"gallery":jQuery("#button_change_image").show(),jQuery("#button_change_image_objlib").show();break;case"posts":r=rs_plugin_url+"public/assets/assets/sources/post.png";break;case"woocommerce":r=rs_plugin_url+"public/assets/assets/sources/wc.png";break;case"facebook":r=rs_plugin_url+"public/assets/assets/sources/fb.png";break;case"twitter":r=rs_plugin_url+"public/assets/assets/sources/tw.png";break;case"instagram":r=rs_plugin_url+"public/assets/assets/sources/ig.png";break;case"flickr":r=rs_plugin_url+"public/assets/assets/sources/fr.png";break;case"youtube":r=rs_plugin_url+"public/assets/assets/sources/yt.png";break;case"vimeo":r=rs_plugin_url+"public/assets/assets/sources/vm.png"}jQuery(".mainbg-sub-kenburns-selector").show(),jQuery(".mainbg-sub-parallax-selector").show(),jQuery(".mainbg-sub-settings-selector").show(),jQuery("#button_change_image").appendTo(jQuery("#tp-bgimagewpsrc")),jQuery("#button_change_image_objlib").appendTo(jQuery("#tp-bgimagewpsrc")),e.find(".defaultimg, .slotslidebg").css({backgroundImage:"url("+r+")",backgroundPosition:a,backgroundSize:i,backgroundColor:"transparent"}),jQuery("#ken_burn_slot_example").css({backgroundImage:"url("+r+")",backgroundPosition:a,backgroundSize:i,backgroundColor:"transparent"}).data("src",r),t.updateKenBurnExampleValues();break;case"trans":jQuery("#slide_selector .list_slide_links li.selected .slide-media-container ").css("background-image","").css("background-repeat","").addClass("mini-transparent").css({backgroundSize:"inherit"}),e.find(".defaultimg, .slotslidebg").css({backgroundImage:"none",backgroundPosition:a,backgroundSize:i,backgroundColor:"transparent"}),jQuery(".mainbg-sub-kenburns-selector").hide(),jQuery(".mainbg-sub-parallax-selector").hide(),jQuery(".mainbg-sub-settings-selector").hide();break;case"solid":e.find(".defaultimg, .slotslidebg").css({backgroundImage:"none",backgroundPosition:a,backgroundSize:i,backgroundColor:o}),jQuery(".mainbg-sub-kenburns-selector").hide(),jQuery(".mainbg-sub-parallax-selector").hide(),jQuery(".mainbg-sub-settings-selector").hide(),jQuery("#slide_selector .list_slide_links li.selected .slide-media-container ").css({backgroundImage:"none",backgroundPosition:a,backgroundSize:i,backgroundColor:o});break;case"external":r=jQuery("#slide_bg_external").val(),jQuery("#the_image_source_url").html(r),e.find(".defaultimg, .slotslidebg").css({backgroundImage:"url("+r+")",backgroundPosition:a,backgroundSize:i,backgroundColor:"transparent"}),jQuery("#ken_burn_slot_example").css({backgroundImage:"url("+r+")",backgroundPosition:a,backgroundSize:i,backgroundColor:"transparent"}).data("src",r),t.updateKenBurnExampleValues(),jQuery(".mainbg-sub-kenburns-selector").show(),jQuery(".mainbg-sub-parallax-selector").show(),jQuery(".mainbg-sub-settings-selector").show();break;case"streamtwitter":case"streamtwitterboth":jQuery("#streamvideo_cover").show(),jQuery("#streamvideo_cover_both").show(),r=rs_plugin_url+"public/assets/assets/sources/tw.png",e.find(".defaultimg, .slotslidebg, #ken_burn_slot_example").css({backgroundImage:"url("+r+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundColor:"transparent"}),jQuery("#ken_burn_slot_example").css({backgroundImage:"url("+r+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundColor:"transparent"}).data("src",r),t.updateKenBurnExampleValues(),jQuery(".mainbg-sub-kenburns-selector").hide(),jQuery(".mainbg-sub-parallax-selector").show(),jQuery(".mainbg-sub-settings-selector").show(),jQuery("#button_change_image").appendTo(jQuery("#vimeo-image-picker")),jQuery("#button_change_image_objlib").appendTo(jQuery("#vimeo-image-picker")),jQuery("#video-settings").show(),jQuery("#bg-setting-wrap").hide(),jQuery("#vid-rev-vimeo-options").show(),jQuery("#vid-rev-youtube-options").show(),jQuery(".video_volume_wrapper").show();break;case"streamyoutube":case"streamyoutubeboth":jQuery("#streamvideo_cover").show(),jQuery("#streamvideo_cover_both").show(),r=rs_plugin_url+"public/assets/assets/sources/yt.png";case"youtube":e.find(".defaultimg, .slotslidebg, #ken_burn_slot_example").css({backgroundImage:"url("+r+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundColor:"transparent"}),jQuery("#ken_burn_slot_example").css({backgroundImage:"url("+r+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundColor:"transparent"}).data("src",r),t.updateKenBurnExampleValues(),jQuery(".mainbg-sub-kenburns-selector").hide(),jQuery(".mainbg-sub-parallax-selector").show(),jQuery(".mainbg-sub-settings-selector").show(),jQuery("#button_change_image").appendTo(jQuery("#youtube-image-picker")),jQuery("#button_change_image_objlib").appendTo(jQuery("#youtube-image-picker")),jQuery("#video-settings").show(),jQuery("#bg-setting-wrap").hide(),jQuery("#vid-rev-youtube-options").show(),jQuery(".video_volume_wrapper").show();break;case"streamvimeo":case"streamvimeoboth":jQuery("#streamvideo_cover").show(),jQuery("#streamvideo_cover_both").show(),r=rs_plugin_url+"public/assets/assets/sources/vm.png";case"vimeo":e.find(".defaultimg, .slotslidebg, #ken_burn_slot_example").css({backgroundImage:"url("+r+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundColor:"transparent"}),jQuery("#ken_burn_slot_example").css({backgroundImage:"url("+r+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundColor:"transparent"}).data("src",r),t.updateKenBurnExampleValues(),jQuery(".mainbg-sub-kenburns-selector").hide(),jQuery(".mainbg-sub-parallax-selector").show(),jQuery(".mainbg-sub-settings-selector").show(),jQuery("#button_change_image").appendTo(jQuery("#vimeo-image-picker")),jQuery("#button_change_image_objlib").appendTo(jQuery("#vimeo-image-picker")),jQuery("#video-settings").show(),jQuery("#bg-setting-wrap").hide(),jQuery("#vid-rev-vimeo-options").show(),jQuery(".video_volume_wrapper").show();break;case"streaminstagram":case"streaminstagramboth":jQuery("#streamvideo_cover").show(),jQuery("#streamvideo_cover_both").show(),r=rs_plugin_url+"public/assets/assets/sources/ig.png";case"html5":e.find(".defaultimg, .slotslidebg").css({backgroundImage:"url("+r+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundColor:"transparent"}),jQuery("#ken_burn_slot_example").css({backgroundImage:"url("+r+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundColor:"transparent"}).data("src",r),t.updateKenBurnExampleValues(),jQuery(".mainbg-sub-kenburns-selector").hide(),jQuery(".mainbg-sub-parallax-selector").show(),jQuery(".mainbg-sub-settings-selector").show(),jQuery("#button_change_image").appendTo(jQuery("#html5video-image-picker")),jQuery("#button_change_image_objlib").appendTo(jQuery("#html5video-image-picker")),jQuery("#video-settings").show(),jQuery("#bg-setting-wrap").hide()}if("solid"!=s&&"trans"!=s&&jQuery("#slide_selector .list_slide_links li.selected .slide-media-container ").css("background-image","url("+r+")"),jQuery("#divbgholder").css({background:"none",backgroundImage:"none",backgroundColor:"transparent"}),"checked"==jQuery("#thumb_for_admin").attr("checked")){var n=jQuery("#slide_thumb_button_preview div").css("background-image");jQuery("#slide_selector .list_slide_links li.selected .slide-media-container").css({"background-image":n,backgroundSize:"cover",backgroundPosition:"center center"})}u.resetSlideAnimations(!1)};var initDisallowCaptionsOnClick=function(){jQuery(".slide_layer.tp-caption a").on("click",function(){return!1})};function initSliderMainOptions(e){var t=e;jQuery(".bgsrcchanger-div").each(function(){("tp-bgimagesettings"!=jQuery(this).attr("id")||"tp-bgimagesettings"==jQuery(this).attr("id")&&"on"!=t.data("imgsettings"))&&("tp-bgimagesettings"==jQuery(this).attr("id")?jQuery(this).slideUp(200):jQuery(this).css({display:"none"}))}),jQuery("#"+t.data("callid")).css({display:"inline-block"}),"on"==t.data("imgsettings")&&jQuery("#tp-bgimagesettings").slideDown(200),"image"==jQuery('input[name="background_type"]:checked').val()?(jQuery(".rs-img-source-size").show(),jQuery("#alt_option").show(),jQuery("#title_option").show(),"custom"==jQuery("#alt_option option:selected").val()?jQuery("#alt_attr").show():jQuery("#alt_attr").hide(),"custom"==jQuery("#title_option option:selected").val()?jQuery("#title_attr").show():jQuery("#title_attr").hide()):(jQuery("#alt_option").hide(),jQuery("#title_option").hide(),jQuery("#alt_attr").show(),jQuery("#title_attr").hide(),jQuery(".rs-img-source-size").hide()),"external"==jQuery('input[name="background_type"]:checked').val()?jQuery(".ext_setting").show():jQuery(".ext_setting").hide()}var initAlignTable=function(){jQuery(".rs-new-align-button").click(function(){var e=jQuery(this);if(jQuery(e).parent().hasClass("table_disabled"))return!1;var r=jQuery("#layer_left_text"),a=jQuery("#layer_top_text"),i=e.data("hor"),o=e.data("ver");if(void 0===o){switch(jQuery("#rs-align-wrapper").find(".selected").removeClass("selected"),i){case"left":r.html(r.data("textnormal")).css("width","auto"),jQuery("#layer_left").val("10");break;case"right":r.html(r.data("textoffset")).css("width","42px"),jQuery("#layer_left").val("10");break;case"center":r.html(r.data("textoffset")).css("width","42px"),jQuery("#layer_left").val("0")}jQuery("#layer_align_hor").val(i)}else{switch(jQuery("#rs-align-wrapper-ver").find(".selected").removeClass("selected"),o){case"top":a.html(a.data("textnormal")).css("width","auto"),jQuery("#layer_top").val("10");break;case"bottom":a.html(a.data("textoffset")).css("width","42px"),jQuery("#layer_top").val("10");break;case"middle":a.html(a.data("textoffset")).css("width","42px"),jQuery("#layer_top").val("0")}jQuery("#layer_align_vert").val(o)}var s=t.getLayer(t.selectedLayerSerial);if("row"===s.type){switch(o){case"top":document.getElementById("row-zone-top").appendChild(s.references.htmlLayer[0]);break;case"middle":document.getElementById("row-zone-middle").appendChild(s.references.htmlLayer[0]);break;case"bottom":document.getElementById("row-zone-bottom").appendChild(s.references.htmlLayer[0])}s=t.setVal(s,"align_vert",o,!0,null,!0),t.checkRowZoneContents()}e.addClass("selected"),t.updateLayerFromFields(),t.toolbarInPos(),t.setMiddleRowZone(100)})},initMainEvents=function(){container.click(function(e){layerresized?layerresized=!1:(e.target!=this&&!jQuery(e.target).hasClass("slide_layers_border")||u.checkMultipleSelectedItems(!0),unselectLayers(),jQuery("#quick-layers-wrapper").slideUp(300),jQuery(".current-active-main-toolbar").removeClass("opened"),jQuery("#button_show_all_layer i").removeClass("eg-icon-up").addClass("eg-icon-menu"))})},showHideLinkActions=function(e,t){var r=e.closest("li"),a=e.val();switch(r.find(".action-link-wrapper").hide(),r.find(".action-jump-to-slide").hide(),r.find(".action-scrollofset").hide(),r.find(".action-speed-wrapper").hide(),r.find(".action-easing-wrapper").hide(),r.find(".action-target-layer").hide(),r.find(".action-callback").hide(),r.find(".action-toggle_layer").hide(),r.find(".action-toggleclass").hide(),r.find(".action-delay-wrapper").show(),a){case"none":r.find(".action-delay-wrapper").hide();break;case"link":r.find(".action-link-wrapper").show();break;case"jumpto":r.find(".action-jump-to-slide").show();break;case"scroll_under":r.find(".action-scrollofset").show(),r.find(".action-speed-wrapper").show(),r.find(".action-easing-wrapper").show();break;case"callback":r.find(".action-callback").show();break;case"start_in":case"start_out":case"start_video":case"stop_video":case"mute_video":case"unmute_video":case"toggle_video":case"toggle_mute_video":r.find(".action-target-layer").show();break;case"toggle_layer":r.find(".action-target-layer").show(),r.find(".action-toggle_layer").show();break;case"simulate_click":r.find(".action-target-layer").show();break;case"toggle_class":r.find(".action-target-layer").show(),r.find(".action-toggleclass").show()}switch(a){case"start_in":case"start_out":case"toggle_layer":r.find(".action-triggerstates").show();break;default:r.find(".action-triggerstates").hide()}switch(a){case"toggle_video":case"mute_video":case"unmute_video":case"toggle_global_mute_video":case"toggle_mute_video":case"start_video":case"stop_video":r.find(".action-target-layer").find('select[name="layer_target[]"] option').each(function(){"video"!==jQuery(this).data("mytype")&&"video-special"!==jQuery(this).data("mytype")&&"audio"!==jQuery(this).data("mytype")?"all"===jQuery(this).data("mytype")?jQuery(this).show():jQuery(this).hide():jQuery(this).show()});break;default:r.find(".action-target-layer").find('select[name="layer_target[]"] option').each(function(){"video-special"!==jQuery(this).data("mytype")?jQuery(this).show():"all"===jQuery(this).data("mytype")?jQuery(this).show():jQuery(this).hide()})}t&&u.updateAllLayerTimeline()},showHideToolTip=function(){var e=jQuery("#layer_tooltip_event").val(),t=jQuery(".tooltip-parrent-part"),r=jQuery(".tooltip-child-part");switch(e){case"none":t.hide(),r.hide();break;case"parrent":t.show(),r.hide();break;case"child":t.hide(),r.show()}},specOrVal=function(e,t,r,a){var i=parseFloat(e),o=void 0===a&&void 0!==i&&jQuery.isNumeric(i)&&!jQuery.isNumeric(e)?e.replace(i,""):void 0===a?void 0===r?"":r:a;return result=0<=jQuery.inArray(e,t)?e:void 0!==e&&jQuery.isNumeric(parseInt(e))&&0!==e.length?parseInt(e)+o:"",result};t.check_the_font_bold=function(e){var t=["100","200","300","400","500","600","700","800","900"];for(var r in initArrFontTypes)if(initArrFontTypes.hasOwnProperty(r)&&initArrFontTypes[r].label==e){void 0!==initArrFontTypes[r].variants&&(t=initArrFontTypes[r].variants);break}var a=jQuery('select[name="font_weight_static"]'),i=a.find("option:selected").val();for(var r in a.html(""),t)if(t.hasOwnProperty(r)){if(-1<t[r].indexOf("italic"))continue;a.append('<option value="'+t[r]+'">'+t[r]+"</option>")}a.find('option[value="'+i+'"]').attr("selected","selected")},t.do_google_font_loading=function(e){var r=[];for(var a in initArrFontTypes)if(initArrFontTypes.hasOwnProperty(a)&&initArrFontTypes[a].label==e){if("googlefont"==initArrFontTypes[a].type){var i="";for(var o in initArrFontTypes[a].variants)initArrFontTypes[a].variants.hasOwnProperty(o)&&(0<o&&(i+=","),i+=initArrFontTypes[a].variants[o]);if(void 0!==initArrFontTypes[a].subsets)for(var o in i+="&subset=",initArrFontTypes[a].subsets)initArrFontTypes[a].subsets.hasOwnProperty(o)&&(0<o&&(i+=","),i+=initArrFontTypes[a].subsets[o]);fontclass=e.replace(/\ /g,"-"),e=e.replace(/\ /g,"+"),0==jQuery(".rev-css-"+fontclass).length&&(r.push(e+":"+i),jQuery("body").append('<div style="display:none" class="rev-css-'+fontclass+'">RevSliderFont</div>'),-1==sgfamilies.indexOf(e)&&sgfamilies.push(e),null!==r&&0<r.length&&tpWebFont.load({google:{families:r},loading:function(){showWaitAMinute({fadeIn:300,text:e+" is Loading..."})},active:function(){setTimeout(function(){showWaitAMinute({fadeOut:300})},300),u.allLayerToIdle({type:"text"})},inactive:function(){setTimeout(function(){showWaitAMinute({fadeOut:300})},300),u.allLayerToIdle({type:"text"})}}))}break}t.sortFontTypesByUsage()};var initHtmlFields=function(){var r;jQuery("body").on("change",'select[name="layer_action[]"], select[name="no_layer_action[]"]',function(){showHideLinkActions(jQuery(this))}),jQuery("body").on("click","#kenburn-playpause-wrapper",function(){var e=jQuery("#kenburn-playpause-wrapper"),t=jQuery("#ken_burn_example").data("kbtl");e.hasClass("playing")?(e.html('<i class="eg-icon-play"></i><span>PLAY</span>'),e.removeClass("playing"),t.pause()):(e.html('<i class="eg-icon-pause"></i><span>PAUSE</span>'),e.addClass("playing"),t.play())}),jQuery("body").on("click","#kenburn-backtoidle",function(){jQuery("#ken_burn_example").data("kbtl").progress(0)}),jQuery(".kb_input_values").change(t.updateKenBurnExampleValues),jQuery("#layer_tooltip_event").change(showHideToolTip),jQuery("#layer_caption").catcomplete({source:initArrCaptionClasses,minLength:0,appendTo:"#tp-thelistofclasses",open:function(e,t){450<jQuery("#tp-thelistofclasses ul").height()&&jQuery("#tp-thelistofclasses ul").perfectScrollbar("destroy").perfectScrollbar({wheelPropagation:!1,suppressScrollX:!0})},close:function(e,r){var a=t.getCurrentLayer();if(!1===a||null==a)return!1;void 0!==a.style&&a.style!==jQuery("#layer_caption").val()&&(a.style=jQuery("#layer_caption").val(),t.reset_to_default_static_styles(a),updateSubStyleParameters(a,!0)),jQuery("#layer_caption").change(),jQuery("#css_font-family").change(),t.updateLayerFromFields()}}).data("customCatcomplete")._renderItem=function(e,t){var r=jQuery("<li></li>").data("item.autocomplete",t).append("<a>"+t.label+"</a>").appendTo(e);return r.attr("original-title",t.value),r},jQuery("#layer_captions_down").click(function(e){e.stopPropagation(),jQuery("#css_font-family").catcomplete("close"),jQuery("#css_editor_expert").hide(),jQuery("#css_editor_wrap").hide(),1==jQuery("#layer_caption").data("is_open")?jQuery("#layer_caption").catcomplete("close"):jQuery(this).hasClass("ui-state-active")&&(jQuery("#layer_caption").catcomplete("search","").data("customCatcomplete")._renderItem=function(e,t){var r=jQuery("<li></li>").data("item.autocomplete",t).append("<a>"+t.label+"</a>").appendTo(e);return r.attr("original-title",t.value),r})}),jQuery("#layer_caption").bind("catcompleteopen",function(){jQuery(this).data("is_open",!0),jQuery(".ui-autocomplete li").tipsy({delayIn:70,html:!0,gravity:"w",title:function(){return setTimeout(function(){jQuery(".tp-present-caption-small").parent().addClass("tp-present-wrapper-small"),jQuery(".tp-present-caption-small").parent().parent().addClass("tp-present-wrapper-parent-small")},10),'<div class="tp-present-caption-small"><div class="example-dark-blinker"></div><div class="tp-caption '+this.getAttribute("original-title")+'">example</div></div>'}})}),jQuery("#layer_caption").bind("catcompleteclose",function(){jQuery(this).data("is_open",!1)}),t.setLayersAutoComplete(),jQuery('input[name="adbutton-fontfamily"]').autocomplete({source:initArrFontTypes,minLength:0}),jQuery("#css_fonts_down").click(function(e){e.stopPropagation(),jQuery("#layer_caption").catcomplete("close"),1==jQuery("#css_font-family").data("is_open")?jQuery("#css_font-family").catcomplete("close"):jQuery(this).hasClass("ui-state-active")&&jQuery("#css_font-family").catcomplete("search","").data("ui-autocomplete")}),jQuery("body").click(function(){jQuery("#layer_caption").catcomplete("close"),jQuery("#css_font-family").catcomplete("close")}),jQuery("body").on("change",".form_layers select, #layer_proportional_scale, #layer_auto_line_break, #layer_displaymode",function(){t.updateLayerFromFields()}),jQuery("#layer_proportional_scale, #layer_auto_line_break, #layer_displaymode").change(function(){jQuery(this)[0].checked?jQuery(this).parent().removeClass("notselected"):jQuery(this).parent().addClass("notselected")}),jQuery("#layer_text").keyup(function(){clearTimeout(r);var e=jQuery(this).val();r=setTimeout(function(){updateLayerTextField("",jQuery(".sortlist li.ui-state-hover"),e),t.toolbarInPos(),t.updateLayerFromFields(),u.updateCurrentLayerTimeline()},150)}),jQuery("#layer_text_toggle").keyup(function(){clearTimeout(r);var e=jQuery(this).val();r=setTimeout(function(){updateLayerTextField("",jQuery(".sortlist li.ui-state-hover"),e),t.toolbarInPos(),t.updateLayerFromFields()},150)}),jQuery(".rev-visibility-on-sizes input").click(function(){t.updateLayerFromFields()}),jQuery("body").on("blur",".form_layers input, .form_layers textarea",function(){t.updateLayerFromFields()}),jQuery("body").on("change",".form_layers input, .form_layers textarea",function(){t.updateLayerFromFields()}),jQuery("body").on("keypress",".form_layers input, .form_layers textarea",function(e){13==e.keyCode&&t.updateLayerFromFields()}),jQuery("#delay").keypress(function(e){0<Number(jQuery("#delay").val())&&(g_slideTime=jQuery("#delay").val())}),jQuery("#delay").blur(function(){0<Number(jQuery("#delay").val())&&(g_slideTime=jQuery("#delay").val());var e=g_slideTime/10;jQuery("#mastertimer-maxtime").css({left:e+"px"}),jQuery("#mastertimer-maxcurtime").html(u.convToTime(e)),jQuery(".slide-idle-section").css({left:e}),jQuery(".mastertimer-slide .tl-fullanim").css({width:e+"px"}),u.mainMaxTimeLeft=e,u.masterTimerPositionChange(!0),u.compareLayerEndsVSSlideEnd()}),jQuery(".form_layers input").on("click",function(){jQuery(this).select()}),jQuery(".form_layers input").on("change blur focus",function(e){var t=jQuery(this),r=parseFloat(t.val()),a=parseFloat(t.data("min")),i=parseFloat(t.data("max")),o=t.val().slice(-1)||"",s=t.val().slice(-2)||"",n=t.data("suffix"),l=t.data("suffixalt");lastchangedinput=t.attr("id"),null!=n&&jQuery.isNumeric(r)&&-9999999<r&&r<9999999&&(null!=a&&r<a&&(r=a),null!=a&&i<r&&(r=i),isNaN(r)&&(r=0),r=Math.round(100*r)/100,null==l?t.val(r+n):o==l?t.val(r+o):s==l?t.val(r+s):t.val(r+n)),"focus"===e.type&&this.select()}),jQuery(".form_layers select").on("change blur focus",function(){lastchangedinput=jQuery(this).attr("id")}),jQuery("#layer_speed, #layer_endspeed, #layer_splitdelay, #layer_endsplitdelay, #layer_split, #layer_endsplit").on("change blur",function(){t.updateLayerFromFields(),u.updateCurrentLayerTimeline()}),jQuery("body").on("focus","#layer_text, #layer_text_toggle",function(){jQuery("#layer_text").removeClass("lasteditedlayertext"),jQuery("#layer_text_toggle").removeClass("lasteditedlayertext"),jQuery(this).addClass("lasteditedlayertext")})};t.nextNewLayerToPosition=function(e){t.newlayercoord.x=e.x,t.newlayercoord.y=e.y},t.setLayersAutoComplete=function(){jQuery("#css_font-family").catcomplete({source:initArrFontTypes,appendTo:"#tp-thelistoffonts",open:function(e,t){450<jQuery("#tp-thelistoffonts ul").height()&&(jQuery("#tp-thelistoffonts ul").perfectScrollbar("destroy").perfectScrollbar({wheelPropagation:!1,suppressScrollX:!0}),jQuery("#tp-thelistoffonts ul").scrollTop(0))},minLength:0,close:t.updateLayerFromFields,select:function(e,r){t.check_the_font_bold(r.item.label),t.do_google_font_loading(r.item.label)}}).data("customCatcomplete")._renderItem=function(e,t){var r=jQuery("<li></li>").data("item.autocomplete",t).append("<a>"+t.label+"</a>");return t.top?(r.prependTo(e),r.insertAfter("#insert-google-font-after-me")):r.appendTo(e),"Dont Show Me"==t.label&&(r.css({display:"block",height:"0px",width:"0px",visibility:"hidden"}),r.attr("id","insert-google-font-after-me")),r.attr("original-title",t.value),r},jQuery("#css_font-family").change(function(){var e=jQuery(this).val();t.check_the_font_bold(e),t.do_google_font_loading(e)}),jQuery("#css_font-family").bind("catcompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery("#css_font-family").bind("catcompleteclose",function(){jQuery(this).data("is_open",!1)})};var switchLayerBackground=function(e){t.updateCurrentLayer(e),t.add_layer_change();var r=t.getCurrentLayer();u.rebuildLayerIdleProgress(r.references.htmlLayer)},initButtons=function(){function p(e){var r=jQuery('input[name="background_type"]:checked').val();jQuery.inArray(r,-1!=["trans","solid","external"])&&jQuery("#radio_back_image").attr("checked","checked").change().click(),jQuery("#divbgholder").css("background-image","url("+e+")"),jQuery("#slide_selector .list_slide_links li.selected .slide-media-container ").css("background-image","url("+e+")"),jQuery("#image_url").val(e),jQuery("#image_id").val(""),t.changeSlotBGs(),jQuery(".bgsrcchanger:checked").click(),jQuery('input[name="kenburn_effect"]').is(":checked")&&jQuery('input[name="kb_start_fit"]').change()}jQuery("#button_add_layer").click(function(){addLayerText(1==jQuery(this).data("isstatic")?"static":null)}),jQuery("#button_add_layer_image").click(function(){var e=1==jQuery(this).data("isstatic")?rev_lang.select_static_layer_image:rev_lang.select_layer_image,i=1==jQuery(this).data("isstatic")?"static":null;UniteAdminRev.openAddImageDialog(e,function(e,t,r,a){addLayerImage({imgurl:e,imgid:t,imgwidth:r,imgheight:a},i)})}),jQuery("#button_add_layer_video").click(function(){var e=jQuery('input[name="rs-gallery-type"]').val();t.prepare_video_layer_add(e)}),jQuery("#button_add_layer_audio").click(function(){t.prepare_video_layer_add("audio")}),t.prepare_video_layer_add=function(e){switch(jQuery("#video_dialog_form").trigger("reset"),jQuery("#reset_video_dialog_tab").click(),e){case"youtube":jQuery(".rs-show-when-youtube-stream").show(),jQuery(".rs-hide-when-youtube-stream").show();break;case"vimeo":jQuery(".rs-show-when-vimeo-stream").show(),jQuery(".rs-hide-when-vimeo-stream").show();break;case"instagram":jQuery(".rs-show-when-instagram-stream").show(),jQuery(".rs-hide-when-instagram-stream").show()}var t=1==jQuery(this).data("isstatic")?"static":null;UniteAdminRev.openVideoDialog(function(e){addLayerVideo(e,t)},!1,e)},jQuery("#button_add_layer_button").click(function(){setExampleButtons(),jQuery("#dialog_addbutton").dialog({buttons:{Close:function(){jQuery("#dialog_addbutton").dialog("close")}},minWidth:830,minHeight:500,modal:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")}})}),jQuery("#button_add_layer_svg, #button_add_object_layer").click(function(){setExampleButtons(),t.callObjectLibraryDialog("object")}),jQuery("#button_change_image_objlib").click(function(){setExampleButtons(),t.callObjectLibraryDialog("background")}),jQuery("#button_change_image_yt").click(function(){!function(e){jQuery("#divbgholder").css("background-image","url("+e+")"),jQuery("#slide_selector .list_slide_links li.selected .slide-media-container ").css("background-image","url("+e+")"),jQuery("#image_url").val(e),jQuery("#image_id").val(""),t.changeSlotBGs(),jQuery(".bgsrcchanger:checked").click(),jQuery('input[name="kenburn_effect"]').is(":checked")&&jQuery('input[name="kb_start_fit"]').change()}("https://img.youtube.com/vi/"+jQuery("#slide_bg_youtube").val()+"/maxresdefault.jpg")}),jQuery("body").on("click",".layer-link-type-element",function(){var e=jQuery(this),r=e.closest(".list-of-layer-links"),a=r.find(".layer-link-type-element-cs"),i=t.getLayerByUniqueId(r.data("uniqueid")),o={};o.groupLink=e.data("linktype"),t.updateLayer(i.serial,o);for(var s=0;s<6;s++)a.removeClass("layer-link-type-"+s),i.references.htmlLayer.removeClass("ldles_"+s);i.references.htmlLayer.addClass("ldles_"+o.groupLink),a.addClass("layer-link-type-"+o.groupLink)}),jQuery("body").on("click",".objadd-single-item, .obj-item-size-selector",function(){var e=jQuery(this);if(-1===jQuery.inArray(e.data("type"),[1,2,"1","2","img"])){if(e.hasClass("obj-item-size-selector")){var r="1";switch(e.data("s")){case"xs":r=.1;break;case"s":r=.25;break;case"m":r=.5;break;case"l":r=.75;break;case"o":r=1}e=e.closest(".objadd-single-item")}var a=jQuery("#dialog_addobj").data("last_open_state"),i=jQuery("#obj-layer-bg-switcher").hasClass("addthisasbg");switch(i=("2"===e.data("type")||2===e.data("type"))&&i,i="layer"!==a&&i,e.data("type")){case"img":case"1":case"2":case 1:case 2:if(!rs_plugin_validated)return show_premium_dialog("register-to-acess-object-library"),jQuery("#dialog_addobj").dialog("close"),!1;var o=jQuery("#button_add_layer_image").data("isstatic"),s=(1==o?rev_lang.select_static_layer_image:rev_lang.select_layer_image,o?"static":null);if(-1!==(m=e.data("origsrc")).indexOf("/"))if(!0!==jQuery("#dialog_addobj").data("changeimg")){var n={imgurl:m,imglib:"objectlibrary",imgproportion:!0,imgwidth:parseInt(e.data("mediawidth"),0)*r,imgheight:parseInt(e.data("mediaheight"),0)*r};if("object"!==a||i){if("background"===a||i)p(m);else if("layer"===a){(l={}).bgimage_url=m,l.image_librarysize={},l.image_librarysize.width=parseInt(e.data("mediawidth"),0)*r,l.image_librarysize.height=parseInt(e.data("mediaheight"),0)*r,switchLayerBackground(l)}}else addLayerImage(n,s)}else{if("object"!==a||i){if("background"===a||i)p(m);else if("layer"===a){var l;(l={}).bgimage_url=m,l.image_librarysize={},l.image_librarysize.width=parseInt(e.data("mediawidth"),0)*r,l.image_librarysize.height=parseInt(e.data("mediaheight"),0)*r,switchLayerBackground(l)}}else(l={}).image_url=m,l.image_librarysize={},l.image_librarysize.width=parseInt(e.data("mediawidth"),0)*r,l.image_librarysize.height=parseInt(e.data("mediaheight"),0)*r,l.scaleProportional=!0,t.updateCurrentLayer(l),resetCurrentElementSize(),redrawLayerHtml(t.selectedLayerSerial),t.add_layer_change()}else!function(e,i,o,s,n,l){UniteAdminRev.ajaxRequest("load_library_object",{handle:e,type:"orig"},function(e){if(e.success){var r={imgurl:e.url,imglib:"objectlibrary",imgproportion:!0,imgwidth:parseInt(e.width,0)*o,imgheight:parseInt(e.height,0)*o};if("object"!==n||l){if("background"===n)p(e.url);else if("layer"===n){var a;(a={}).bgimage_url=e.url,a.image_librarysize={},a.image_librarysize.width=parseInt(e.width,0)*o,a.image_librarysize.height=parseInt(e.height,0)*o,switchLayerBackground(a)}}else if(s)(a={}).image_url=e.url,a.image_librarysize={},a.image_librarysize.width=parseInt(e.width,0)*o,a.image_librarysize.height=parseInt(e.height,0)*o,a.scaleProportional=!0,t.updateCurrentLayer(a),resetCurrentElementSize(),redrawLayerHtml(t.selectedLayerSerial),t.add_layer_change();else addLayerImage(r,i)}})}(m,s,r,jQuery("#dialog_addobj").data("changeimg"),a,i);jQuery("#dialog_addobj").data("changeimg",!1);break;case"svg":var d=e.find("svg");if(!0!==jQuery("#dialog_addobj").data("changesvg")){var y={},c=d.attr("width"),_=d.attr("height");y.static_styles={},y.static_styles=t.setVal(y.static_styles,"color","#000000",!0),y.deformation={},y["deformation-hover"]={},y.text=" ",y.alias="SVG",y.type="svg",y.style="",y.svg={},y.svg.src=jQuery(this).data("src"),y=t.setVal(y,"max_width",c,!0),(y=t.setVal(y,"max_height",_,!0)).createdOnInit=!1,addLayer(y)}else{var m=jQuery(this).data("src");c=d.attr("width"),_=d.attr("height");serial=jQuery("#dialog_addobj").data("changesvgserial"),jQuery.get(m,function(e){jQuery("#slide_layer_"+serial+" .innerslide_layer.tp-caption").first().html(""),jQuery("#slide_layer_"+serial+" .innerslide_layer.tp-caption").first()[0].innerHTML=(new XMLSerializer).serializeToString(e.documentElement),u.rebuildLayerIdle(jQuery("#slide_layer_"+serial));var r=t.getLayer(serial),a=parseInt(t.getVal(r,"max_width"),0);parseInt(t.getVal(r,"max_height"),0);_*=a/c,c=a,r.svg.src=m,r=t.setVal(r,"max_width",c,!0),r=t.setVal(r,"max_height",_,!0)}),t.add_layer_change(),jQuery("#dialog_addobj").data("changesvg",!1)}break;case"icon":addLayerText(1==jQuery(this).data("isstatic")?"static":null,'<i class="'+e.data("src")+'"></i>',50)}jQuery("#dialog_addobj").dialog("close")}}),jQuery("#button_add_layer_shape").click(function(){setExampleShape(),jQuery("#dialog_addshape").dialog({buttons:{Add:function(){var e={static_styles:{},deformation:{},"deformation-hover":{},text:" ",alias:"Shape",type:"shape",style:"",internal_class:"tp-shape tp-shapewrapper",autolinebreak:!1};e.deformation["background-color"]=jQuery('input[name="adshape-color-1"]').val(),e.deformation["background-transparency"]=jQuery('input[name="adshape-opacity-1"]').val(),e.deformation["border-color"]=jQuery('input[name="adshape-border-color"]').val(),e.deformation["border-opacity"]=jQuery('input[name="adshape-border-opacity"]').val(),e.deformation["border-transparency"]=jQuery('input[name="adshape-border-opacity"]').val(),e.deformation["border-width"]=jQuery('input[name="adshape-border-width"]').val(),e.deformation["border-style"]="solid",e.deformation["border-radius"]=[jQuery(".example-shape").css("borderTopLeftRadius"),jQuery(".example-shape").css("borderTopRightRadius"),jQuery(".example-shape").css("borderBottomRightRadius"),jQuery(".example-shape").css("borderBottomLeftRadius")],jQuery('input[name="shape_fullwidth"]')[0].checked?(e.max_width="100%",e.cover_mode="fullwidth"):e.max_width=jQuery('input[name="shape_width"]').val(),jQuery('input[name="shape_fullheight"]')[0].checked?(e.max_height="100%",e.cover_mode="fullheight"):e.max_height=jQuery('input[name="shape_height"]').val(),jQuery('input[name="shape_fullheight"]')[0].checked&&jQuery('input[name="shape_fullwidth"]')[0].checked&&(e.cover_mode="cover"),e.createdOnInit=!1,addLayer(e),jQuery("#dialog_addshape").dialog("close")},Close:function(){jQuery("#dialog_addshape").dialog("close")}},minWidth:830,minHeight:500,modal:!0,create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},dialogClass:"tpdialogs"})}),jQuery("#button_add_layer_import").click(function(){t.reset_import_layer(),jQuery("#dialog_addimport").dialog({minWidth:830,minHeight:500,modal:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")}})}),jQuery("#button_add_layer_group, #add_new_group").click(function(){addLayerGroup(1==jQuery(this).data("isstatic")?"static":null)}),jQuery("#add_new_row").click(function(){addLayerRow(1==jQuery(this).data("isstatic")?"static":null)}),jQuery("#rs-import-layer-slider").change(function(){var r=jQuery(this).val();return"-"==r?(t.reset_import_layer(),!1):void 0===import_slides[r]?(UniteAdminRev.ajaxRequest("get_import_slides_data",r,function(e){return void 0!==e.slides?(import_slides[r]=e.slides,t.do_clear_layer_import(),t.do_clear_slide_import(),t.do_add_slide_import(),t.do_show_sliders_import(),!0):(alert(rev_lang.empty_data_retrieved_for_slider),t.reset_import_layer(),!1)}),!1):(t.do_clear_layer_import(),t.do_clear_slide_import(),t.do_add_slide_import(),void t.do_show_sliders_import())}),jQuery("#rs-import-layer-type").change(function(){t.do_clear_layer_import(),t.do_show_sliders_import()}),jQuery("#rs-import-layer-slide").change(function(){t.do_clear_layer_import(),t.do_show_sliders_import()}),jQuery("body").on("click","#rs-import-layer-holder li .import-layer-now",function(){if(confirm(rev_lang.import_selected_layer)){var e=jQuery(this),r=e.closest("li"),a=r.data("sliderid"),i=r.data("slideid"),o=r.data("id");r.data("actiondep");if(void 0===import_slides[a])return!1;if(void 0===import_slides[a][i])return!1;var s=t.get_layers_to_add_through_actions(import_slides[a][i].layers,o);if(null!==s&&0<s.length)if(1<s.length&&confirm(rev_lang.import_all_layer_from_actions)){var n=[];for(var l in n=t.get_action_dependencies(r,i,n),s)if(s.hasOwnProperty(l))for(var d in s[l].createdOnInit=!1,addLayer(s[l],!0),r.addClass("layerimported"),e.find("i").addClass("eg-icon-ok").removeClass("eg-icon-plus"),n)if(n.hasOwnProperty(d)){var y=jQuery("#to-import-layer-id-"+i+"-"+n[d]);y.hasClass("layerimported")||(y.addClass("layerimported"),y.find(".import-layer-now i").addClass("eg-icon-ok").removeClass("eg-icon-plus"))}}else for(var l in s)if(s.hasOwnProperty(l)){s[l]=t.remove_import_layer_actions(s[l]),s[l].createdOnInit=!1,s[l].p_uid=-1,addLayer(s[l],!0),r.addClass("layerimported"),e.find("i").addClass("eg-icon-ok").removeClass("eg-icon-plus");break}}}),t.object_library_loaded=!1,t.callObjectLibraryDialog=function(o){t.object_library_loaded?t.call_object_dialog(o):UniteAdminRev.ajaxRequest("load_object_library",{},function(e){if(e.success){for(var r in e.data.html)e.data.html.hasOwnProperty(r)&&("tag"==e.data.html[r].type?jQuery(".object-tag-list").append('<span class="obj_library_cats" id="obj_library_cats_'+e.data.html[r].handle+'" data-tag="'+e.data.html[r].handle+'">'+e.data.html[r].name+"</span>"):"inner"==e.data.html[r].type&&jQuery("#object_library_results-inner").append('<div style="display:none" class="rs-obj-library"></div>'));for(var r in e.data.list)if(e.data.list.hasOwnProperty(r)){var a={handle:r,list:[]};for(var i in e.data.list[r])e.data.list[r].hasOwnProperty(i)&&a.list.push(e.data.list[r][i]);obj_libraries.push(a)}push_objects_to_library(),t.object_library_loaded=!0,t.call_object_dialog(o)}})},t.call_object_dialog=function(i){jQuery("#dialog_addobj").dialog({width:jQuery(window).width(),height:jQuery(window).height(),modal:!0,dialogClass:"tpdialogs fullscreen-dialog-window objectlibrary_dialog",create:function(e,t){var r=jQuery(e.target).parent().find(".ui-dialog-titlebar");r.addClass("tp-slider-new-dialog-title"),r.prepend('<span class="revlogo-mini" style="margin-right:15px;"></span>')},hide:{effect:"",delay:250},open:function(e){var r=jQuery(e.target).parent();if(setTimeout(function(){r.addClass("show")},200),jQuery("#dialog_addobj").data("last_open_state")!==i){jQuery("#dialog_addobj").data("last_open_state",i);var a=r.find(".ui-dialog-titlebar .ui-dialog-title");"background"===i?(jQuery(".obj_library_cats_filter").hide(),jQuery("#object_library_results").addClass("backgrounds"),jQuery("#obj_lib_main_cat_filt_bgimage").show().click(),a.html("Add Background Image")):"object"===i?(jQuery("#object_library_results").removeClass("backgrounds"),jQuery(".obj_library_cats_filter").show(),jQuery("#obj_lib_main_cat_filt_all").show().click(),a.html("Add Object Layer")):"layer"===i&&(jQuery(".obj_library_cats_filter").hide(),jQuery("#object_library_results").addClass("backgrounds"),jQuery("#obj_lib_main_cat_filt_bgimage").show(),jQuery("#obj_lib_main_cat_filt_image").show(),jQuery("#obj_lib_main_cat_filt_allimages").click(),a.html("Add Image as Layer Background"))}jQuery("#object_library_results-inner").perfectScrollbar("update"),0==jQuery(".obj_library_cats.selected").length&&jQuery(".obj_library_cats").first().click(),jQuery("#dialog_addobj").closest(".ui-dialog").addClass("visible-fullscreen-dialog"),t.setObjectLibraryHeight()},beforeClose:function(e){jQuery(e.target).parent().removeClass("show")},close:function(e){jQuery("#dialog_addobj").closest(".ui-dialog").removeClass("visible-fullscreen-dialog")}})},t.setObjectLibraryHeight=function(){var e=jQuery("#dialog_addobj");if(e.is(":visible")){var t=jQuery("#object_library_results"),r=jQuery(window).height(),a=jQuery("#addobj-dialog-header").height(),i=e.parent().find(".tp-slider-new-dialog-title").height(),o=r-(a+i+100);e.height(r-i),t.height(o)}},t.get_action_dependencies=function(e,r,a){var i=e.data("actiondep");if(""!==i)for(var o in i=i.toString().split(","))if(i.hasOwnProperty(o)&&"backgroundvideo"!==i[o]&&"firstvideo"!==i[o]&&-1==jQuery.inArray(i[o],a)){a.push(i[o]);var s=t.get_action_dependencies(jQuery("#to-import-layer-id-"+r+"-"+i[o]),r,a);for(var n in s)s.hasOwnProperty(n)&&-1==jQuery.inArray(s[n],a)&&a.push(s[n])}return a},t.remove_import_layer_actions=function(e){var t=["tooltip_event","action","image_link","link_open_in","jump_to_slide","scrollunder_offset","actioncallback","layer_target","action_delay","link_type","toggle_layer_type","toggle_class"];if(void 0!==e.layer_action&&void 0!==e.layer_action.action&&0<e.layer_action.action.length)for(var r in e.layer_action.action)if(e.layer_action.action.hasOwnProperty(r))switch(e.layer_action.action[r]){case"start_in":case"start_out":case"toggle_layer":case"start_video":case"stop_video":case"toggle_video":case"mute_video":case"unmute_video":case"toggle_global_mute_video":case"toggle_mute_video":case"simulate_click":case"toggle_class":for(var a in t)t.hasOwnProperty(a)&&void 0!==e.layer_action[t[a]]&&void 0!==e.layer_action[t[a]][r]&&delete e.layer_action[t[a]][r]}return e},t.get_layers_to_add_through_actions=function(e,r){var a=[];return a=t.add_layer_to_queue_by_unique_id(e,r,a),a=t.check_actions_change_unique_ids(a)},t.add_layer_to_queue_by_unique_id=function(e,r,a){for(var i in e)if(e.hasOwnProperty(i)&&e[i].unique_id==r&&(a.push(UniteAdminRev.duplicateObject(e[i])),void 0!==e[i].layer_action&&void 0!==e[i].layer_action.action&&0<e[i].layer_action.action.length)){var o=e[i].layer_action;for(var s in o.action)if(o.action.hasOwnProperty(s))switch(o.action[s]){case"start_in":case"start_out":case"toggle_layer":case"start_video":case"stop_video":case"toggle_video":case"mute_video":case"unmute_video":case"toggle_mute_video":case"toggle_global_mute_video":case"simulate_click":case"toggle_class":if(o.layer_target[s]){var n=!0;for(var l in a)if(a.hasOwnProperty(l)&&a[l].unique_id==o.layer_target[s]){n=!1;break}if(n)for(var d in e)if(e.hasOwnProperty(d)&&e[d].unique_id==o.layer_target[s]){t.add_layer_to_queue_by_unique_id(e,e[d].unique_id,a);break}}}}return a},t.check_actions_change_unique_ids=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(unique_layer_id++,t[e[r].unique_id]=unique_layer_id,e[r].unique_id=unique_layer_id);for(var r in e)if(e.hasOwnProperty(r)&&void 0!==e[r].layer_action&&void 0!==e[r].layer_action.action&&0<e[r].layer_action.action.length){for(var a in e[r].layer_action.layer_target)if(e[r].layer_action.layer_target.hasOwnProperty(a))for(var i in t)if(t.hasOwnProperty(i)&&i==e[r].layer_action.layer_target[a]){e[r].layer_action.layer_target[a]=t[i];break}for(var a in e[r].layer_action.jump_to_slide)e[r].layer_action.jump_to_slide.hasOwnProperty(a)&&(e[r].layer_action.jump_to_slide[a]="-1")}return e},t.reset_import_layer=function(){jQuery('#rs-import-layer-slider option[value="-"]').attr("selected",!0),jQuery('#rs-import-layer-slide option[value="-"]').attr("selected",!0),jQuery('#rs-import-layer-type option[value="-"]').attr("selected",!0)},t.do_add_slide_import=function(){var e=jQuery("#rs-import-layer-slider option:selected").val();if("-"==e||void 0===import_slides[e])return!1;for(var t in import_slides[e])import_slides[e].hasOwnProperty(t)&&jQuery("#rs-import-layer-slide").append(jQuery("<option></option>").val(t).text("Slide: "+import_slides[e][t].params.title))},t.do_clear_slide_import=function(){jQuery("#rs-import-layer-slide option").each(function(){"all"!==jQuery(this).val()&&"-"!==jQuery(this).val()&&jQuery(this).remove()})},t.do_clear_layer_import=function(){jQuery("#rs-import-layer-holder").html("")},t.do_show_sliders_import=function(){var e=jQuery("#rs-import-layer-slider option:selected").val(),r=jQuery("#rs-import-layer-slide option:selected").val(),a=jQuery("#rs-import-layer-type option:selected").val();if("-"==e)return!1;if(void 0===import_slides[e])return!1;for(var i in import_slides[e])if(import_slides[e].hasOwnProperty(i)&&("all"==r||"-"==r||r==i))for(var o in 0<import_slides[e][i].layers.length&&jQuery("#rs-import-layer-holder").append('<li class="layer-import-slide-seperator">Slide Title - '+import_slides[e][i].params.title+"</li>"),import_slides[e][i].layers)if(import_slides[e][i].layers.hasOwnProperty(o)&&("all"==a||"-"==a||a==import_slides[e][i].layers[o].type)){var s=[];s=t.get_action_string_dependencies(import_slides[e][i].layers[o],r,s,import_slides[e][i].layers);var n="off";if(void 0!==import_slides[e][i].layers[o].layer_action&&void 0!==import_slides[e][i].layers[o].layer_action.action&&0<import_slides[e][i].layers[o].layer_action.action.length){for(var l in import_slides[e][i].layers[o].layer_action.action)if(import_slides[e][i].layers[o].layer_action.action.hasOwnProperty(l))switch(import_slides[e][i].layers[o].layer_action.action[l]){case"start_in":case"start_out":case"toggle_layer":case"start_video":case"stop_video":case"toggle_video":case"mute_video":case"unmute_video":case"toggle_mute_video":case"toggle_global_mute_video":case"simulate_click":case"toggle_class":s.push(import_slides[e][i].layers[o].layer_action.layer_target[l])}n="on"}var d=global_layer_import_template({withaction:n,action_layers:s,type:import_slides[e][i].layers[o].type,alias:import_slides[e][i].layers[o].alias,width:import_slides[e][i].layers[o].width,height:import_slides[e][i].layers[o].height,unique_id:import_slides[e][i].layers[o].unique_id,slider_id:e,slide_id:i});jQuery("#rs-import-layer-holder").append(d)}},t.get_action_string_dependencies=function(e,r,a,i){if(void 0!==e.layer_action&&void 0!==e.layer_action.action&&0<e.layer_action.action.length)for(var o in e.layer_action.action)if(e.layer_action.action.hasOwnProperty(o))switch(e.layer_action.action[o]){case"start_in":case"start_out":case"toggle_layer":case"start_video":case"stop_video":case"toggle_video":case"mute_video":case"unmute_video":case"toggle_mute_video":case"toggle_global_mute_video":case"simulate_click":case"toggle_class":if(void 0!==e.layer_action.layer_target&&void 0!==e.layer_action.layer_target[o]&&"backgroundvideo"!==e.layer_action.layer_target[o]&&"firstvideo"!==e.layer_action.layer_target[o]&&-1==jQuery.inArray(e.layer_action.layer_target[o],a))for(var s in a.push(e.layer_action.layer_target[o]),i)if(i.hasOwnProperty(s)&&i[s].unique_id==e.layer_action.layer_target[o]){var n=t.get_action_string_dependencies(i[s],r,a,i);for(var l in n)n.hasOwnProperty(l)&&-1==jQuery.inArray(n[l],a)&&a.push(n[l]);break}}return a},jQuery("body").on("click",".addbutton-examples-wrapper a.rev-btn",function(){var e={static_styles:{},inline:{idle:{},hover:{}},deformation:{},"deformation-hover":{}};e.text=jQuery('input[name="adbutton-text"]').val(),e.type="button",e.subtype="roundbutton",e.specialsettings={},e.alias="Button",e.style="",e.internal_class=jQuery(this).data("needclass"),e["resize-full"]=!1,e.resizeme=!1,e.static_styles.color=jQuery('input[name="adbutton-color-2"]').val(),e.static_styles["font-size"]=jQuery(this).css("font-size"),e.static_styles["line-height"]=jQuery(this).css("font-size"),e.static_styles["font-weight"]=jQuery(this).css("font-weight"),e.max_width="auto",e.max_height="auto",e.autolinebreak=!1,e.deformation.padding=[jQuery(this).css("paddingTop"),jQuery(this).css("paddingRight"),jQuery(this).css("paddingBottom"),jQuery(this).css("paddingLeft")],e.deformation["font-family"]=jQuery('input[name="adbutton-fontfamily"]').val(),e.deformation["background-color"]=jQuery('input[name="adbutton-color-1"]').val(),e.deformation["background-transparency"]=jQuery('input[name="adbutton-opacity-1"]').val(),e.deformation["color-transparency"]=jQuery('input[name="adbutton-opacity-2"]').val(),e.deformation["border-radius"]=[jQuery(this).css("borderTopLeftRadius"),jQuery(this).css("borderTopRightRadius"),jQuery(this).css("borderBottomRightRadius"),jQuery(this).css("borderBottomLeftRadius")],e.deformation["border-color"]=jQuery('input[name="adbutton-border-color"]').val(),e.deformation["border-transparency"]=jQuery('input[name="adbutton-border-opacity"]').val(),e.deformation["border-opacity"]=jQuery('input[name="adbutton-border-opacity"]').val(),e.deformation["border-width"]=[jQuery('input[name="adbutton-border-width"]').val(),jQuery('input[name="adbutton-border-width"]').val(),jQuery('input[name="adbutton-border-width"]').val(),jQuery('input[name="adbutton-border-width"]').val()],e.deformation["border-style"]="solid",jQuery(this).hasClass("rev-withicon")?(e.deformation["icon-class"]=jQuery(".addbutton-icon i").attr("class"),e.text+='<i class="'+e.deformation["icon-class"]+'"></i>'):e.deformation["icon-class"]="",e.hover=!0,e["deformation-hover"]["background-color"]=jQuery('input[name="adbutton-color-1-h"]').val(),e["deformation-hover"]["background-transparency"]=jQuery('input[name="adbutton-opacity-1-h"]').val(),e["deformation-hover"].color=jQuery('input[name="adbutton-color-2-h"]').val(),e["deformation-hover"]["color-transparency"]=jQuery('input[name="adbutton-opacity-2-h"]').val(),e["deformation-hover"]["border-radius"]=[jQuery(this).css("borderTopLeftRadius"),jQuery(this).css("borderTopRightRadius"),jQuery(this).css("borderBottomRightRadius"),jQuery(this).css("borderBottomLeftRadius")],e["deformation-hover"]["border-color"]=jQuery('input[name="adbutton-border-color-h"]').val(),e["deformation-hover"]["border-transparency"]=jQuery('input[name="adbutton-border-opacity-h"]').val(),e["deformation-hover"]["border-opacity"]=jQuery('input[name="adbutton-border-opacity-h"]').val(),e["deformation-hover"]["border-width"]=[jQuery('input[name="adbutton-border-width-h"]').val(),jQuery('input[name="adbutton-border-width-h"]').val(),jQuery('input[name="adbutton-border-width-h"]').val(),jQuery('input[name="adbutton-border-width-h"]').val()],e["deformation-hover"]["border-style"]="solid",jQuery(this).hasClass("rev-hiddenicon")?(e["deformation-hover"]["icon-class"]=jQuery(".addbutton-icon i").attr("class"),e.text+=' <i class="'+e["deformation-hover"]["icon-class"]+'"></i>'):e["deformation-hover"]["icon-class"]="",jQuery(this).hasClass("rev-btn")&&(e.deformation["text-decoration"]="none",e["deformation-hover"].css_cursor="pointer",e["deformation-hover"].pointer_events="auto",e.inline.idle.outline="none",e.inline.idle["box-shadow"]="none",e.inline.idle["box-sizing"]="border-box",e.inline.idle["-moz-box-sizing"]="border-box",e.inline.idle["-webkit-box-sizing"]="border-box"),jQuery(this).hasClass("rev-uppercase")&&(e.inline.idle["text-transform"]="uppercase",e.inline.idle["letter-spacing"]="1px"),e.createdOnInit=!1,addLayer(e),jQuery("#dialog_addbutton").dialog("close")});function r(e){var t={static_styles:{},inline:{idle:{},hover:{}},deformation:{},"deformation-hover":{}};t.text=e.html(),t.type="button",t.specialsettings={},t.style="",t.internal_class=e.data("needclass"),t["resize-full"]=!1,t.resizeme=!1,t.max_width=e.css("width"),t.max_height=e.css("height"),t.deformation.padding=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")],t.deformation["background-color"]=UniteAdminRev.rgb2hex(e.css("backgroundColor"));var r=UniteAdminRev.getTransparencyFromRgba(e.css("backgroundColor"));0==(r=!1===r?1:r)&&(t.deformation["background-color"]="transparent"),t.deformation["background-opacity"]=r,t.deformation["background-transparency"]=r,t.deformation["border-color"]=UniteAdminRev.rgb2hex(e.css("borderTopColor"));var a=UniteAdminRev.getTransparencyFromRgba(e.css("borderTopColor"));return 0==(a=!1===a?1:a)&&(t.deformation["border-color"]="transparent"),t.deformation["border-opacity"]=a,t.deformation["border-transparency"]=a,t.deformation["border-radius"]=[e.css("borderTopLeftRadius"),e.css("borderTopRightRadius"),e.css("borderBottomRightRadius"),e.css("borderBottomLeftRadius")],t.deformation["border-width"]=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],t.deformation["border-style"]=e.css("borderTopStyle"),t["deformation-hover"].css_cursor=e.css("cursor"),t["deformation-hover"].pointer_events=e.css("pointer-events")||"auto",t.inline.idle["box-sizing"]="border-box",t.inline.idle["-moz-box-sizing"]="border-box",t.inline.idle["-webkit-box-sizing"]="border-box",t}jQuery("body").on("click",".addbutton-examples-wrapper div.rev-burger",function(){var e=r(jQuery(this));e.alias="Burger Button",e.subtype="burgerbutton",e.layer_action={},e.layer_action.tooltip_event=[],e.layer_action.tooltip_event.push("click"),e.layer_action.action=[],e.layer_action.action.push("toggle_class"),e.layer_action.layer_target=[],e.layer_action.layer_target.push("self"),e.layer_action.action_delay=[],e.layer_action.action_delay.push(0),e.layer_action.toggle_class=[],e.layer_action.toggle_class.push("open"),e.createdOnInit=!1,addLayer(e),jQuery("#dialog_addbutton").dialog("close")}),jQuery("body").on("click",".addbutton-examples-wrapper span.rev-control-btn",function(){var e=r(jQuery(this));e.alias="Control Button",e.subtype="controlbutton",void 0===e.static_styles&&(e.static_styles={}),e.static_styles["font-size"]=jQuery(this).css("font-size"),e.static_styles["line-height"]=jQuery(this).css("line-height"),e.static_styles["font-weight"]=jQuery(this).css("font-weight"),e.static_styles.color=UniteAdminRev.rgb2hex(jQuery(this).css("color")),e.deformation["font-family"]=jQuery(this).css("font-family"),e["text-align"]=jQuery(this).css("text-align"),e.deformation["vertical-align"]=jQuery(this).css("vertical-align"),e.createdOnInit=!1,addLayer(e),jQuery("#dialog_addbutton").dialog("close")}),jQuery("body").on("click",".addbutton-examples-wrapper span.rev-scroll-btn",function(){var e=r(jQuery(this));e.subtype="scrollbutton",e.alias="Scroll Button",e.createdOnInit=!1,addLayer(e),jQuery("#dialog_addbutton").dialog("close")}),jQuery("#linkInsertTemplate").click(function(){if(jQuery(this).hasClass("disabled"))return!1;add_meta_into="";var e={Cancel:function(){jQuery("#dialog_template_insert").dialog("close")}};jQuery("#dialog_template_insert").dialog({buttons:e,minWidth:700,dialogClass:"tpdialogs",modal:!0,create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")}})}),jQuery(".rs-param-meta-open").click(function(){add_meta_into="params_"+jQuery(this).data("curid");var e={Cancel:function(){jQuery("#dialog_template_insert").dialog("close")}};jQuery("#dialog_template_insert").dialog({buttons:e,minWidth:700,dialogClass:"tpdialogs",modal:!0,create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")}})}),jQuery("#rs-undo-handler").click(function(){t.undo_redo_layer("undo")}),jQuery("#rs-redo-handler").click(function(){t.undo_redo_layer("redo")}),jQuery("body").on("click",".rs-undo-step",function(){var e=jQuery(this).data("gotokey");t.undo_redo_layer("undo",e)}),jQuery("body").on("click",".rs-redo-step",function(){var e=jQuery(this).data("gotokey");t.undo_redo_layer("redo",e)})},createNewAnimObj=function(e){var t=new Object;return"start"==e?(t.movex=jQuery('input[name="layer_anim_xstart"]').val(),t.movey=jQuery('input[name="layer_anim_ystart"]').val(),t.mask=jQuery("#masking-start")[0].checked,t.movez=jQuery('input[name="layer_anim_zstart"]').val(),t.rotationx=jQuery('input[name="layer_anim_xrotate"]').val(),t.rotationy=jQuery('input[name="layer_anim_yrotate"]').val(),t.rotationz=jQuery('input[name="layer_anim_zrotate"]').val(),t.scalex=jQuery('input[name="layer_scale_xstart"]').val(),t.scaley=jQuery('input[name="layer_scale_ystart"]').val(),t.skewx=jQuery('input[name="layer_skew_xstart"]').val(),t.skewy=jQuery('input[name="layer_skew_ystart"]').val(),t.captionopacity=jQuery('input[name="layer_opacity_start"]').val(),t.blurfilter=jQuery('input[name="blurfilter_start"]').val(),t.grayscalefilter=jQuery('input[name="grayscalefilter_start"]').val(),t.mask=jQuery("#masking-start")[0].checked,t.mask_x=jQuery('input[name="mask_anim_xstart"]').val(),t.mask_y=jQuery('input[name="mask_anim_ystart"]').val(),t.mask_ease=jQuery('input[name="mask_easing"]').val(),t.mask_speed=jQuery('input[name="mask_speed"]').val(),t.easing=jQuery('select[name="layer_easing"] option:selected').val(),t.speed=jQuery('input[name="layer_speed"]').val(),t.split=jQuery('select[name="layer_split"] option:selected').val(),t.splitdelay=jQuery('input[name="layer_splitdelay"]').val(),t.movex_reverse=jQuery("#layer_anim_xstart_reverse")[0].checked,t.movey_reverse=jQuery("#layer_anim_ystart_reverse")[0].checked,t.rotationx_reverse=jQuery("#layer_anim_xrotate_reverse")[0].checked,t.rotationy_reverse=jQuery("#layer_anim_yrotate_reverse")[0].checked,t.rotationz_reverse=jQuery("#layer_anim_zrotate_reverse")[0].checked,t.scalex_reverse=jQuery("#layer_scale_xstart_reverse")[0].checked,t.scaley_reverse=jQuery("#layer_scale_ystart_reverse")[0].checked,t.skewx_reverse=jQuery("#layer_skew_xstart_reverse")[0].checked,t.skewy_reverse=jQuery("#layer_skew_ystart_reverse")[0].checked,t.mask_x_reverse=jQuery("#mask_anim_xstart_reverse")[0].checked,t.mask_y_reverse=jQuery("#mask_anim_ystart_reverse")[0].checked):(t.movex=jQuery("#layer_anim_xend").val(),t.movey=jQuery("#layer_anim_yend").val(),t.movez=jQuery("#layer_anim_zend").val(),t.rotationx=jQuery("#layer_anim_xrotate_end").val(),t.rotationy=jQuery("#layer_anim_yrotate_end").val(),t.rotationz=jQuery("#layer_anim_zrotate_end").val(),t.scalex=jQuery("#layer_scale_xend").val(),t.scaley=jQuery("#layer_scale_yend").val(),t.skewx=jQuery("#layer_skew_xend").val(),t.skewy=jQuery("#layer_skew_yend").val(),t.captionopacity=jQuery("#layer_opacity_end").val(),t.mask=jQuery("#masking-end")[0].checked,t.mask_x=jQuery("#mask_anim_xend").val(),t.mask_y=jQuery("#mask_anim_yend").val(),t.easing=jQuery("#layer_endeasing option:selected").val(),t.speed=jQuery("#layer_endspeed").val(),t.split=jQuery("#layer_endsplit option:selected").val(),t.splitdelay=jQuery("#layer_endsplitdelay").val(),t.movex_reverse=jQuery("#layer_anim_xend_reverse")[0].checked,t.movey_reverse=jQuery("#layer_anim_yend_reverse")[0].checked,t.rotationx_reverse=jQuery("#layer_anim_xrotate_end_reverse")[0].checked,t.rotationy_reverse=jQuery("#layer_anim_yrotate_end_reverse")[0].checked,t.rotationz_reverse=jQuery("#layer_anim_zrotate_end_reverse")[0].checked,t.scalex_reverse=jQuery("#layer_scale_xend_reverse")[0].checked,t.scaley_reverse=jQuery("#layer_scale_yend_reverse")[0].checked,t.skewx_reverse=jQuery("#layer_skew_xend_reverse")[0].checked,t.skewy_reverse=jQuery("#layer_skew_yend_reverse")[0].checked,t.mask_x_reverse=jQuery("#mask_anim_xend_reverse")[0].checked,t.mask_y_reverse=jQuery("#mask_anim_xend_reverse")[0].checked),t},setNewAnimFromObj=function(e,r){if(null==r)return!0;"start"==e?(void 0!==r.movex?jQuery('input[name="layer_anim_xstart"]').val(r.movex):jQuery('input[name="layer_anim_xstart"]').val(0),void 0!==r.movey?jQuery('input[name="layer_anim_ystart"]').val(r.movey):jQuery('input[name="layer_anim_ystart"]').val(0),void 0!==r.movez?jQuery('input[name="layer_anim_zstart"]').val(r.movez):jQuery('input[name="layer_anim_zstart"]').val(0),void 0!==r.rotationx?jQuery('input[name="layer_anim_xrotate"]').val(r.rotationx):jQuery('input[name="layer_anim_xrotate"]').val(0),void 0!==r.rotationy?jQuery('input[name="layer_anim_yrotate"]').val(r.rotationy):jQuery('input[name="layer_anim_yrotate"]').val(0),void 0!==r.rotationz?jQuery('input[name="layer_anim_zrotate"]').val(r.rotationz):jQuery('input[name="layer_anim_zrotate"]').val(0),void 0!==r.scalex?jQuery('input[name="layer_scale_xstart"]').val(r.scalex):jQuery('input[name="layer_scale_xstart"]').val(0),void 0!==r.scaley?jQuery('input[name="layer_scale_ystart"]').val(r.scaley):jQuery('input[name="layer_scale_ystart"]').val(0),void 0!==r.skewx?jQuery('input[name="layer_skew_xstart"]').val(r.skewx):jQuery('input[name="layer_skew_xstart"]').val(0),void 0!==r.skewy?jQuery('input[name="layer_skew_ystart"]').val(r.skewy):jQuery('input[name="layer_skew_ystart"]').val(0),void 0!==r.captionopacity?jQuery('input[name="layer_opacity_start"]').val(r.captionopacity):jQuery('input[name="layer_opacity_start"]').val(0),void 0!==r.blurfilter?jQuery('input[name="blurfilter_start"]').val(r.blurfilter):jQuery('input[name="blurfilter_start"]').val(0),void 0!==r.grayscalefilter?jQuery('input[name="grayscalefilter_start"]').val(r.grayscalefilter):jQuery('input[name="grayscalefilter_start"]').val(0),void 0===r.mask||"true"!=r.mask&&1!=r.mask?jQuery("#masking-start").attr("checked",!1):jQuery("#masking-start").attr("checked",!0),void 0!==r.mask_x?jQuery('input[name="mask_anim_xstart"]').val(r.mask_x):jQuery('input[name="mask_anim_xstart"]').val(0),void 0!==r.mask_y?jQuery('input[name="mask_anim_ystart"]').val(r.mask_y):jQuery('input[name="mask_anim_ystart"]').val(0),void 0!==r.mask_ease?jQuery('input[name="mask_easing"]').val(r.mask_ease):jQuery('input[name="mask_easing"]').val(0),void 0!==r.mask_speed?jQuery('input[name="mask_speed"]').val(r.mask_speed):jQuery('input[name="mask_speed"]').val(0),void 0!==r.easing&&jQuery('select[name="layer_easing"] option[value="'+r.easing+'"]').attr("selected","selected"),void 0!==r.speed&&jQuery('input[name="layer_speed"]').val(r.speed),void 0!==r.split&&jQuery('select[name="layer_split"] option[value="'+r.split+'"]').attr("selected","selected"),void 0!==r.splitdelay&&jQuery('input[name="layer_splitdelay"]').val(r.splitdelay),void 0===r.movex_reverse||"true"!=r.movex_reverse&&1!=r.movex_reverse?jQuery("#layer_anim_xstart_reverse").attr("checked",!1):jQuery("#layer_anim_xstart_reverse").attr("checked",!0),void 0===r.movey_reverse||"true"!=r.movey_reverse&&1!=r.movey_reverse?jQuery("#layer_anim_ystart_reverse").attr("checked",!1):jQuery("#layer_anim_ystart_reverse").attr("checked",!0),void 0===r.rotationx_reverse||"true"!=r.rotationx_reverse&&1!=r.rotationx_reverse?jQuery('input[name="layer_anim_xrotate_start_reverse"]').attr("checked",!1):jQuery('input[name="layer_anim_xrotate_start_reverse"]').attr("checked",!0),void 0===r.rotationy_reverse||"true"!=r.rotationy_reverse&&1!=r.rotationy_reverse?jQuery('input[name="layer_anim_yrotate_start_reverse"]').attr("checked",!1):jQuery('input[name="layer_anim_yrotate_start_reverse"]').attr("checked",!0),void 0===r.rotationz_reverse||"true"!=r.rotationz_reverse&&1!=r.rotationz_reverse?jQuery('input[name="layer_anim_zrotate_start_reverse"]').attr("checked",!1):jQuery('input[name="layer_anim_zrotate_start_reverse"]').attr("checked",!0),void 0===r.scalex_reverse||"true"!=r.scalex_reverse&&1!=r.scalex_reverse?jQuery("#layer_scale_xstart_reverse").attr("checked",!1):jQuery("#layer_scale_xstart_reverse").attr("checked",!0),void 0===r.scaley_reverse||"true"!=r.scaley_reverse&&1!=r.scaley_reverse?jQuery("#layer_scale_ystart_reverse").attr("checked",!1):jQuery("#layer_scale_ystart_reverse").attr("checked",!0),void 0===r.skewx_reverse||"true"!=r.skewx_reverse&&1!=r.skewx_reverse?jQuery("#layer_skew_xstart_reverse").attr("checked",!1):jQuery("#layer_skew_xstart_reverse").attr("checked",!0),void 0===r.skewy_reverse||"true"!=r.skewy_reverse&&1!=r.skewy_reverse?jQuery("#layer_skew_ystart_reverse").attr("checked",!1):jQuery("#layer_skew_ystart_reverse").attr("checked",!0),void 0===r.mask_x_reverse||"true"!=r.mask_x_reverse&&1!=r.mask_x_reverse?jQuery("#mask_anim_xstart_reverse").attr("checked",!1):jQuery("#mask_anim_xstart_reverse").attr("checked",!0),void 0===r.mask_y_reverse||"true"!=r.mask_y_reverse&&1!=r.mask_y_reverse?jQuery("#mask_anim_ystart_reverse").attr("checked",!1):jQuery("#mask_anim_ystart_reverse").attr("checked",!0)):(void 0!==r.movex?jQuery("#layer_anim_xend").val(r.movex):jQuery("#layer_anim_xend").val(0),void 0!==r.movey?jQuery("#layer_anim_yend").val(r.movey):jQuery("#layer_anim_yend").val(0),void 0!==r.movez?jQuery("#layer_anim_zend").val(r.movez):jQuery("#layer_anim_zend").val(0),void 0!==r.rotationx?jQuery("#layer_anim_xrotate_end").val(r.rotationx):jQuery("#layer_anim_xrotate_end").val(0),void 0!==r.rotationy?jQuery("#layer_anim_yrotate_end").val(r.rotationy):jQuery("#layer_anim_yrotate_end").val(0),void 0!==r.rotationz?jQuery("#layer_anim_zrotate_end").val(r.rotationz):jQuery("#layer_anim_zrotate_end").val(0),void 0!==r.scalex?jQuery("#layer_scale_xend").val(r.scalex):jQuery("#layer_scale_xend").val(0),void 0!==r.scaley?jQuery("#layer_scale_yend").val(r.scaley):jQuery("#layer_scale_yend").val(0),void 0!==r.skewx?jQuery("#layer_skew_xend").val(r.skewx):jQuery("#layer_skew_xend").val(0),void 0!==r.skewy?jQuery("#layer_skew_yend").val(r.skewy):jQuery("#layer_skew_yend").val(0),void 0!==r.captionopacity?jQuery("#layer_opacity_end").val(r.captionopacity):jQuery("#layer_opacity_end").val(0),void 0===r.mask||"true"!=r.mask&&1!=r.mask?jQuery("#masking-end").attr("checked",!1):jQuery("#masking-end").attr("checked",!0),void 0!==r.mask_x?jQuery("#mask_anim_xend").val(r.mask_x):jQuery("#mask_anim_xend").val(0),void 0!==r.mask_y?jQuery("#mask_anim_yend").val(r.mask_y):jQuery("#mask_anim_yend").val(0),void 0!==r.easing&&jQuery('#layer_endeasing option[value="'+r.easing+'"]').attr("selected","selected"),void 0!==r.speed&&jQuery("#layer_endspeed").val(r.speed),void 0!==r.split&&jQuery('#layer_endsplit option[value="'+r.split+'"]').attr("selected","selected"),void 0!==r.splitdelay&&jQuery("#layer_endsplitdelay").val(r.splitdelay),void 0===r.movex_reverse||"true"!=r.movex_reverse&&1!=r.movex_reverse?jQuery("#layer_anim_xend_reverse").attr("checked",!1):jQuery("#layer_anim_xend_reverse").attr("checked",!0),void 0===r.movey_reverse||"true"!=r.movey_reverse&&1!=r.movey_reverse?jQuery("#layer_anim_yend_reverse").attr("checked",!1):jQuery("#layer_anim_yend_reverse").attr("checked",!0),void 0===r.rotationx_reverse||"true"!=r.rotationx_reverse&&1!=r.rotationx_reverse?jQuery("#layer_anim_xrotate_end_reverse").attr("checked",!1):jQuery("#layer_anim_xrotate_end_reverse").attr("checked",!0),void 0===r.rotationy_reverse||"true"!=r.rotationy_reverse&&1!=r.rotationy_reverse?jQuery("#layer_anim_yrotate_end_reverse").attr("checked",!1):jQuery("#layer_anim_yrotate_end_reverse").attr("checked",!0),void 0===r.rotationz_reverse||"true"!=r.rotationz_reverse&&1!=r.rotationz_reverse?jQuery("#layer_anim_zrotate_end_reverse").attr("checked",!1):jQuery("#layer_anim_zrotate_end_reverse").attr("checked",!0),void 0===r.scalex_reverse||"true"!=r.scalex_reverse&&1!=r.scalex_reverse?jQuery("#layer_scale_xend_reverse").attr("checked",!1):jQuery("#layer_scale_xend_reverse").attr("checked",!0),void 0===r.scaley_reverse||"true"!=r.scaley_reverse&&1!=r.scaley_reverse?jQuery("#layer_scale_yend_reverse").attr("checked",!1):jQuery("#layer_scale_yend_reverse").attr("checked",!0),void 0===r.skewx_reverse||"true"!=r.skewx_reverse&&1!=r.skewx_reverse?jQuery("#layer_skew_xend_reverse").attr("checked",!1):jQuery("#layer_skew_xend_reverse").attr("checked",!0),void 0===r.skewy_reverse||"true"!=r.skewy_reverse&&1!=r.skewy_reverse?jQuery("#layer_skew_yend_reverse").attr("checked",!1):jQuery("#layer_skew_yend_reverse").attr("checked",!0),void 0===r.mask_x_reverse||"true"!=r.mask_x_reverse&&1!=r.mask_x_reverse?jQuery("#mask_anim_xend_reverse").attr("checked",!1):jQuery("#mask_anim_xend_reverse").attr("checked",!0),void 0===r.mask_y_reverse||"true"!=r.mask_y_reverse&&1!=r.mask_y_reverse?jQuery("#mask_anim_yend_reverse").attr("checked",!1):jQuery("#mask_anim_yend_reverse").attr("checked",!0)),void 0===r.mask||"true"!=r.mask&&1!=r.mask?jQuery(".mask-start-settings").hide():jQuery(".mask-start-settings").show(),RevSliderSettings.onoffStatus(jQuery("#masking-start")),RevSliderSettings.onoffStatus(jQuery("#masking-end")),t.updateReverseList()},checkMaskingAvailabity=function(){1!=jQuery("#layer__scalex").val()||1!=jQuery("#layer__scaley").val()||0!=parseInt(jQuery("#layer__skewx").val(),0)||0!=parseInt(jQuery("#layer__skewy").val(),0)||0!=parseInt(jQuery("#layer__xrotate").val(),0)||0!=parseInt(jQuery("#layer__yrotate").val(),0)||0!=parseInt(jQuery("#layer_2d_rotation").val(),0)?(jQuery(".mask-not-available").show(),jQuery(".mask-is-available").hide(),jQuery("#masking-start").prop("checked",!1),jQuery("#masking-end").prop("checked",!1),jQuery(".mask-start-settings").hide(),jQuery(".mask-end-settings").hide(),jQuery(".tp-showmask").removeClass("tp-showmask"),RevSliderSettings.onoffStatus(jQuery("#masking-start")),RevSliderSettings.onoffStatus(jQuery("#masking-end")),u.rebuildLayerIdle(getjQueryLayer()),t.updateLayerFromFields()):(jQuery(".mask-not-available").hide(),jQuery(".mask-is-available").show())},checkIfAnimExists=function(e){if("object"==typeof initLayerAnims&&!jQuery.isEmptyObject(initLayerAnims))for(var t in initLayerAnims)if(initLayerAnims.hasOwnProperty(t)&&initLayerAnims[t].handle==e)return initLayerAnims[t].id;return!1},checkIfAnimIsEditable=function(e){if("object"==typeof initLayerAnims&&!jQuery.isEmptyObject(initLayerAnims))for(var t in initLayerAnims)if(initLayerAnims.hasOwnProperty(t)&&initLayerAnims[t].handle==e)return initLayerAnims[t].id;return!1},deleteAnimInDb=function(r){if(UniteAdminRev.setErrorMessageID("dialog_error_message"),""!=(r=jQuery.trim(r))){jQuery("customin"==currentAnimationType?"#layer_animation option":"#layer_endanimation option");UniteAdminRev.ajaxRequest("delete_custom_anim",r,function(e){jQuery("#layer_animation option:selected")!=r&&jQuery("#layer_animation option:selected")!=r.replace("customout","customin")||jQuery('#layer_animation option[value="tp-fade"]').attr("selected",!0),jQuery("#layer_endanimation option:selected")!=r&&jQuery("#layer_endanimation option:selected")!=r.replace("customin","customout")||jQuery('#layer_endanimation option[value="tp-fade"]').attr("selected",!0),t.updateInitLayerAnim(e.customfull),updateLayerAnimsInput(e.customin,"customin"),updateLayerAnimsInput(e.customout,"customout")})}},renameAnimInDb=function(e,r){var a={};a.id=e,a.handle=r,UniteAdminRev.ajaxRequest("update_custom_anim_name",a,function(e){t.updateInitLayerAnim(e.customfull),updateLayerAnimsInput(e.customin,"customin"),updateLayerAnimsInput(e.customout,"customout"),selectLayerAnim(r)})},updateAnimInDb=function(i,o,e){UniteAdminRev.setErrorMessageID("dialog_error_message"),o.handle=i,!1===e?UniteAdminRev.ajaxRequest("insert_custom_anim",o,function(e){t.updateInitLayerAnim(e.customfull),updateLayerAnimsInput(e.customin,"customin"),updateLayerAnimsInput(e.customout,"customout"),selectLayerAnim(i)}):UniteAdminRev.ajaxRequest("update_custom_anim",o,function(e){t.updateInitLayerAnim(e.customfull),updateLayerAnimsInput(e.customin,"customin"),updateLayerAnimsInput(e.customout,"customout"),selectLayerAnim(i);var r=i.replace("customin-","").replace("customout-","");for(var a in t.arrLayers)t.arrLayers.hasOwnProperty(a)&&(t.arrLayers[a].frames.frame_999.animation=="customout-"+r?(t.arrLayers[a].x_end=o.params.movex,t.arrLayers[a].y_end=o.params.movey,t.arrLayers[a].z_end=o.params.movez,t.arrLayers[a].x_rotate_end=o.params.rotationx,t.arrLayers[a].y_rotate_end=o.params.rotationy,t.arrLayers[a].z_rotate_end=o.params.rotationz,t.arrLayers[a].scale_x_end=o.params.scalex,t.arrLayers[a].scale_y_end=o.params.scaley,t.arrLayers[a].opacity_end=o.params.captionopacity,t.arrLayers[a].skew_x_end=o.params.skewx,t.arrLayers[a].skew_y_end=o.params.skewy,t.arrLayers[a].mask_end=o.params.mask,t.arrLayers[a].mask_x_end=o.params.mask_x,t.arrLayers[a].mask_y_end=o.params.mask_y,t.arrLayers[a].mask_ease_end=o.params.mask_ease,t.arrLayers[a].mask_speed_end=o.params.mask_speed,t.arrLayers[a].x_end_reverse=o.params.movex_reverse,t.arrLayers[a].y_end_reverse=o.params.movey_reverse,t.arrLayers[a].x_rotate_end_reverse=o.params.rotationx_reverse,t.arrLayers[a].y_rotate_end_reverse=o.params.rotationy_reverse,t.arrLayers[a].z_rotate_end_reverse=o.params.rotationz_reverse,t.arrLayers[a].scale_x_end_reverse=o.params.scalex_reverse,t.arrLayers[a].scale_y_end_reverse=o.params.scaley_reverse,t.arrLayers[a].skew_x_end_reverse=o.params.skewx_reverse,t.arrLayers[a].skew_y_end_reverse=o.params.skewy_reverse,t.arrLayers[a].mask_x_end_reverse=o.params.mask_x_reverse,t.arrLayers[a].mask_y_end_reverse=o.params.mask_y_reverse,t.arrLayers[a].frames.frame_999.easing=o.params.easing,t.arrLayers[a].frames.frame_999.split=o.params.split,t.arrLayers[a].frames.frame_999.splitdelay=o.params.splitdelay,t.arrLayers[a].frames.frame_999.speed=o.params.speed):t.arrLayers[a].frames.frame_0.animation=="customin-"+r&&(t.arrLayers[a].x_start=o.params.movex,t.arrLayers[a].y_start=o.params.movey,t.arrLayers[a].z_start=o.params.movez,t.arrLayers[a].x_rotate_start=o.params.rotationx,t.arrLayers[a].y_rotate_start=o.params.rotationy,t.arrLayers[a].z_rotate_start=o.params.rotationz,t.arrLayers[a].scale_x_start=o.params.scalex,t.arrLayers[a].scale_y_start=o.params.scaley,t.arrLayers[a].opacity_start=o.params.captionopacity,t.arrLayers[a].blurfilter_start=o.params.blurfilter,t.arrLayers[a].grayscalefilter_start=o.params.grayscalefilter,t.arrLayers[a].skew_x_start=o.params.skewx,t.arrLayers[a].skew_y_start=o.params.skewy,t.arrLayers[a].mask_start=o.params.mask,t.arrLayers[a].mask_x_start=o.params.mask_x,t.arrLayers[a].mask_y_start=o.params.mask_y,t.arrLayers[a].mask_ease_start=o.params.mask_ease,t.arrLayers[a].mask_speed_start=o.params.mask_speed,t.arrLayers[a].x_start_reverse=o.params.movex_reverse,t.arrLayers[a].y_start_reverse=o.params.movey_reverse,t.arrLayers[a].x_rotate_start_reverse=o.params.rotationx_reverse,t.arrLayers[a].y_rotate_start_reverse=o.params.rotationy_reverse,t.arrLayers[a].z_rotate_start_reverse=o.params.rotationz_reverse,t.arrLayers[a].scale_x_start_reverse=o.params.scalex_reverse,t.arrLayers[a].scale_y_start_reverse=o.params.scaley_reverse,t.arrLayers[a].skew_x_start_reverse=o.params.skewx_reverse,t.arrLayers[a].skew_y_start_reverse=o.params.skewy_reverse,t.arrLayers[a].mask_x_start_reverse=o.params.mask_x_reverse,t.arrLayers[a].mask_y_start_reverse=o.params.mask_y_reverse,t.arrLayers[a].frames.frame_0.easing=o.params.easing,t.arrLayers[a].frames.frame_0.split=o.params.split,t.arrLayers[a].frames.frame_0.splitdelay=o.params.splitdelay,t.arrLayers[a].frames.frame_0.speed=o.params.speed))})},selectLayerAnim=function(e){jQuery("customin"==currentAnimationType?"#layer_animation option":"#layer_endanimation option").each(function(){jQuery(this).text()==e||jQuery(this).val()==e?jQuery(this).prop("selected",!0):jQuery(this).prop("selected",!1)}),jQuery("customin"==currentAnimationType?"#layer_animation option:selected":"#layer_endanimation option:selected").change()},updateLayerAnimsInput=function(e,t){if("customin"==t)var r=jQuery("#layer_animation"),a=jQuery("#layer_animation option"),i=jQuery("#layer_animation option:selected").val();else r=jQuery("#layer_endanimation"),a=jQuery("#layer_endanimation option"),i=jQuery("#layer_endanimation option:selected").val();if(a.each(function(){-1<jQuery(this).val().indexOf(t)&&jQuery(this).remove()}),"object"==typeof e&&!jQuery.isEmptyObject(e))for(key in e)e.hasOwnProperty(key)&&r.append(new Option(e[key],key));r.val(i),r.change()},getFirstStyle=function(){var e=jQuery("#layer_caption").catcomplete("option","source");return null==e||0==e.length?"":e[0].label},disableFormFields=function(){jQuery(".form_layers")[0].reset(),jQuery(".form_layers input, .form_layers select, .form_layers textarea").attr("disabled","disabled").addClass("setting-disabled"),jQuery("#button_delete_layer").addClass("button-now-disabled"),jQuery("#button_duplicate_layer").addClass("button-now-disabled"),jQuery(".form_layers label, .form_layers .setting_text, .form_layers .setting_unit").addClass("text-disabled"),jQuery("#layer_captions_down").removeClass("ui-state-active").addClass("ui-state-default"),jQuery("#css_fonts_down").removeClass("ui-state-active").addClass("ui-state-default"),jQuery("#linkInsertTemplate").addClass("disabled"),jQuery("#rs-align-wrapper").addClass("table_disabled"),jQuery("#rs-align-wrapper-ver").addClass("table_disabled"),jQuery("#preview_looper").hasClass("deactivated")||jQuery("#preview_looper").click(),layerGeneralParamsStatus=!1},enableFormFields=function(){jQuery(".form_layers input, .form_layers select, .form_layers textarea").not(".rs_disabled_field").prop("disabled",!1).removeClass("setting-disabled"),jQuery("#button_delete_layer").removeClass("button-now-disabled"),jQuery("#button_duplicate_layer").removeClass("button-now-disabled"),jQuery(".form_layers label, .form_layers .setting_text, .form_layers .setting_unit").removeClass("text-disabled"),jQuery("#layer_captions_down").removeClass("ui-state-default").addClass("ui-state-active"),jQuery("#css_fonts_down").removeClass("ui-state-default").addClass("ui-state-active"),jQuery("#linkInsertTemplate").removeClass("disabled"),jQuery("#rs-align-wrapper").removeClass("table_disabled"),jQuery("#rs-align-wrapper-ver").removeClass("table_disabled"),jQuery("#preview_looper").hasClass("deactivated")&&jQuery("#preview_looper").click(),layerGeneralParamsStatus=!0};t.getLayers=function(){return-1!=t.selectedLayerSerial&&t.updateLayerFromFields(),updateLayersImageSizes(),t.arrLayers},t.getSimpleLayers=function(){return t.arrLayers};var updateLayersImageSizes=function(){for(serial in t.arrLayers)if(t.arrLayers.hasOwnProperty(serial)){var e=t.arrLayers[serial];if("image"==e.type){var r=e.references.htmlLayer,a={};a=t.setVal(a,"width",r.width()),a=t.setVal(a,"height",r.height()),t.updateLayer(serial,a)}}};t.clickInsideElement=function(e,t){var r=e.srcElement||e.target;if(r.classList.contains(t))return r;for(;r=r.parentNode;)if(r.classList&&r.classList.contains(t))return r;return!1};var unselectAllFocusedGroup=function(){jQuery(".slide_layer_type_group.inwork").removeClass("inwork"),jQuery("#focusongroup").removeClass("inwork")},refreshEvents=function(l){var d=t.getHtmlLayerFromSerial(l),e=jQuery("#rs-grid-sizes option:selected").val(),r=d[0].classList.contains("slide_layer_type_row")?"#row-zone-top, #row-zone-middle, #row-zone-bottom":d[0].classList.contains("slide_layer_type_column")||d[0].classList.contains("slide_layer_type_group")?"":".slide_layer_type_column .tp_layer_group_inner_wrapper",a=!!d[0].classList.contains("slide_layer_type_row")&&".row_moveme";d.draggable({handle:a,start:onLayerDragStart,refreshPositions:!0,drag:t.onLayerDrag,connectToSortable:r,cancel:" textbox, #layer_text, .layer_on_lock",grid:[e,e],stop:onLayerDragEnd}),jQuery("#focusongroup").click(unselectAllFocusedGroup),jQuery("body").on("dblclick",".inlaydecor",function(e){jQuery(this).closest(".slide_layer_type_group").addClass("inwork"),jQuery("#focusongroup").addClass("inwork")}),d.click(function(e){var r=t.clickInsideElement(e,"groupinfo");if(!1!==r)return jQuery(r).closest(".slide_layer_type_group").addClass("inwork"),jQuery("#focusongroup").addClass("inwork"),!1;if(e.metaKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&e.ctrlKey){var a=t.getLayer(l);"checked"==(i=jQuery("input#lots_id_"+a.unique_id)).attr("checked")?i.prop("checked",!1):i.attr("checked","checked"),u.checkMultipleSelectedItems()}else{if(cm.toggleMenuOff(),"rs-row-layout"===jQuery(":focus").attr("id"))return!1;jQuery(":focus").blur(),t.setLayerSelected(l);a=t.getLayer(l);var i=jQuery("input#lots_id_"+a.unique_id);if(-1==jQuery.inArray(a.unique_id,t.selectedLayers)&&u.checkMultipleSelectedItems(!0),i.attr("checked","checked"),t.setLayerSelected(l),d.hasClass("slide_layer_type_row")){a=t.getCurrentLayer();if(void 0!==e.srcElement&&("eg-icon-menu"===e.srcElement.className||"row_editor"===e.srcElement.className)||null!=e.target&&("eg-icon-menu"===e.target.className||"row_editor"===e.target.className)){var o=d.find(".row_editor"),s=jQuery("#rs-layout-row-composer");jQuery(".row_editor.open_re").removeClass("open_re"),o.addClass("open_re"),s.show(),jQuery(".rs-row-break-selector").removeClass("selected"),jQuery(".rs-row-break-selector.rs-slide-ds-"+jQuery("#column_break_at option:selected").val()).addClass("selected")}else if(null!=e.srcElement&&("eg-icon-cancel"===e.srcElement.className||"row_editor"===e.srcElement.className)||null!=e.target&&("eg-icon-cancel"===e.target.className||"row_editor"===e.target.className)){o=d.find(".row_editor"),s=jQuery("#rs-layout-row-composer");jQuery(".row_editor.open_re").removeClass("open_re"),s.hide()}else if(null!=e.srcElement&&("eg-icon-droplet"===e.srcElement.className||"row_config"===e.srcElement.className)||null!=e.target&&("eg-icon-droplet"===e.target.className||"row_config"===e.target.className)){var n=jQuery("#style-morestyle");n.hasClass("showmore")||n.click()}}e.stopPropagation(),u.checkAnimationTab()?(u.stopAllLayerAnimation(),u.animateCurrentSelectedLayer(0)):u.checkLoopTab()&&(u.stopAllLayerAnimation(),u.callCaptionLoops())}})};function checkKeyGroups(e){var r=t.arrLayersChanges.undo&&0<t.arrLayersChanges.undo.length?t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].undogroup:"",a=t.arrLayersChanges.undo&&0<t.arrLayersChanges.undo.length?t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].serial:-77,i=e.split(".")[0],o={};e=e.substring(e.indexOf(".")+1),o.addtoarray=!1,o.serial=i;var s=0<=e.indexOf("layer_action")?"layer_action":e;return jQuery.each(t.attributegroups,function(e,t){-1!=jQuery.inArray(s,t.keys)&&(o.undogroup=t.groupname,o.icon=t.icon,o.id=t.id)}),o.serial==a||30==o.id&&"Order"==r?o.undogroup!=r?o.addtoarray=!0:o.addtoarray="samegroup":o.addtoarray=!0,null==o.undogroup&&(o.addtoarray=!1),o}function objRek(e,o,s,n){return s=void 0===s?"":s,jQuery.each(e,function(e,r){if(n)return!0;if("references"!==e)if(r instanceof Object){var a=s;s=0==s.length?e:s+"."+e,n=objRek(r,o[e],s,n),s=a}else{a=s;if(s=null==s||0==s.length?e:s+"."+e,void 0!==o&&r!==o[e]&&parseInt(r,0)!=parseInt(o[e],0)&&null!=r&&null!=o[e]&&"renderedData"!=e)if(t.arrLayersChanges.undo&&0==t.arrLayersChanges.undo.length||t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].chain!=s){var i=checkKeyGroups(s);!0===i.addtoarray?(t.arrLayersChanges.redo.splice(0,t.arrLayersChanges.redo.length),t.arrLayersChanges.undo.push({amount:0,backup:UniteAdminRev.duplicateObject(t.arrLayersClone),restore:UniteAdminRev.duplicateObject(t.arrLayers),icon:i.icon,id:i.id,undogroup:i.undogroup,serial:i.serial,key:e,chain:s,oldval:r,newval:o[e]}),t.set_save_needed(!0),n=!0):"samegroup"==i.addtoarray&&(t.arrLayersChanges.redo.splice(0,t.arrLayersChanges.redo.length),t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].amount++,t.set_save_needed(!0),n=!0)}else t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].chain===s&&(t.arrLayersChanges.redo.splice(0,t.arrLayersChanges.redo.length),t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].amount++,t.set_save_needed(!0),n=!0);s=a}}),n}function _len(e){var t=0;return jQuery.each(e,function(e){t++}),t}function forceShowHideLayer(e,t){void 0!==e&&!1!==e&&("hide"==t?(e.references.htmlLayer.addClass("layer-deleted"),null!=e.references.sorttable&&(e.references.sorttable.layer.addClass("layer-deleted"),e.references.sorttable.timeline.addClass("layer-deleted"),e.references.quicklayer.addClass("layer-deleted"))):(e.references.htmlLayer.removeClass("layer-deleted"),null!=e.references.sorttable&&(e.references.sorttable.layer.removeClass("layer-deleted"),e.references.sorttable.timeline.removeClass("layer-deleted"),e.references.quicklayer.removeClass("layer-deleted"))),u.timeLineTableDimensionUpdate())}function showHideDeletedLayers(e){jQuery.each(t.arrLayers,function(e,t){t.layer_unavailable||!0===t.deleted?forceShowHideLayer(t,"hide"):forceShowHideLayer(t,"show")})}function checkInvisibleRedoItems(){jQuery.each(t.arrLayersChanges.redo,function(e,t){jQuery.each(t.backup,function(e,t){t.layer_unavailable&&forceShowHideLayer(t,"hide")})})}function checkChangedSources(e){function r(r){12!=r.id&&9!=r.id&&29!=r.id||jQuery.each(r[e],function(e,t){(12==r.id&&("svg"==t.type||"image"==t.type)||29==r.id&&("audio"==t.type||"video"==t.type)||9==r.id&&"text"==t.type)&&redrawLayerHtml(t.serial),29==r.id&&"audio"==t.type&&u.drawAudioMap(t)})}jQuery.each(t.arrLayersChanges.redo,function(e,t){r(t)}),jQuery.each(t.arrLayersChanges.undo,function(e,t){r(t)})}t.getSerialFromID=function(e){return null!=e&&e.replace("slide_layer_","").replace("demo_layer_","")},t.getSerialFromSortID=function(e){var t=e.replace("layer_sort_time_","");return t=(t=t.replace("layer_sort_","")).replace("layer_quicksort_","")},t.lockAllLayers=function(e){for(e in t.arrLayers)t.arrLayers.hasOwnProperty(e)&&u.lockLayer(e)},t.unlockAllLayers=function(e){for(e in t.arrLayers)t.arrLayers.hasOwnProperty(e)&&u.unlockLayer(e)},t.showAllLayers=function(e){for(var r in t.arrLayers)t.arrLayers.hasOwnProperty(r)&&e!==t.arrLayers[r].serial&&u.showLayer(t.arrLayers[r],!0)},t.hideAllLayers=function(e){for(var r in t.arrLayers)t.arrLayers.hasOwnProperty(r)&&e!==t.arrLayers[r].serial&&u.hideLayer(t.arrLayers[r],!0)},t.getHtmlLayerFromSerial=function(e,t){if(t||(t=!1),t)r=jQuery("#demo_layer_"+e);else var r=jQuery("#slide_layer_"+e);return null!==r&&0==r.length&&UniteAdminRev.showErrorMessage("Html Layer with serial: "+e+" not found!"),r},t.getLayerByUniqueId=function(e){for(var r in t.arrLayers)if(t.arrLayers.hasOwnProperty(r)&&t.arrLayers[r].unique_id==e)return t.getLayer(r);for(var r in t.arrLayersDemo)if(t.arrLayersDemo.hasOwnProperty(r)&&t.arrLayersDemo[r].unique_id==e)return t.getLayer(r);return!1},t.getLayerIdByUniqueId=function(e){for(var r in t.arrLayers)if(t.arrLayers.hasOwnProperty(r)&&t.arrLayers[r].unique_id==e)return r;for(var r in t.arrLayersDemo)if(t.arrLayersDemo.hasOwnProperty(r)&&t.arrLayersDemo[r].unique_id==e)return r;return!1},t.getUniqueIdByLayer=function(e){for(var r in t.arrLayers)if(t.arrLayers.hasOwnProperty(r)&&r==e)return t.arrLayers[r].unique_id;return!1},t.getLayer=function(e,r){if(r)var a=t.arrLayersDemo[e];else a=t.arrLayers[e];if(!a)a=t.arrLayersDemo[e];return!!a&&(a.frames.frame_0.speed=Number(a.frames.frame_0.speed),a.frames.frame_999.speed=Number(a.frames.frame_999.speed),a)},t.getCurrentLayer=function(){return-1!=t.selectedLayerSerial&&t.getLayer(t.selectedLayerSerial)},t.makeLayerHtml=function(r,e,a){a||(a=!1);var i="text";e.type&&(i=e.type);var o="z-index:"+(Number(e.order)+100)+";position:absolute;",s="",n="",l="";"auto"!==t.getVal(e,"max_width")&&(o+=" width: "+t.getVal(e,"max_width")+";"),"auto"!==t.getVal(e,"max_height")&&(o+=" height: "+t.getVal(e,"max_height")+";"),o+=" white-space: "+t.getVal(e,"whitespace")+";";var d="";void 0!==e.special_type&&"static"==e.special_type&&(d=" static_layer");var y="";void 0===e.type||"button"!=e.type&&"shape"!=e.type||(y=" "+e.internal_class);var c=e.groupLink;if(c="ldles_"+(c=void 0===c?0:c),"image"==i&&(o+="line-height:0;"),"column"==i&&(n='<div class="slide_layer_col_sizer">',l="</div>",s='<div class="column_background"></div>'),a){rev_adv_resp_sizes,null!=e.static_styles&&(o+=" font-size: "+t.getVal(e.static_styles,"font-size")+";",o+=" line-height: "+t.getVal(e.static_styles,"line-height")+";",o+=" font-weight: "+t.getVal(e.static_styles,"font-weight")+";",o+=" color: "+t.getVal(e.static_styles,"color")+";",o+=" letter-spacing: "+t.getVal(e.static_styles,"letter-spacing")+";");_='<div id="demo_layer_'+r+'" data-uniqueid="'+e.unique_id+'" data-serial="'+r+'"  data-type="'+i+'" style="'+o+'" class="invisible_demolayer demo_layer_type_'+i+" demo_layer demo_layer_"+curDemoSlideID+' slide_layer" >'+s+n+'<div style="" class="innerslide_layer tp-caption '+e.style+d+y+'" >'}else var _='<div id="slide_layer_'+r+'" data-uniqueid="'+e.unique_id+'" data-serial="'+r+'" data-type="'+i+'" style="'+o+'"               class="slide_layer_type_'+i+" slide_layer "+c+'">'+s+n+'<div style="" class="innerslide_layer tp-caption '+e.style+d+y+'" >';switch(i){case"image":_+='<img src="'+e.image_url+'" alt="'+e.alt+'" style=""></img>';break;default:case"text":case"button":_+=e.text;break;case"group":_+='<div class="inlaydecor"></div><div class="groupinfo"><i class="fa-icon-object-group"></i><span class="group_info_text">Edit Group Layers</span></div><div class="tp_layer_group_inner_wrapper"></div>';break;case"column":_+='<div class="tp_layer_group_inner_wrapper"></div>';break;case"row":_+='<div class="tp_layer_group_inner_wrapper"></div>',a||(_+='<div class="row_toolbar"><div class="row_editor"><i class="eg-icon-menu"></i><i class="eg-icon-cancel"></i></div><div class="row_moveme"><i class="eg-icon-arrow-combo"></i></div><div class="row_config"><i class="eg-icon-droplet"></i></div></div>');break;case"video":var m="width:100%;height:100%";if(void 0!==e.video_data)var p=""!=jQuery.trim(e.video_data.previewimage)?e.video_data.previewimage:e.video_image_url;else p=e.video_image_url;var v=e.video_type;switch(e.video_type){case"youtube":case"vimeo":m+=";background-image:url("+p+");";break;case"html5":void 0!==p&&""!=p&&(m+=";background-image:url("+p+");");break;case"streamyoutube":v="youtube";break;case"streamvimeo":v="vimeo";break;case"streaminstagram":v="html5"}_+="<div class='slide_layer_video' style='"+m+"'><div class='video-layer-inner video-icon-"+v+"'>",_+="<div class='layer-video-title'>"+e.video_title+"</div>",_+="</div></div>";break;case"audio":_+="<div class='slide_layer_audio' style=''><div class='video-layer-inner video-icon-'>",_+='<div class="slide_layer_audio_c_wrapper">',_+='<audio controls src="'+e.video_data.urlAudio+'"></audio>',_+='<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div></div>',_+='<div class="slide_layer_audio_c_cover"></div>',_+="</div>",_+="<div class='layer-audio-title'><i class='rs-icon-layeraudio_n'></i>"+e.audio_title+"</div>",_+="</div></div>";break;case"svg":null!=e.svg&&null!=e.svg.src&&jQuery.get(e.svg.src,function(e){var t=a?"#demo_layer_":"#slide_layer_";jQuery(t+r+" .innerslide_layer.tp-caption").first().html(""),jQuery(t+r+" .innerslide_layer.tp-caption").first()[0].innerHTML=(new XMLSerializer).serializeToString(e.documentElement),u.rebuildLayerIdle(jQuery(t+r))})}return _+="</div>"+l,_+="<div class='icon_cross'></div>",_+="</div>"},t.reset_to_default_static_styles=function(e,r,a){if(void 0!==e.style){var i=UniteCssEditorRev.getStyleSettingsByHandle(e.style);!1!==i&&(void 0!==i.params["font-size"]&&(void 0!==r&&void 0!==a?-1!==jQuery.inArray("font-size",r)&&(e.static_styles=t.setVal(e.static_styles,"font-size",i.params["font-size"],!1,a),-1!==jQuery.inArray(layout,a)&&jQuery("#layer_font_size_s").val(i.params["font-size"])):jQuery("#layer_font_size_s").val(i.params["font-size"])),void 0!==i.params["line-height"]&&(void 0!==r&&void 0!==a?-1!==jQuery.inArray("line-height",r)&&(e.static_styles=t.setVal(e.static_styles,"line-height",i.params["line-height"],!1,a),-1!==jQuery.inArray(layout,a)&&jQuery("#layer_line_height_s").val(i.params["line-height"])):jQuery("#layer_line_height_s").val(i.params["line-height"])),void 0!==i.params["letter-spacing"]&&(void 0!==r&&void 0!==a?-1!==jQuery.inArray("letter-spacing",r)&&(e.static_styles=t.setVal(e.static_styles,"letter-spacing",i.params["letter-spacing"],!1,a),-1!==jQuery.inArray(layout,a)&&jQuery("#letter_spacing_s").val(i.params["letter-spacing"])):jQuery("#letter_spacing_s").val(i.params["letter-spacing"])),void 0!==i.params["font-weight"]&&(void 0!==r&&void 0!==a?-1!==jQuery.inArray("font-weight",r)&&(e.static_styles=t.setVal(e.static_styles,"font-weight",i.params["font-weight"],!1,a),-1!==jQuery.inArray(layout,a)&&jQuery('#layer_font_weight_s option[value="'+i.params["font-weight"]+'"]').attr("selected",!0)):jQuery('#layer_font_weight_s option[value="'+i.params["font-weight"]+'"]').attr("selected",!0)),void 0!==i.params.color&&(void 0!==r&&void 0!==a?(-1!==jQuery.inArray("color",r)&&(e.static_styles=t.setVal(e.static_styles,"color",UniteAdminRev.rgb2hex(i.params.color),!1,a)),-1!==jQuery.inArray(layout,a)&&(jQuery("#layer_color_s").val(UniteAdminRev.rgb2hex(i.params.color)),jQuery(".wp-color-result").each(function(){jQuery(this).css("backgroundColor",jQuery(this).parent().find(".my-color-field").val())}))):(jQuery("#layer_color_s").val(UniteAdminRev.rgb2hex(i.params.color)),jQuery(".wp-color-result").each(function(){jQuery(this).css("backgroundColor",jQuery(this).parent().find(".my-color-field").val())}))))}},t.updateLayer=function(e,r,a,i){var o=t.getLayer(e);if(!o)return!1;var s=!1;if(void 0!==r.style&&r.style!==o.style&&"none"==jQuery("#dialog-change-style-from-css").css("display")&&(s=!0),void 0!==a)for(var n in a)a.hasOwnProperty(n)&&delete o[a[n]];for(var n in r)if(r.hasOwnProperty(n))if("object"==typeof r[n]){for(var l in r[n])if(r[n].hasOwnProperty(l))if("object"==typeof o[n])if("object"==typeof o[n][l])for(var d in r[n][l])r[n][l].hasOwnProperty(d)&&(o[n][l][d]=r[n][l][d]);else o[n][l]=r[n][l];else o[n]={},o[n][l]=r[n][l]}else o[n]=r[n];if(s&&(t.reset_to_default_static_styles(o),updateSubStyleParameters(o)),!t.arrLayers[e])return UniteAdminRev.showErrorMessage("setLayer error, Layer with ID: "+e+" not found"),!1;i||update_layer_changes&&t.add_layer_change(e,r),t.arrLayers[e]=jQuery.extend({},o),t.updateReverseList()},t.cloneArrLayers=function(){t.arrLayersClone=UniteAdminRev.duplicateObject(t.arrLayers)},t.add_layer_change=function(){if(!t.ignorAllUndoRedoLogs){if(27<t.arrLayersChanges.undo.length-1)t.arrLayersChanges.undo.splice(0,1);objRek(t.arrLayersClone,t.arrLayers,""),0==t.arrLayersChanges.redo.length&&0<t.arrLayersChanges.undo.length&&(t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].restore=UniteAdminRev.duplicateObject(t.arrLayers)),t.cloneArrLayers(),t.update_undo_redo_list()}},t.oneStepUndo=function(){0<=t.arrLayersChanges.undo.length-1&&t.undo_redo_layer("undo",t.arrLayersChanges.undo.length-1)},t.oneStepRedo=function(){0<=t.arrLayersChanges.redo.length-1&&t.undo_redo_layer("redo",0)},t.update_undo_redo_list=function(){0==jQuery("#rs-undo-list").length&&(jQuery("#layer-settings-toolbar-bottom").append('<div id="rs-undo-list"><div id="undo-redo-wrapper"></div></div>'),jQuery("body").on("click",".undostep",function(){t.undo_redo_layer("undo",jQuery(this).data("undoindex"))}),jQuery("body").on("click",".redostep",function(){t.undo_redo_layer("redo",jQuery(this).data("redoindex"))}),jQuery("body").on("click","#undo-last-action",function(){0<=t.arrLayersChanges.undo.length-1&&t.undo_redo_layer("undo",t.arrLayersChanges.undo.length-1)}),jQuery("body").on("click","#showhide_undolist",function(){var e=jQuery("#rs-undo-list");e.hasClass("inactive")?(e.slideUp(200).removeClass("inactive"),jQuery("#showhide_undolist i").removeClass("eg-icon-down-open").addClass("eg-icon-menu"),setTimeout(function(){var e=jQuery("#undo-redo-wrapper");e.scrollTop(e.prop("scrollHeight")),e.perfectScrollbar("update")},250)):(e.slideDown(200).addClass("inactive"),jQuery("#showhide_undolist i").addClass("eg-icon-down-open").removeClass("eg-icon-menu"))}),jQuery("#undo-redo-wrapper").perfectScrollbar({wheelPropagation:!0,suppressScrollX:!0}));var s=jQuery("#undo-redo-wrapper");s.find(".undoredostep").remove(),jQuery.each(t.arrLayersChanges.undo,function(e,r){var a='<div data-undoindex="'+e+'" class="undoredostep undostep">',i=t.arrLayers[r.serial].alias;switch(t.arrLayers[r.serial].type){case"text":a+='<span class="layer-title-with-icon"><i class="rs-icon-layerfont_n"></i></span>';break;case"shape":a+='<span class="layer-title-with-icon"><i class="rs-icon-layershape_n"></i></span>';break;case"button":a+='<span class="layer-title-with-icon"><i class="rs-icon-layerbutton_n"></i></span>';break;case"image":a+='<span class="layer-title-with-icon"><i class="rs-icon-layerimage_n"></i></span>';break;case"video":a+='<span class="layer-title-with-icon"><i class="rs-icon-layervideo_n"></i></span>';break;case"audio":a+='<span class="layer-title-with-icon"><i class="rs-icon-layeraudio_n"></i></span>';break;case"svg":a+='<span class="layer-title-with-icon"><i class="rs-icon-layersvg_n"></i></span>';break;case"row":case"group":a+='<span class="layer-title-with-icon"><i class="fa-icon-object-group"></i></span>';break;case"column":a+='<span class="layer-title-with-icon"><i class="rs-icon-layercolumn_n"></i></span>'}var o="";0<r.amount&&(o=" ("+r.amount+")"),e==t.arrLayersChanges.undo.length-1&&jQuery("#quick-undo .single-undo-action").html('<span class="undo-name">'+i+'</span><span class="undo-action"><i class="eg-icon-'+r.icon+'"></i>'+r.undogroup+o+"</span>"),a+='<span class="undo-name">'+i+'</span><span class="undo-action"><i class="eg-icon-'+r.icon+'"></i>'+r.undogroup+o+'</span><i class="eg-icon-cw"></i>',a+="</div>",s.append(a)}),t.arrLayersChanges.undo.length-1<0&&jQuery("#quick-undo .single-undo-action").html('<span class="undo-name">'+jQuery(".single-undo-action").data("origtext")+"</span>"),jQuery.each(t.arrLayersChanges.redo,function(e,r){var a='<div data-redoindex="'+e+'" class="undoredostep redostep">',i=void 0===t.arrLayers[r.serial]?r.backup[r.serial].alias:t.arrLayers[r.serial].alias;switch(type=void 0===t.arrLayers[r.serial]?r.backup[r.serial].type:t.arrLayers[r.serial].type,type){case"text":a+='<span class="layer-title-with-icon"><i class="rs-icon-layerfont_n"></i></span>';break;case"shape":a+='<span class="layer-title-with-icon"><i class="rs-icon-layershape_n"></i></span>';break;case"button":a+='<span class="layer-title-with-icon"><i class="rs-icon-layerbutton_n"></i></span>';break;case"image":a+='<span class="layer-title-with-icon"><i class="rs-icon-layerimage_n"></i></span>';break;case"video":a+='<span class="layer-title-with-icon"><i class="rs-icon-layervideo_n"></i></span>';break;case"audio":a+='<span class="layer-title-with-icon"><i class="rs-icon-layeraudio_n"></i></span>';break;case"svg":a+='<span class="layer-title-with-icon"><i class="rs-icon-layersvg_n"></i></span>'}var o="";0<r.amount&&(o=" ("+r.amount+")"),a+='<span class="undo-name">'+i+'</span><span class="undo-action"><i class="eg-icon-'+r.icon+'"></i>'+r.undogroup+o+'</span><i class="eg-icon-cw"></i>',a+="</div>",s.append(a)}),s.data("steps")!=t.arrLayersChanges.redo.length+t.arrLayersChanges.undo.length&&(s.scrollTop(s.prop("scrollHeight")),s.data("steps",t.arrLayersChanges.redo.length+t.arrLayersChanges.undo.length)),s.perfectScrollbar("update")},t.undo_redo_layer=function(e,r){if(t.set_save_needed(!0),jQuery(".layer-on-timeline-selector").each(function(){this.checked=!1}),t.selectedLayers=[],"undo"==e){t.arrLayers=UniteAdminRev.duplicateObject(t.arrLayersChanges.undo[r].backup),showHideDeletedLayers();for(var a=t.arrLayersChanges.undo.length-r,i=0;i<a;i++)t.arrLayersChanges.redo.unshift(t.arrLayersChanges.undo.pop());checkInvisibleRedoItems(),checkChangedSources("backup")}else if("redo"==e){t.arrLayers=UniteAdminRev.duplicateObject(t.arrLayersChanges.redo[r].restore),showHideDeletedLayers();for(i=0;i<=r;i++)t.arrLayersChanges.undo.push(t.arrLayersChanges.redo.shift());checkChangedSources("restore")}t.recreateLayerReferences(),u.redrawSortbox(),unselectLayers(),t.cloneArrLayers(),updateHtmlLayersFromObject(),u.allLayerToIdle(),u.stopAllLayerAnimation(),u.organiseGroupsAndLayer(),setTimeout(function(){t.update_undo_redo_list(),u.updateAllLayerTimeline()},10)},t.recreateLayerReferences=function(){for(var e in t.arrLayers)if(t.arrLayers.hasOwnProperty(e)){(r=t.arrLayers[e]).references=void 0===r.references?{}:r.references,r.references.htmlLayer=jQuery(document.getElementById("slide_layer_"+r.serial)),r.references.sorttable.layer=jQuery(document.getElementById("layer_sort_"+r.serial)),r.references.sorttable.timeline=jQuery(document.getElementById("layer_sort_time_"+r.serial)),r.references.quicklayer=jQuery(document.getElementById("layer_quicksort_"+r.serial))}for(var e in t.arrLayersDemo)if(t.arrLayersDemo.hasOwnProperty(e)){var r;(r=t.arrLayersDemo[e]).references=void 0===r.references?{}:r.references,r.references.htmlLayer=jQuery(document.getElementById("demo_layer_"+r.serial)),r.references.sorttable.layer=jQuery(document.getElementById("demo_sort_"+r.serial)),r.references.sorttable.timeline=jQuery(document.getElementById("demo_sort_time_"+r.serial)),r.references.quicklayer=jQuery(document.getElementById("demo_quicksort_"+r.serial))}},t.updateReverseList=function(){clearTimeout(updateRevTimer),updateRevTimer=setTimeout(function(){RevSliderSettings.onoffStatus(jQuery("#layer_anim_xstart_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_anim_ystart_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_anim_xrotate_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_anim_yrotate_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_anim_zrotate_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_scale_xstart_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_scale_ystart_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_skew_xstart_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_skew_ystart_reverse")),RevSliderSettings.onoffStatus(jQuery("#mask_anim_xstart_reverse")),RevSliderSettings.onoffStatus(jQuery("#mask_anim_ystart_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_anim_xend_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_anim_yend_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_anim_xrotate_end_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_anim_yrotate_end_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_anim_zrotate_end_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_scale_xend_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_scale_yend_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_skew_xend_reverse")),RevSliderSettings.onoffStatus(jQuery("#layer_skew_yend_reverse")),RevSliderSettings.onoffStatus(jQuery("#mask_anim_xend_reverse")),RevSliderSettings.onoffStatus(jQuery("#mask_anim_yend_reverse"))},100)},t.updateCurrentLayer=function(e,r){if(!t.arrLayers[t.selectedLayerSerial])return UniteAdminRev.showErrorMessage("error! the layer with serial: "+t.selectedLayerSerial+" doesn't exists"),!1;t.updateLayer(t.selectedLayerSerial,e,r)};var addLayerImage=function(e,r){objLayer={style:"",text:"Image "+(id_counter+1),type:"image",image_url:e.imgurl},void 0!==e.imglib&&(objLayer.image_library=e.imglib,objLayer.image_librarysize={},objLayer.image_librarysize.width=e.imgwidth,objLayer.image_librarysize.height=e.imgheight),objLayer.scaleProportional=!0,objLayer=t.setVal(objLayer,"scaleX",e.imgwidth,!0),objLayer=t.setVal(objLayer,"scaleY",e.imgheight,!0),objLayer=t.setVal(objLayer,"originalWidth",e.imgwidth,!0),objLayer=t.setVal(objLayer,"originalHeight",e.imgheight,!0),void 0!==r&&(objLayer.special_type=r),objLayer.createdOnInit=!1,addLayer(objLayer)},getVideoObjLayer=function(e,t){var r={type:"video",style:"",video_type:e.video_type,video_data:e};switch(r.video_data.autoplayonlyfirsttime=!1,void 0!==t&&(r.video_width=e.video_width,r.video_height=e.video_height),"youtube"!=r.video_type&&"vimeo"!=r.video_type||(r.video_id=e.id,r.video_title=e.title,r.video_image_url=e.thumb_medium.url,r.video_args=e.args),r.video_type){case"youtube":r.text="Youtube: "+e.title;break;case"vimeo":r.text="Vimeo: "+e.title;break;case"streamyoutube":r.text="YouTube Stream",r.video_title=r.text,(r.video_image_url="")!=e.urlPoster&&(r.video_image_url=e.urlPoster);break;case"streamvimeo":r.text="Vimeo Stream",r.video_title=r.text,(r.video_image_url="")!=e.urlPoster&&(r.video_image_url=e.urlPoster);break;case"streaminstagram":r.text="Instagram Stream",r.video_title=r.text,(r.video_image_url="")!=e.urlPoster&&(r.video_image_url=e.urlPoster);break;case"html5":r.text="Html5 Video",r.video_title=r.text,(r.video_image_url="")!=e.urlPoster&&(r.video_image_url=e.urlPoster);break;case"audio":r.text="Audio Layer",r.audio_title=r.text,(r.audio_image_url="")!=e.urlPoster&&(r.audio_image_url=e.urlPoster),r.type="audio"}return r},addLayerVideo=function(e,r){var a=getVideoObjLayer(e,!0);if(void 0!==r&&(a.special_type=r),a.createdOnInit=!1,addLayer(a),void 0!==r&&"audio"==r){var i=t.getCurrentLayer();!1!==i&&u.drawAudioMap(i)}},addLayerText=function(e,r){var a={text:r=void 0===r?initText+(id_counter+1):r,type:"text"};void 0!==e&&(a.special_type=e),a.createdOnInit=!1,addLayer(a),setTimeout(function(){t.showHideContentEditor(!0),jQuery("#layer_text").data("new_content",!0),jQuery("#layer_text").focus()},50)},addLayerGroup=function(e){var r={type:"group",text:initGroupName+(id_counter+1),createdOnInit:!1,grouptype:"logical"};void 0!==e&&(r.special_type=e);addLayer(r);t.makeRowSortableDroppable()},addLayerRow=function(e){var r={type:"row",text:initRowName+(id_counter+1),createdOnInit:!1};void 0!==e&&(r.special_type=e);for(var a=addLayer(r),i=t.getLayer(a).unique_id,o=0;o<2;o++)addLayer({type:"column",text:initColumnName+(id_counter+1),ref_group:i,p_uid:i,column_size:"1/2",createdOnInit:!1});t.makeRowSortableDroppable(),t.setLayerSelected(a)},addLayer=function(o,e,r,a){void 0===o.version&&(void 0!==o.endtime&&void 0!==o.endspeed&&jQuery.isNumeric(o.endtime)&&(o.endtime=o.endtime-o.endspeed),o.realEndTime&&"undefined"!=o.realEndTime&&null!=o.realEndTime&&(o.endtime=o.realEndTime,delete o.realEndTime,delete o.endTimeFinal,delete o.endSpeedFinal)),o.version=t.core+""+t.sub+t.subsub,void 0===o.frames&&(o.frames={}),e=e||!1,r=r||!1;var i=!1;null==o.subtype&&(o.subtype=""),null==o.specialsettings&&(o.specialsettings={}),null==o.order&&(o.order=id_counter),o.order=Number(o.order),0!=e||r||(unique_layer_id++,o.unique_id=unique_layer_id),void 0===o.unique_id&&(unique_layer_id++,o.unique_id=unique_layer_id),0<=jQuery.inArray(o.unique_id,alluniqueids)&&(o.unique_id=o.unique_id+Math.round(100*Math.random()+100),unique_layer_id=o.unique_id),unique_layer_id<o.unique_id&&(unique_layer_id=o.unique_id+1),r||alluniqueids.push(o.unique_id);var s="video"===o.type?initLeftVideo:initLeft,n="video"===o.type?initTopVideo:initTop;if(s=-1!==t.newlayercoord.x?t.newlayercoord.x:s,n=-1!==t.newlayercoord.y?t.newlayercoord.y:n,o=null==t.getVal(o,"left")?t.setVal(o,"left",s,!0):"object"!=typeof o.left?t.setVal(o,"left",o.left,!0):o,"video"==(o=null==t.getVal(o,"top")?t.setVal(o,"top",n,!0):"object"!=typeof o.top?t.setVal(o,"top",o.top,!0):o).type&&(o=checkUpdateFullwidthVideo(o)),t.newlayercoord.x=-1,t.newlayercoord.y=-1,o.isDemo=r,void 0!==o.layer_action&&void 0!==o.layer_action.layer_target)for(var l in o.layer_action.layer_target)o.layer_action.layer_target.hasOwnProperty(l)&&"self"==o.layer_action.layer_target[l]&&(o.layer_action.layer_target[l]=o.unique_id);if(o.internal_class=o.internal_class||"",o.hover=void 0!==o.hover&&o.hover,o.alias=void 0!==o.alias?o.alias:u.getSortboxText(o.text).toLowerCase(),o.layer_unavailable=!1,o.deleted=!1,o.createdOnInit=null!=o.createdOnInit?o.createdOnInit:1==e,o.layer_bg_position=void 0!==o.layer_bg_position?o.layer_bg_position:"center center",o.layer_bg_size=void 0!==o.layer_bg_size?o.layer_bg_size:"cover",o.layer_bg_repeat=void 0!==o.layer_bg_repeat?o.layer_bg_repeat:"no-repeat",o.loop_animation=void 0!==o.loop_animation?o.loop_animation:"none",o.loop_easing=void 0!==o.loop_easing?o.loop_easing:"linearEaseNone",o.loop_speed=null!=o.loop_speed?o.loop_speed:2,o.loop_startdeg=null!=o.loop_startdeg?o.loop_startdeg:-20,o.loop_enddeg=null!=o.loop_enddeg?o.loop_enddeg:20,o.loop_xorigin=null!=o.loop_xorigin?o.loop_xorigin:50,o.loop_yorigin=null!=o.loop_yorigin?o.loop_yorigin:50,o.loop_xstart=null!=o.loop_xstart?o.loop_xstart:0,o.loop_xend=null!=o.loop_xend?o.loop_xend:0,o.loop_ystart=null!=o.loop_ystart?o.loop_ystart:0,o.loop_yend=null!=o.loop_yend?o.loop_yend:0,o.loop_zoomstart=null!=o.loop_zoomstart?o.loop_zoomstart:1,o.loop_zoomend=null!=o.loop_zoomend?o.loop_zoomend:1,o.loop_angle=null!=o.loop_angle?o.loop_angle:0,o.loop_radius=null!=o.loop_radius?o.loop_radius:10,o.layer_blend_mode=null!=o.layer_blend_mode?o.layer_blend_mode:"normal",o.html_tag=void 0!==o.html_tag?o.html_tag:"div",o.parallax_layer_ddd_zlevel=void 0!==o.parallax_layer_ddd_zlevel?o.parallax_layer_ddd_zlevel:"front",o.mask_start=void 0!==o.mask_start&&o.mask_start,o.mask_end=void 0!==o.mask_end&&o.mask_end,"row"===o.type&&(o.column_break_at=void 0!==o.column_break_at?o.column_break_at:"mobile"),o.x_start_reverse=void 0!==o.x_start_reverse&&o.x_start_reverse,o.y_start_reverse=void 0!==o.y_start_reverse&&o.y_start_reverse,o.x_end_reverse=void 0!==o.x_end_reverse&&o.x_end_reverse,o.y_end_reverse=void 0!==o.y_end_reverse&&o.y_end_reverse,o.x_rotate_start_reverse=void 0!==o.x_rotate_start_reverse&&o.x_rotate_start_reverse,o.y_rotate_start_reverse=void 0!==o.y_rotate_start_reverse&&o.y_rotate_start_reverse,o.z_rotate_start_reverse=void 0!==o.z_rotate_start_reverse&&o.z_rotate_start_reverse,o.x_rotate_end_reverse=void 0!==o.x_rotate_end_reverse&&o.x_rotate_end_reverse,o.y_rotate_end_reverse=void 0!==o.y_rotate_end_reverse&&o.y_rotate_end_reverse,o.z_rotate_end_reverse=void 0!==o.z_rotate_end_reverse&&o.z_rotate_end_reverse,o.scale_x_start_reverse=void 0!==o.scale_x_start_reverse&&o.scale_x_start_reverse,o.scale_y_start_reverse=void 0!==o.scale_y_start_reverse&&o.scale_y_start_reverse,o.scale_x_end_reverse=void 0!==o.scale_x_end_reverse&&o.scale_x_end_reverse,o.scale_y_end_reverse=void 0!==o.scale_y_end_reverse&&o.scale_y_end_reverse,o.skew_x_start_reverse=void 0!==o.skew_x_start_reverse&&o.skew_x_start_reverse,o.skew_y_start_reverse=void 0!==o.skew_y_start_reverse&&o.skew_y_start_reverse,o.skew_x_end_reverse=void 0!==o.skew_x_end_reverse&&o.skew_x_end_reverse,o.skew_y_end_reverse=void 0!==o.skew_y_end_reverse&&o.skew_y_end_reverse,o.mask_x_start_reverse=void 0!==o.mask_x_start_reverse&&o.mask_x_start_reverse,o.mask_y_start_reverse=void 0!==o.mask_y_start_reverse&&o.mask_y_start_reverse,o.mask_x_end_reverse=void 0!==o.mask_x_end_reverse&&o.mask_x_end_reverse,o.mask_y_end_reverse=void 0!==o.mask_y_end_reverse&&o.mask_y_end_reverse,o.mask_x_start=void 0!==o.mask_x_start?o.mask_x_start:0,o.mask_y_start=void 0!==o.mask_y_start?o.mask_y_start:0,o.mask_speed_start=void 0!==o.mask_speed_start?o.mask_speed_start:"inherit",o.mask_ease_start=void 0!==o.mask_ease_start?o.mask_ease_start:"inherit",o.mask_x_end=void 0!==o.mask_x_end?o.mask_x_end:0,o.mask_y_end=void 0!==o.mask_y_end?o.mask_y_end:0,o.mask_speed_end=void 0!==o.mask_speed_end?o.mask_speed_end:"inherit",o.mask_ease_end=void 0!==o.mask_ease_end?o.mask_ease_end:"inherit",o.alt_option=void 0!==o.alt_option?o.alt_option:"media_library",o.alt=void 0!==o.alt?o.alt:"",o.layer_action=void 0!==o.layer_action?o.layer_action:{},o.layer_action.tooltip_event=void 0!==o.layer_action.tooltip_event?o.layer_action.tooltip_event:[],o.layer_action.action=void 0!==o.layer_action.action?o.layer_action.action:[],o.layer_action.image_link=void 0!==o.layer_action.image_link?o.layer_action.image_link:[],o.layer_action.link_open_in=void 0!==o.layer_action.link_open_in?o.layer_action.link_open_in:[],o.layer_action.jump_to_slide=void 0!==o.layer_action.jump_to_slide?o.layer_action.jump_to_slide:[],o.layer_action.scrollunder_offset=void 0!==o.layer_action.scrollunder_offset?o.layer_action.scrollunder_offset:[],o.layer_action.actioncallback=void 0!==o.layer_action.actioncallback?o.layer_action.actioncallback:[],o.layer_action.layer_target=void 0!==o.layer_action.layer_target?o.layer_action.layer_target:[],o.layer_action.link_type=void 0!==o.layer_action.link_type?o.layer_action.link_type:[],o.layer_action.action_delay=void 0!==o.layer_action.action_delay?o.layer_action.action_delay:[],o.layer_action.toggle_layer_type=void 0!==o.layer_action.toggle_layer_type?o.layer_action.toggle_layer_type:[],o.layer_action.toggle_class=void 0!==o.layer_action.toggle_class?o.layer_action.toggle_class:[],o=null==t.getVal(o,"min_height")?t.setVal(o,"min_height","40",!0):"object"!=typeof o.min_height?t.setVal(o,"min_height",o.min_height,!0):o,o=null==t.getVal(o,"max_height")?t.setVal(o,"max_height","auto",!0):"object"!=typeof o.max_height?t.setVal(o,"max_height",o.max_height,!0):o,null==t.getVal(o,"max_width")?o=t.setVal(o,"max_width","auto",!0):"object"!=typeof o.max_width&&(o=t.setVal(o,"max_width",o.max_width,!0)),"group"===o.type&&"auto"==t.getVal(o,"max_height")&&(o=t.setVal(o,"max_width","200",!0),o=t.setVal(o,"max_height","200",!0)),"video"==o.type&&void 0===o.video_width&&void 0!==o.video_data.width&&(o.video_width=o.video_data.width),null==t.getVal(o,"video_width")?o=t.setVal(o,"video_width",480,!0):"object"!=typeof o.video_width&&(o=t.setVal(o,"video_width",o.video_width,!0)),"video"==o.type&&void 0===o.video_height&&void 0!==o.video_data.height&&(o.video_height=o.video_data.height),null==t.getVal(o,"video_height")?o=t.setVal(o,"video_height",360,!0):"object"!=typeof o.video_height&&(o=t.setVal(o,"video_height",o.video_height,!0)),o["2d_rotation"]=null==o["2d_rotation"]&&e?0:o["2d_rotation"],o["2d_origin_x"]=null!=o["2d_origin_x"]?o["2d_origin_x"]:50,o["2d_origin_y"]=null!=o["2d_origin_y"]?o["2d_origin_y"]:50,null==t.getVal(o,"whitespace")?o=t.setVal(o,"whitespace",jQuery("#layer_whitespace option:selected").val(),!0):"object"!=typeof o.whitespace&&(o=t.setVal(o,"whitespace",o.whitespace,!0)),null==t.getVal(o,"display")?o=t.setVal(o,"display",jQuery("#layer_display option:selected").val(),!0):"object"!=typeof o.display&&(o=t.setVal(o,"display",o.display,!0)),null==o.static_start&&(o.static_start=jQuery("#layer_static_start option:selected").val()),null==o.static_end&&(o.static_end="last"),null==t.getVal(o,"align_hor")?o=t.setVal(o,"align_hor","left",!0):"object"!=typeof o.align_hor&&(o=t.setVal(o,"align_hor",o.align_hor,!0)),null==t.getVal(o,"align_vert")?o=t.setVal(o,"align_vert","top",!0):"object"!=typeof o.align_vert&&(o=t.setVal(o,"align_vert",o.align_vert,!0)),o.hiddenunder=void 0!==o.hiddenunder&&o.hiddenunder,o.resizeme=void 0===o.resizeme||o.resizeme,o["seo-optimized"]=void 0!==o["seo-optimized"]&&o["seo-optimized"],o.link=void 0!==o.link?o.link:"",o.link_open_in=void 0!==o.link_open_in?o.link_open_in:"same",o.link_slide=void 0!==o.link_slide?o.link_slide:"nothing",o.scrollunder_offset=void 0!==o.scrollunder_offset?o.scrollunder_offset:"",o.style=void 0!==o.style?o.style:"",o["visible-desktop"]=void 0===o["visible-desktop"]||o["visible-desktop"],o["visible-notebook"]=void 0===o["visible-notebook"]||o["visible-notebook"],o["visible-tablet"]=void 0===o["visible-tablet"]||o["visible-tablet"],o["visible-mobile"]=void 0===o["visible-mobile"]||o["visible-mobile"],o["resize-full"]=void 0===o["resize-full"]||o["resize-full"],o.hiddenunder=void 0!==o.hiddenunder&&o.hiddenunder,o["show-on-hover"]=void 0!==o["show-on-hover"]&&o["show-on-hover"],o.basealign=void 0!==o.basealign?o.basealign:"grid",o.responsive_offset=void 0===o.responsive_offset||o.responsive_offset,o.style=jQuery.trim(o.style),0!=e||"text"!=o.type||o.style&&""!=o.style||(i=!0),o["lazy-load"]=void 0!==o["lazy-load"]?o["lazy-load"]:"auto",o["image-size"]=void 0!==o["image-size"]?o["image-size"]:"auto",o["css-position"]=void 0!==o["css-position"]?o["css-position"]:"relative",void 0!==o.time&&(o.frames.frame_0={time:Number(o.time),delay:0,split:o.split,split_extratime:0,splitdelay:o.splitdelay,speed:o.speed,animation:o.animation,easing:o.easing},delete o.time,delete o.splitdelay,delete o.speed,delete o.split,delete o.easing,delete o.animation),void 0!==o.endtime&&(o.frames.frame_999={time:o.endtime,delay:0,split:o.endsplit,split_extratime:0,splitdelay:o.endsplitdelay,speed:null!=o.endspeed?o.endspeed:initSpeed,animation:o.endanimation,easing:o.endeasing},delete o.endtime,delete o.endsplitdelay,delete o.endspeed,delete o.endeasing,delete o.endsplit,delete o.endanimation),void 0===o.frames.frame_0&&(o.frames.frame_0={time:0,delay:0,split:"none",splitdelay:10,split_extratime:0,speed:300,animation:"tp-fade",easing:"Power3.easeInOut"}),void 0===o.frames.frame_999&&(o.frames.frame_999={time:g_slideTime,delay:0,split:"none",splitdelay:10,split_extratime:0,speed:300,animation:"tp-fade",easing:"Power3.easeInOut"}),o.frames.frame_0.time=void 0===o.frames.frame_0.time?10:o.frames.frame_0.time,o.frames.frame_0.delay=void 0===o.frames.frame_0.delay?0:o.frames.frame_0.delay,o.frames.frame_0.split=void 0===o.frames.frame_0.split?"none":o.frames.frame_0.split,o.frames.frame_0.splitdelay=void 0===o.frames.frame_0.splitdelay?10:o.frames.frame_0.splitdelay,o.frames.frame_0.split_extratime=void 0===o.frames.frame_0.split_extratime?0:o.frames.frame_0.split_extratime,o.frames.frame_0.speed=void 0===o.frames.frame_0.speed?300:o.frames.frame_0.speed,o.frames.frame_0.animation=void 0===o.frames.frame_0.animation?"tp-fade":o.frames.frame_0.animation,o.frames.frame_0.easing=void 0===o.frames.frame_0.easing?"Power3.easeInOut":o.frames.frame_0.easing,o.frames.frame_999.time=void 0===o.frames.frame_999.time?10:o.frames.frame_999.time,o.frames.frame_999.delay=void 0===o.frames.frame_999.delay?0:o.frames.frame_999.delay,o.frames.frame_999.split=void 0===o.frames.frame_999.split?"none":o.frames.frame_999.split,o.frames.frame_999.splitdelay=void 0===o.frames.frame_999.splitdelay?10:o.frames.frame_999.splitdelay,o.frames.frame_999.split_extratime=void 0===o.frames.frame_999.split_extratime?0:o.frames.frame_999.split_extratime,o.frames.frame_999.speed=void 0===o.frames.frame_999.speed?300:o.frames.frame_999.speed,o.frames.frame_999.animation=void 0===o.frames.frame_999.animation?"tp-fade":o.frames.frame_999.animation,o.frames.frame_999.easing=void 0===o.frames.frame_999.easing?"Power3.easeInOut":o.frames.frame_999.easing,null==t.getVal(o,"width")?o=t.setVal(o,"width",-1,!0):"object"!=typeof o.width&&(o=t.setVal(o,"width",o.width,!0)),null==t.getVal(o,"height")?o=t.setVal(o,"height",-1,!0):"object"!=typeof o.height&&(o=t.setVal(o,"height",o.height,!0)),null==t.getVal(o,"cover_mode")&&(o=t.setVal(o,"cover_mode","custom",!0)),null==o.static_styles?(o.static_styles={},t.reset_to_default_static_styles(o),null==t.getVal(o.static_styles,"font-size")&&(o.static_styles=t.setVal(o.static_styles,"font-size",20,!0)),null==t.getVal(o.static_styles,"line-height")&&(o.static_styles=t.setVal(o.static_styles,"line-height",22,!0)),null==t.getVal(o.static_styles,"font-weight")&&(o.static_styles=t.setVal(o.static_styles,"font-weight",400,!0)),null==t.getVal(o.static_styles,"color")&&(o.static_styles=t.setVal(o.static_styles,"color","#ffffff",!0)),null==t.getVal(o.static_styles,"letter-spacing")&&(o.static_styles=t.setVal(o.static_styles,"letter-spacing",0,!0))):("object"!=typeof o.static_styles["font-size"]&&(o.static_styles=t.setVal(o.static_styles,"font-size",o.static_styles["font-size"],!0)),"object"!=typeof o.static_styles["line-height"]&&(o.static_styles=t.setVal(o.static_styles,"line-height",o.static_styles["line-height"],!0)),"object"!=typeof o.static_styles["font-weight"]&&(o.static_styles=t.setVal(o.static_styles,"font-weight",o.static_styles["font-weight"],!0)),"object"!=typeof o.static_styles.color&&(o.static_styles=t.setVal(o.static_styles,"color",o.static_styles.color,!0)),"object"!=typeof o.static_styles["letter-spacing"]&&(o.static_styles=t.setVal(o.static_styles,"letter-spacing",o.static_styles["letter-spacing"],!0))),null==o.margin){o.margin={};var d=[];jQuery('input[name="css_margin[]"]').each(function(){d.push(0)}),o=t.setVal(o,"margin",d,!0)}else"object"!=typeof o.margin&&(o=t.setVal(o,"margin",o.margin,!0));if(null==o.padding)if(void 0!==o.deformation&&void 0!==o.deformation.padding)o=t.setVal(o,"padding",o.deformation.padding,!0);else{o.padding={};var y=[];jQuery('input[name="css_padding[]"]').each(function(){y.push(0)}),o=t.setVal(o,"padding",y,!0)}else if("object"!==jQuery.type(o.padding)){var c=o.padding;delete o.padding,o=t.setVal(o,"padding",c,!0)}if(null==o["text-align"]?o=void 0!==o.deformation&&void 0!==o.deformation["text-align"]?t.setVal(o,"text-align",o.deformation["text-align"],!0):t.setVal(o,"text-align","inherit",!0):"object"!==jQuery.type(o["text-align"])&&(o=t.setVal(o,"text-align",o["text-align"],!0)),o=t.setVal(o,"top",Math.round(t.getVal(o,"top"))),null==(o=t.setVal(o,"left",Math.round(t.getVal(o,"left")))).x_start&&(o.x_start="inherit"),null==o.y_start&&(o.y_start="inherit"),null==o.z_start&&(o.z_start="inherit"),null==o.x_end&&(o.x_end="inherit"),null==o.y_end&&(o.y_end="inherit"),null==o.z_end&&(o.z_end="inherit"),null==o.opacity_start&&(o.opacity_start=0==e?"0":"inherit"),null==o.opacity_end&&(o.opacity_end=0==e?"0":"inherit"),null==o.blurfilter_start&&(o.blurfilter_start="0"),null==o.blurfilter_end&&(o.blurfilter_end="0"),null==o.grayscalefilter_start&&(o.grayscalefilter_start="0"),null==o.grayscalefilter_end&&(o.grayscalefilter_end="0"),null==o.x_rotate_start&&(o.x_rotate_start="inherit"),null==o.y_rotate_start&&(o.y_rotate_start="inherit"),null==o.z_rotate_start&&(o.z_rotate_start="inherit"),null==o.x_rotate_end&&(o.x_rotate_end="inherit"),null==o.y_rotate_end&&(o.y_rotate_end="inherit"),null==o.z_rotate_end&&(o.z_rotate_end="inherit"),null==o.scale_x_start&&(o.scale_x_start="inherit"),null==o.scale_y_start&&(o.scale_y_start="inherit"),null==o.scale_x_end&&(o.scale_x_end="inherit"),null==o.scale_y_end&&(o.scale_y_end="inherit"),null==o.skew_x_start&&(o.skew_x_start="inherit"),null==o.skew_y_start&&(o.skew_y_start="inherit"),null==o.skew_x_end&&(o.skew_x_end="inherit"),null==o.skew_y_end&&(o.skew_y_end="inherit"),null==o.pers_start&&(o.pers_start="inherit"),null==o.pers_end&&(o.pers_end="inherit"),null!=o.deformation&&!jQuery.isEmptyObject(o.deformation)||(o.deformation={}),null!=o.deformation["font-family"]||"text"!=o.type&&"button"!=o.type?""!==o.deformation["font-family"]&&-1==sgfamilies.indexOf(o.deformation["font-family"])&&sgfamilies.push(o.deformation["font-family"]):(o.deformation["font-family"]="Open Sans",sgfamilies.push("Open Sans")),null==o.deformation["font-style"]&&(o.deformation["font-style"]="normal"),null==o.deformation["color-transparency"]&&(o.deformation["color-transparency"]=1),null==o.deformation["text-decoration"]&&(o.deformation["text-decoration"]="none"),null==o.deformation["vertical-align"]&&(o.deformation["vertical-align"]="top"),null==o.deformation["text-transform"]&&(o.deformation["text-transform"]="none"),null==o.deformation["background-color"]&&(o.deformation["background-color"]="transparent"),null==o.deformation["background-transparency"]&&(o.deformation["background-transparency"]=1),null==o.deformation["border-color"]&&(o.deformation["border-color"]="transparent"),null==o.deformation["border-transparency"]&&(o.deformation["border-transparency"]=1),null==o.deformation["border-style"]&&(o.deformation["border-style"]="none"),null==o.deformation["border-width"]&&(o.deformation["border-width"]="0"),null==o.deformation["border-width"]){var _=[];jQuery('input[name="css_border-width[]"]').each(function(){_.push(0)}),o.deformation["border-width"]=_}else jQuery.isArray(o.deformation["border-width"])||(o.deformation["border-width"]=[o.deformation["border-width"],o.deformation["border-width"],o.deformation["border-width"],o.deformation["border-width"]]);if(null==o.deformation["border-radius"]){_=[];jQuery('input[name="css_border-radius[]"]').each(function(){_.push(0)}),o.deformation["border-radius"]=_}if(null==o.svg&&(o.svg={}),null==o.svg["svgstroke-color"]&&(o.svg["svgstroke-color"]="transparent"),null==o.svg["svgstroke-transparency"]&&(o.svg["svgstroke-transparency"]=1),null==o.svg["svgstroke-dasharray"]&&(o.svg["svgstroke-dasharray"]="0"),null==o.svg["svgstroke-dashoffset"]&&(o.svg["svgstroke-dashoffset"]="0"),null==o.svg["svgstroke-width"]&&(o.svg["svgstroke-width"]="0"),null==o.svg["svgstroke-hover-color"]&&(o.svg["svgstroke-hover-color"]="transparent"),null==o.svg["svgstroke-hover-transparency"]&&(o.svg["svgstroke-hover-transparency"]=1),null==o.svg["svgstroke-hover-dasharray"]&&(o.svg["svgstroke-hover-dasharray"]="0"),null==o.svg["svgstroke-hover-dashoffset"]&&(o.svg["svgstroke-hover-dashoffset"]="0"),null==o.svg["svgstroke-hover-width"]&&(o.svg["svgstroke-hover-width"]="0"),null==o.deformation.x&&(o.deformation.x=0),null==o.deformation.y&&(o.deformation.y=0),null==o.deformation.z&&(o.deformation.z=0),null==o.deformation.skewx&&(o.deformation.skewx=0),null==o.deformation.skewy&&(o.deformation.skewy=0),null==o.deformation.scalex&&(o.deformation.scalex=1),null==o.deformation.scaley&&(o.deformation.scaley=1),null==o.deformation.opacity&&(o.deformation.opacity=1),null==o.deformation.xrotate&&(o.deformation.xrotate=0),null==o.deformation.yrotate&&(o.deformation.yrotate=0),null==o["2d_rotation"]&&(o["2d_rotation"]=0),null==o.deformation["2d_origin_x"]&&(o.deformation["2d_origin_x"]=50),null==o.deformation["2d_origin_y"]&&(o.deformation["2d_origin_y"]=50),null==o.deformation.pers&&(o.deformation.pers=600),null==o.deformation.corner_left&&(o.deformation.corner_left="nothing"),null==o.deformation.corner_right&&(o.deformation.corner_right="nothing"),null==o.deformation.parallax&&(o.deformation.parallax="-"),null==o.deformation.blurfilter&&(o.deformation.blurfilter=0),null==o.deformation.grayscalefilter&&(o.deformation.grayscalefilter=0),null!=o["deformation-hover"]&&!jQuery.isEmptyObject(o["deformation-hover"])||(o["deformation-hover"]={}),null==o["deformation-hover"].blurfilter&&(o["deformation-hover"].blurfilter=0),null==o["deformation-hover"].grayscalefilter&&(o["deformation-hover"].grayscalefilter=0),null==o["deformation-hover"].color&&(o["deformation-hover"].color="#ffffff"),null==o["deformation-hover"]["color-transparency"]&&(o["deformation-hover"]["color-transparency"]="1"),null==o["deformation-hover"]["text-decoration"]&&(o["deformation-hover"]["text-decoration"]="none"),null==o["deformation-hover"]["background-color"]&&(o["deformation-hover"]["background-color"]="transparent"),null==o["deformation-hover"]["background-transparency"]&&(o["deformation-hover"]["background-transparency"]=0),null==o["deformation-hover"]["border-color"]&&(o["deformation-hover"]["border-color"]="transparent"),null==o["deformation-hover"]["border-transparency"]&&(o["deformation-hover"]["border-transparency"]="1"),null==o["deformation-hover"]["border-style"]&&(o["deformation-hover"]["border-style"]="none"),null==o["deformation-hover"]["border-width"]&&(o["deformation-hover"]["border-width"]=0),null==o["deformation-hover"]["border-width"]){_=[];jQuery('input[name="hover_css_border-width[]"]').each(function(){_.push(0)}),o["deformation-hover"]["border-width"]=_}else jQuery.isArray(o["deformation-hover"]["border-width"])||(o["deformation-hover"]["border-width"]=[o["deformation-hover"]["border-width"],o["deformation-hover"]["border-width"],o["deformation-hover"]["border-width"],o["deformation-hover"]["border-width"]]);if(null==o["deformation-hover"]["border-radius"]){_=[];jQuery('input[name="hover_css_border-radius[]"]').each(function(){_.push(0)}),o["deformation-hover"]["border-radius"]=_}null!=o.svg&&(null==o.svg["svgstroke-hover-color"]&&(o.svg["svgstroke-hover-color"]="transparent"),null==o.svg["svgstroke-hover-transparency"]&&(o.svg["svgstroke-hover-transparency"]=1),null==o.svg["svgstroke-hover-dasharray"]&&(o.svg["svgstroke-hover-dasharray"]="0"),null==o.svg["svgstroke-hover-dashoffset"]&&(o.svg["svgstroke-hover-dashoffset"]="0"),null==o.svg["svgstroke-hover-width"]&&(o.svg["svgstroke-hover-width"]="0")),null==o["deformation-hover"].x&&(o["deformation-hover"].x=0),null==o["deformation-hover"].y&&(o["deformation-hover"].y=0),null==o["deformation-hover"].z&&(o["deformation-hover"].z=0),null==o["deformation-hover"].skewx&&(o["deformation-hover"].skewx=0),null==o["deformation-hover"].skewy&&(o["deformation-hover"].skewy=0),null==o["deformation-hover"].scalex&&(o["deformation-hover"].scalex=1),null==o["deformation-hover"].scaley&&(o["deformation-hover"].scaley=1),null==o["deformation-hover"].opacity&&(o["deformation-hover"].opacity=1),null==o["deformation-hover"].xrotate&&(o["deformation-hover"].xrotate=0),null==o["deformation-hover"].yrotate&&(o["deformation-hover"].yrotate=0),null==o["deformation-hover"]["2d_rotation"]&&(o["deformation-hover"]["2d_rotation"]=0),null==o["deformation-hover"]["2d_origin_x"]&&(o["deformation-hover"]["2d_origin_x"]=50),null==o["deformation-hover"]["2d_origin_y"]&&(o["deformation-hover"]["2d_origin_y"]=50),null==o["deformation-hover"].speed&&(o["deformation-hover"].speed=0),null==o["deformation-hover"].zindex&&(o["deformation-hover"].zindex="auto"),null==o["deformation-hover"].easing&&(o["deformation-hover"].easing="Linear.easeNone"),null==o["deformation-hover"].css_cursor&&(o["deformation-hover"].css_cursor="auto"),null==o["deformation-hover"].pointer_events&&(o["deformation-hover"].pointer_events="auto"),null==o.visible&&(o.visible=!0),null==o.animation_overwrite&&(o.animation_overwrite="wait"),null==o.trigger_memory&&(o.trigger_memory="keep"),o.serial=id_counter,jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.function_position;"add_layer_to_stage"===a&&"data_definition"==i&&(o=r(o))}),o.isDemo=r;var m=t.makeLayerHtml(id_counter,o,r);return container.append(m),o.references=void 0===o.references?{}:o.references,o.references.htmlLayer=t.getHtmlLayerFromSerial(id_counter,r),r?t.arrLayersDemo[id_counter]=jQuery.extend({},o):t.arrLayers[id_counter]=jQuery.extend({},o),r||(u.addToSortbox(id_counter,o),1!=a&&u.timeLineTableDimensionUpdate()),0!=o.visible||r||u.hideLayer(o),r||refreshEvents(id_counter),!1===o.createdOnInit&&(r?t.arrLayersDemo[id_counter].layer_unavailable=!0:t.arrLayers[id_counter].layer_unavailable=!0,t.cloneArrLayers(),r?t.arrLayersDemo[id_counter].layer_unavailable=!1:t.arrLayers[id_counter].layer_unavailable=!1,t.add_layer_change()),id_counter++,jQuery("#button_delete_all").removeClass("button-now-disabled"),u.rebuildLayerIdle(o.references.htmlLayer,0,r),0!=e||r||(t.setLayerSelected(o.serial),jQuery("#layer_text").focus()),i&&(t.reset_to_default_static_styles(o),updateSubStyleParameters(o,!0)),t.cloneArrLayers(),u.timeLineTableDimensionUpdate(),u.organiseGroupsAndLayer(!1,!1,!0),o.serial};t.deleteLayer=function(e){var r=t.getLayer(e);r.deleted=!0,forceShowHideLayer(r,"hide"),t.add_layer_change(),u.timeLineTableDimensionUpdate()};var deleteCurrentLayer=function(){if(-1==t.selectedLayerSerial)return!1;t.deleteLayer(t.selectedLayerSerial),t.selectedLayerSerial=-1,disableFormFields()},duplicateLayerIntoNewGroup=function(e){return e.order=void 0,e.time=void 0,e.createdOnInit=!1,unique_layer_id++,e.unique_id=unique_layer_id,addLayer(e,!0),u.timeLineTableDimensionUpdate(),unique_layer_id},duplicateCurrentLayer=function(){if(-1==t.selectedLayerSerial)return!1;var r,e=t.arrLayers[t.selectedLayerSerial],o=UniteAdminRev.duplicateObject(e);o=t.setVal(o,"left",t.getVal(o,"left")+5),(o=t.setVal(o,"top",t.getVal(o,"top")+5)).order=void 0,o.time=void 0,o.createdOnInit=!1,unique_layer_id++,o.unique_id=unique_layer_id,void 0!==o.groupOrder&&"row"===o.type&&(o.groupOrder=t.getHighestGroupOrder(t.getVal(o,"align_vert"))),addLayer(o,!0),initDisallowCaptionsOnClick(),u.timeLineTableDimensionUpdate(),"group"===e.type&&0<t.getLayersInGroup(e.unique_id).layers.length&&(jQuery.each(t.getLayersInGroup(e.unique_id).layers,function(e,t){var r=UniteAdminRev.duplicateObject(t);r.p_uid=o.unique_id,duplicateLayerIntoNewGroup(r)}),t.makeRowSortableDroppable()),"row"===e.type&&0<t.getLayersInGroup(e.unique_id).layers.length&&(jQuery.each(t.getLayersInGroup(e.unique_id).columns,function(e,r){var a=UniteAdminRev.duplicateObject(r);a.p_uid=o.unique_id,a.ref_group=o.unique_id;var i=duplicateLayerIntoNewGroup(a);jQuery.each(t.getLayersInGroup(r.unique_id).layers,function(e,t){var r=UniteAdminRev.duplicateObject(t);r.p_uid=i,duplicateLayerIntoNewGroup(r)})}),t.makeRowSortableDroppable()),jQuery.each(t.getLayers(),function(e,t){r=e}),t.setLayerSelected(r),-1!==o.p_uid&&"group"!==t.getObjLayerType(o.p_uid)&&t.setInnerGroupOrders(o.references.htmlLayer.parent())};t.updateHtmlLayerCorners=function(e){htmlLayer=jQuery(e.references.htmlLayer[0].getElementsByClassName("innerslide_layer")[0]);var t=htmlLayer.outerHeight(),r=htmlLayer.css("backgroundColor"),a=UniteAdminRev.getTransparencyFromRgba(htmlLayer.css("backgroundColor"));if(a=!1===a?1:a,htmlLayer.find(".frontcorner").remove(),htmlLayer.find(".frontcornertop").remove(),htmlLayer.find(".backcorner").remove(),htmlLayer.find(".backcornertop").remove(),null==e||0==e)return!1;switch(e.deformation.corner_left){case"curved":htmlLayer.append("<div class='frontcorner'></div>");break;case"reverced":htmlLayer.append("<div class='frontcornertop'></div>")}switch(e.deformation.corner_right){case"curved":htmlLayer.append("<div class='backcorner'></div>");break;case"reverced":htmlLayer.append("<div class='backcornertop'></div>")}htmlLayer.find(".frontcorner").css({borderWidth:t+"px",left:0-t+"px",borderRight:"0px solid transparent",borderTopColor:r}),htmlLayer.find(".frontcornertop").css({borderWidth:t+"px",left:0-t+"px",borderRight:"0px solid transparent",borderBottomColor:r}),htmlLayer.find(".backcorner").css({borderWidth:t+"px",right:0-t+"px",borderLeft:"0px solid transparent",borderBottomColor:r}),htmlLayer.find(".backcornertop").css({borderWidth:t+"px",right:0-t+"px",borderLeft:"0px solid transparent",borderTopColor:r})};var getjQueryLayer=function(){return jQuery("#slide_layer_"+t.selectedLayerSerial)},updateLayerTextField=function(e,r,a){var i=getjQueryLayer();-1!=t.selectedLayerSerial&&0<i.length&&(i[0].getElementsByClassName("innerslide_layer")[0].innerHTML=a);var o=r.closest("li");a=u.getSortboxText(a),null!=o&&(o[0].getElementsByClassName("timer-layer-text")[0].innerHTML=a)};t.updateCrossIconPosition=function(e){var r=jQuery(e.references.htmlLayer[0].getElementsByClassName("icon_cross")[0]),a=r.width(),i=r.height(),o=e.references.htmlLayer.outerWidth(),s=e.references.htmlLayer.outerHeight(),n=Math.round(a/2),l=Math.round(i/2),d=0,y=0;switch(t.getVal(e,"align_hor")){case"left":d=-n;break;case"center":d=(o-a)/2;break;case"right":d=o-n}switch(t.getVal(e,"align_vert")){case"top":y=-l;break;case"middle":y=(s-i)/2;break;case"bottom":y=s-l}r.css({left:d+"px",top:y+"px"})};var checkUpdateFullwidthVideo=function(e){return"video"!=e.type||void 0!==e.video_data&&e.video_data&&e.video_data.fullwidth&&1==e.video_data.fullwidth&&(e=t.setVal(e,"top",0),e=t.setVal(e,"left",0),e=t.setVal(e,"align_hor","left",!0),(e=t.setVal(e,"align_vert","top",!0)).video_width=container.width(),e.video_height=container.height()),e},updateHtmlLayersFromObject=function(e,r,a){e||(e=t.selectedLayerSerial);var i=t.getLayer(e,a);if(!i)return!1;var o=i.references.htmlLayer,s="innerslide_layer tp-caption";switch(e==t.selectedLayerSerial&&(o.addClass("layer_selected"),o.closest(".slide_layer_type_row").addClass("layerchild_selected"),o.closest(".slide_layer_type_column").addClass("layerchild_selected")),s+=" "+i.style,i.type){case"button":case"shape":s+=" "+i.internal_class}switch(o[0].getElementsByClassName("innerslide_layer")[0].className=s,i.type||"text"){case"image":break;case"video":i=checkUpdateFullwidthVideo(i);break;case"row":case"group":case"column":break;default:case"text":case"button":o[0].getElementsByClassName("innerslide_layer")[0].innerHTML=i.text,t.makeCurrentLayerRotatable(e),t.updateHtmlLayerCorners(i);break;case"svg":i.svg.renderedData=o[0].getElementsByClassName("innerslide_layer")[0].innerHTML,t.makeCurrentLayerRotatable(e);break;case"audio":}u.rebuildLayerIdle(getjQueryLayer())};t.makeCurrentLayerRotatable=function(e){if(u.checkLoopTab()||u.checkAnimationTab())return t.removeCurrentLayerRotatable(),!1;var r=document.getElementsByClassName("slide_layer layer_selected")[0];if(null!=(r=null!=r?jQuery(r.getElementsByClassName("innerslide_layer")[0]):r)&&null!==r&&0<r.length){try{r.rotatable("destroy")}catch(e){}r.rotatable({angle:r.data("angle"),start:function(e,t){},rotate:function(e,t){jQuery("#layer_2d_rotation").val(getRotationDegrees(t.element)),t.element.data("angle",t.angle.current)},stop:function(e,r){t.updateLayerFromFields()}})}},t.removeCurrentLayerRotatable=function(){jQuery(".slide_layer .ui-rotatable-handle").each(function(){var e=jQuery(this);setTimeout(function(){try{e.parent().rotatable("destroy")}catch(e){}try{e.remove()}catch(e){}try{e.parent().find(".ui-rotatable-handle").remove()}catch(e){}},50)})};var positionChanged=function(e){jQuery("#layer_top, #layer_left").change(function(){setTimeout(function(){updateHtmlLayersFromObject(t.getSerialFromID(jQuery(".layer_selected").attr("id")),!0)},19)})},positionChanged_Core=function(){try{jQuery.each(t.arrLayers,function(e,r){try{t.updateHtmlLayerPosition(!1,r,t.getVal(r,"top"),t.getVal(r,"left"),t.getVal(r,"align_hor"),t.getVal(r,"align_vert"))}catch(e){console.log("Position Changed Core Internal Function Error:"),console.log(e)}})}catch(e){console.log("Position Changed Core Function Error:"),console.log(e)}};t.set_cover_mode=function(){var e=t.getLayer(t.selectedLayerSerial);switch(jQuery("#layer_scaleX").prop("disabled",!1),jQuery("#layer_scaleY").prop("disabled",!1),jQuery("#layer_max_width").prop("disabled",!1),jQuery("#layer_max_height").prop("disabled",!1),e.type){case"shape":case"image":switch(jQuery("#layer_cover_mode option:selected").val()){case"custom":break;case"fullwidth":jQuery("#layer_scaleX").attr("disabled","disabled"),jQuery("#layer_max_width").attr("disabled","disabled");break;case"fullheight":jQuery("#layer_scaleY").attr("disabled","disabled"),jQuery("#layer_max_height").attr("disabled","disabled");break;case"cover":case"cover-proportional":jQuery("#layer_scaleX").attr("disabled","disabled"),jQuery("#layer_scaleY").attr("disabled","disabled"),jQuery("#layer_max_width").attr("disabled","disabled"),jQuery("#layer_max_height").attr("disabled","disabled")}}},t.updateCurrentLayerPosition=function(){var e={};e=t.setVal(e,"top",Number(parseInt(jQuery("#layer_top").val(),0))),e=t.setVal(e,"left",Number(parseInt(jQuery("#layer_left").val(),0))),t.updateCurrentLayer(e),u.rebuildLayerIdle(jQuery(".slide_layer.layer_selected"))},t.updateLayerFromFields=function(){t.updateLayerFromFields_Core()},t.updateLayerFromFields_Core=function(){var o={};if(jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.function_position;"updateLayerFromFields_Core"===a&&"start"==i&&(o=r(o))}),-1==t.selectedLayerSerial)return!1;UniteCssEditorRev.compare_to_original(),o.style=document.getElementById("layer_caption").value,o.hover=document.getElementById("hover_allow").checked,o.toggle=document.getElementById("toggle_allow").checked,o.toggle_use_hover=document.getElementById("toggle_use_hover").checked,o.toggle_inverse_content=document.getElementById("toggle_inverse_content").checked,o["visible-desktop"]=document.getElementById("visible-desktop").checked,o["visible-notebook"]=document.getElementById("visible-notebook").checked,o["visible-tablet"]=document.getElementById("visible-tablet").checked,o["visible-mobile"]=document.getElementById("visible-mobile").checked,o["show-on-hover"]=document.getElementById("layer_on_slider_hover").checked,o["css-position"]=jQuery("#layer-css-position option:selected").val(),o["lazy-load"]=jQuery("#layer-lazy-loading option:selected").val(),o["image-size"]=jQuery("#layer-image-size option:selected").val(),o.text=document.getElementById("layer_text").value,o.texttoggle=document.getElementById("layer_text_toggle").value||"",o.alias=jQuery("#layer_sort_"+t.selectedLayerSerial+">.layer_sort_inner_wrapper .timer-layer-text").val(),jQuery("#layer_text").data("new_content")&&jQuery("#layer_sort_"+t.selectedLayerSerial+">.layer_sort_inner_wrapper .timer-layer-text").val(o.text),jQuery("#layer_quicksort_"+t.selectedLayerSerial+" .layer-title-in-list").val(o.alias),jQuery("#the_current-editing-layer-title").val(o.alias),jQuery("#layer-short-toolbar").data("serial",t.selectedLayerSerial),o=t.setVal(o,"top",Number(parseInt(document.getElementById("layer_top").value,0))),o=t.setVal(o,"left",Number(parseInt(document.getElementById("layer_left").value,0))),o=t.setVal(o,"whitespace",jQuery("#layer_whitespace option:selected").val()),o=t.setVal(o,"display",jQuery("#layer_display option:selected").val()),o=t.setVal(o,"max_height",document.getElementById("layer_max_height").value),o=t.setVal(o,"min_height",document.getElementById("layer_min_height").value),o=t.setVal(o,"max_width",document.getElementById("layer_max_width").value),o=t.setVal(o,"video_height",document.getElementById("layer_video_height").value),o=t.setVal(o,"video_width",document.getElementById("layer_video_width").value),o=t.setVal(o,"scaleX",document.getElementById("layer_scaleX").value),o=t.setVal(o,"scaleY",document.getElementById("layer_scaleY").value),(o=t.setVal(o,"cover_mode",jQuery("#layer_cover_mode option:selected").val()))["2d_rotation"]=parseInt(document.getElementById("layer_2d_rotation").value,0),o["2d_origin_x"]=parseInt(document.getElementById("layer_2d_origin_x").value,0),o["2d_origin_y"]=parseInt(document.getElementById("layer_2d_origin_y").value,0),o.static_start=jQuery("#layer_static_start option:selected").val(),o.static_end=jQuery("#layer_static_end option:selected").val(),o.layer_bg_position=jQuery("#layer_bg_position option:selected").val(),o.layer_bg_size=jQuery("#layer_bg_size option:selected").val(),o.layer_bg_repeat=jQuery("#layer_bg_repeat option:selected").val(),o.loop_animation=jQuery("#layer_loop_animation option:selected").val(),o.loop_easing=document.getElementById("layer_loop_easing").value,o.loop_speed=document.getElementById("layer_loop_speed").value,o.loop_startdeg=parseInt(document.getElementById("layer_loop_startdeg").value,0),o.loop_enddeg=parseInt(document.getElementById("layer_loop_enddeg").value,0),o.loop_xorigin=parseInt(document.getElementById("layer_loop_xorigin").value,0),o.loop_yorigin=parseInt(document.getElementById("layer_loop_yorigin").value,0),o.loop_xstart=parseInt(document.getElementById("layer_loop_xstart").value,0),o.loop_xend=parseInt(document.getElementById("layer_loop_xend").value,0),o.loop_ystart=parseInt(document.getElementById("layer_loop_ystart").value,0),o.loop_yend=parseInt(document.getElementById("layer_loop_yend").value,0),o.loop_zoomstart=document.getElementById("layer_loop_zoomstart").value,o.loop_zoomend=document.getElementById("layer_loop_zoomend").value,o.loop_angle=document.getElementById("layer_loop_angle").value,o.loop_radius=document.getElementById("layer_loop_radius").value,o.html_tag=jQuery("#layer_html_tag option:selected").val(),o.parallax_layer_ddd_zlevel=jQuery("#parallax_layer_ddd_zlevel option:selected").val();var e=t.getHtmlLayerFromSerial(t.selectedLayerSerial);1!=document.getElementById("layer__scalex").value||1!=document.getElementById("layer__scaley").value||0!=parseInt(document.getElementById("layer__skewx").value,0)||0!=parseInt(document.getElementById("layer__skewy").value,0)||0!=parseInt(document.getElementById("layer__xrotate").value,0)||0!=parseInt(document.getElementById("layer__yrotate").value,0)||0!=parseInt(document.getElementById("layer_2d_rotation").value,0)?(jQuery(document.getElementsByClassName("mask-not-available")[0]).show(),jQuery(document.getElementsByClassName("mask-is-available")[0]).hide(),document.getElementById("masking-start").removeAttribute("checked"),document.getElementById("masking-end").removeAttribute("checked"),jQuery(document.getElementsByClassName("mask-start-settings")[0]).hide(),jQuery(document.getElementsByClassName("mask-end-settings")[0]).hide(),jQuery(".tp-showmask").removeClass("tp-showmask"),RevSliderSettings.onoffStatus(jQuery("#masking-start")),RevSliderSettings.onoffStatus(jQuery("#masking-end")),e.find(".tp-mask-wrap").css({overflow:"visible"})):(jQuery(document.getElementsByClassName("mask-not-available")[0]).hide(),jQuery(document.getElementsByClassName("mask-is-available")[0]).show()),o.mask_start=document.getElementById("masking-start").checked,o.mask_end=document.getElementById("masking-end").checked,o.mask_x_start=document.getElementById("mask_anim_xstart").value,o.mask_y_start=document.getElementById("mask_anim_ystart").value,o.mask_x_end=document.getElementById("mask_anim_xend").value,o.mask_y_end=document.getElementById("mask_anim_yend").value,o=t.setVal(o,"align_hor",document.getElementById("layer_align_hor").value),(o=t.setVal(o,"align_vert",document.getElementById("layer_align_vert").value)).hiddenunder=document.getElementById("layer_hidden").checked,o.resizeme=document.getElementById("layer_resizeme").checked,o["resize-full"]=document.getElementById("layer_resize-full").checked,o.basealign=document.getElementById("layer_align_base").value,o.responsive_offset=document.getElementById("layer_resp_offset").checked,o.frames={},o.frames.frame_0={},o.frames.frame_999={},o.frames.frame_0.animation=jQuery("#layer_animation option:selected").val(),o.frames.frame_0.speed=document.getElementById("layer_speed").value,o.frames.frame_0.easing=document.getElementById("layer_easing").value,o.frames.frame_0.split=document.getElementById("layer_split").value,o.frames.frame_0.splitdelay=document.getElementById("layer_splitdelay").value,o.frames.frame_999.split=document.getElementById("layer_endsplit").value,o.frames.frame_999.splitdelay=document.getElementById("layer_endsplitdelay").value,o.frames.frame_999.animation=document.getElementById("layer_endanimation").value,o.frames.frame_999.speed=document.getElementById("layer_endspeed").value,o.frames.frame_999.easing=document.getElementById("layer_endeasing").value,o.alt_option=jQuery("#layer_alt_option option:selected").val(),o.alt=document.getElementById("layer_alt").value,o=t.setVal(o,"scaleX",jQuery("#layer_scaleX").val()),(o=t.setVal(o,"scaleY",jQuery("#layer_scaleY").val())).x_start=document.getElementById("layer_anim_xstart").value,o.y_start=document.getElementById("layer_anim_ystart").value,o.z_start=document.getElementById("layer_anim_zstart").value,o.x_end=document.getElementById("layer_anim_xend").value,o.y_end=document.getElementById("layer_anim_yend").value,o.z_end=document.getElementById("layer_anim_zend").value,o.opacity_start=document.getElementById("layer_opacity_start").value,o.opacity_end=document.getElementById("layer_opacity_end").value,o.blurfilter_start=document.getElementById("blurfilter_start").value,o.blurfilter_end=document.getElementById("blurfilter_end").value,o.grayscalefilter_start=document.getElementById("grayscalefilter_start").value,o.grayscalefilter_end=document.getElementById("grayscalefilter_end").value,o.x_rotate_start=document.getElementById("layer_anim_xrotate").value,o.y_rotate_start=document.getElementById("layer_anim_yrotate").value,o.z_rotate_start=document.getElementById("layer_anim_zrotate").value,o.x_rotate_end=document.getElementById("layer_anim_xrotate_end").value,o.y_rotate_end=document.getElementById("layer_anim_yrotate_end").value,o.z_rotate_end=document.getElementById("layer_anim_zrotate_end").value,o.scale_x_start=document.getElementById("layer_scale_xstart").value,o.scale_y_start=document.getElementById("layer_scale_ystart").value,o.scale_x_end=document.getElementById("layer_scale_xend").value,o.scale_y_end=document.getElementById("layer_scale_yend").value,o.skew_x_start=document.getElementById("layer_skew_xstart").value,o.skew_y_start=document.getElementById("layer_skew_ystart").value,o.skew_x_end=document.getElementById("layer_skew_xend").value,o.skew_y_end=document.getElementById("layer_skew_yend").value,o.x_start_reverse=document.getElementById("layer_anim_xstart_reverse").checked||!1,o.y_start_reverse=document.getElementById("layer_anim_ystart_reverse").checked||!1,o.x_end_reverse=document.getElementById("layer_anim_xend_reverse").checked||!1,o.y_end_reverse=document.getElementById("layer_anim_yend_reverse").checked||!1,o.x_rotate_start_reverse=document.getElementById("layer_anim_xrotate_reverse").checked||!1,o.y_rotate_start_reverse=document.getElementById("layer_anim_yrotate_reverse").checked||!1,o.z_rotate_start_reverse=document.getElementById("layer_anim_zrotate_reverse").checked||!1,o.x_rotate_end_reverse=document.getElementById("layer_anim_xrotate_end_reverse").checked||!1,o.y_rotate_end_reverse=document.getElementById("layer_anim_yrotate_end_reverse").checked||!1,o.z_rotate_end_reverse=document.getElementById("layer_anim_zrotate_end_reverse").checked||!1,o.scale_x_start_reverse=document.getElementById("layer_scale_xstart_reverse").checked||!1,o.scale_y_start_reverse=document.getElementById("layer_scale_ystart_reverse").checked||!1,o.scale_x_end_reverse=document.getElementById("layer_scale_xend_reverse").checked||!1,o.scale_y_end_reverse=document.getElementById("layer_scale_yend_reverse").checked||!1,o.skew_x_start_reverse=document.getElementById("layer_skew_xstart_reverse").checked||!1,o.skew_y_start_reverse=document.getElementById("layer_skew_ystart_reverse").checked||!1,o.skew_x_end_reverse=document.getElementById("layer_skew_xend_reverse").checked||!1,o.skew_y_end_reverse=document.getElementById("layer_skew_yend_reverse").checked||!1,o.mask_x_start_reverse=document.getElementById("mask_anim_xstart_reverse").checked||!1,o.mask_y_start_reverse=document.getElementById("mask_anim_ystart_reverse").checked||!1,o.mask_x_end_reverse=document.getElementById("mask_anim_xend_reverse").checked||!1,o.mask_y_end_reverse=document.getElementById("mask_anim_yend_reverse").checked||!1,o.autolinebreak=jQuery("#layer_auto_line_break")[0].checked,o.displaymode=jQuery("#layer_displaymode")[0].checked,o.scaleProportional=jQuery("#layer_proportional_scale")[0].checked,o.attrID=document.getElementById("layer_id").value,o.attrWrapperID=document.getElementById("layer_wrapper_id").value,o.attrClasses=document.getElementById("layer_classes").value,o.attrWrapperClasses=document.getElementById("layer_wrapper_classes").value,o.attrTitle=document.getElementById("layer_title").value,o.attrTabindex=document.getElementById("layer_tabindex").value,o.attrRel=document.getElementById("layer_rel").value,o=t.setVal(o,"scaleY",jQuery("#layer_scaleY").val()),jQuery("#clayer_start_speed").val(o.speed),jQuery("#clayer_end_speed").val(o.endspeed);var r="layer_color_s"==lastchangedinput,a="checked"==jQuery("#on_all_devices_color").attr("checked")||!1,i="layer_font_size_s"==lastchangedinput,s="checked"==jQuery("#on_all_devices_fontsize").attr("checked")||!1,n="layer_font_weight_s"==lastchangedinput,l="checked"==jQuery("#on_all_devices_fontweight").attr("checked")||!1,d="layer_line_height_s"==lastchangedinput,y="checked"==jQuery("#on_all_devices_lineheight").attr("checked")||!1,c="letter_spacing_s"==lastchangedinput,_="checked"==jQuery("#on_all_devices_letterspacing").attr("checked")||!1;null==o.static_styles&&(o.static_styles={}),o.static_styles=t.setVal(o.static_styles,"font-size",jQuery("#layer_font_size_s").val(),i,null,s),o.static_styles=t.setVal(o.static_styles,"line-height",jQuery("#layer_line_height_s").val(),d,null,y),o.static_styles=t.setVal(o.static_styles,"font-weight",jQuery("#layer_font_weight_s option:selected").val(),n,null,l),o.static_styles=t.setVal(o.static_styles,"color",jQuery("#layer_color_s").val(),r,null,a),o.static_styles=t.setVal(o.static_styles,"letter-spacing",jQuery("#letter_spacing_s").val(),c,null,_),null==o.deformation&&(o.deformation={}),null==o.deformation["border-radius"]&&(o.deformation["border-radius"]=["0","0","0","0"]),o["layer-selectable"]=jQuery("#css_layer_selectable option:selected").val(),o.deformation["font-style"]=jQuery("#css_font-style")[0].checked?"italic":"normal",o.deformation["font-family"]=document.getElementById("css_font-family").value;var m=[];jQuery('input[name="css_padding[]"]').each(function(e){m.push(jQuery(this).val())}),o=t.setVal(o,"padding",m,!0);var p=[];jQuery('input[name="css_margin[]"]').each(function(e){p.push(jQuery(this).val())}),o=t.setVal(o,"margin",p,!0),(o=t.setVal(o,"text-align",jQuery("#css_text-align option:selected").val())).deformation["text-decoration"]=jQuery("#css_text-decoration option:selected").val(),o.deformation.overflow=jQuery("#css_overflow option:selected").val(),o.column_break_at=jQuery("#column_break_at option:selected").val(),o.deformation["vertical-align"]=jQuery("#css_vertical-align option:selected").val(),o.deformation["text-transform"]=jQuery("#css_text-transform option:selected").val(),o.deformation["background-color"]=document.getElementById("css_background-color").value,o.deformation["border-color"]=document.getElementById("css_border-color-show").value,o.deformation["border-style"]=jQuery("#css_border-style option:selected").val(),null==o.deformation["border-width"]&&(o.deformation["border-width"]=new Array),jQuery('input[name="css_border-width[]"]').each(function(e){o.deformation["border-width"][e]=jQuery(this).val()}),null==o.deformation["border-radius"]&&(o.deformation["border-radius"]=new Array),jQuery('input[name="css_border-radius[]"]').each(function(e){o.deformation["border-radius"][e]=jQuery(this).val()}),o.layer_blend_mode=jQuery("#layer_blend_mode option:selected").val(),o.deformation.x=0,o.deformation.y=0,o.deformation.z=parseInt(document.getElementById("layer__z").value,0),o.deformation.skewx=document.getElementById("layer__skewx").value,o.deformation.skewy=document.getElementById("layer__skewy").value,o.deformation.scalex=document.getElementById("layer__scalex").value,o.deformation.scaley=document.getElementById("layer__scaley").value,o.deformation.opacity=document.getElementById("layer__opacity").value,o.deformation.xrotate=parseInt(document.getElementById("layer__xrotate").value,0),o.deformation.yrotate=parseInt(document.getElementById("layer__yrotate").value,0),o["2d_rotation"]=parseInt(document.getElementById("layer_2d_rotation").value,0),o.deformation["2d_origin_x"]=document.getElementById("layer_2d_origin_x").value,o.deformation["2d_origin_y"]=document.getElementById("layer_2d_origin_y").value,o.deformation.pers=document.getElementById("layer__pers").value,o.deformation.corner_left=jQuery("#layer_cornerleft option:selected").val(),o.deformation.corner_right=jQuery("#layer_cornerright option:selected").val(),o.deformation.parallax=jQuery("#parallax_level option:selected").val(),o.deformation.blurfilter=document.getElementById("blurfilter_idle").value,o.deformation.grayscalefilter=document.getElementById("grayscalefilter_idle").value,null!=o["deformation-hover"]&&!jQuery.isEmptyObject(o["deformation-hover"])||(o["deformation-hover"]={}),o["deformation-hover"].color=document.getElementById("hover_layer_color_s").value,o["deformation-hover"]["text-decoration"]=jQuery("#hover_css_text-decoration option:selected").val(),o["deformation-hover"]["background-color"]=document.getElementById("hover_css_background-color").value,o["deformation-hover"].blurfilter=document.getElementById("blurfilter_hover").value,o["deformation-hover"].grayscalefilter=document.getElementById("grayscalefilter_hover").value,o["deformation-hover"].brightnessfilter=document.getElementById("brightnessfilter_hover").value,o["deformation-hover"]["border-color"]=document.getElementById("hover_css_border-color-show").value,o["deformation-hover"]["border-style"]=jQuery("#hover_css_border-style option:selected").val(),null==o["deformation-hover"]["border-width"]&&(o["deformation-hover"]["border-width"]=new Array),jQuery('input[name="hover_css_border-width[]"]').each(function(e){o["deformation-hover"]["border-width"][e]=jQuery(this).val()}),null==o["deformation-hover"]["border-radius"]&&(o["deformation-hover"]["border-radius"]=new Array),jQuery('input[name="hover_css_border-radius[]"]').each(function(e){o["deformation-hover"]["border-radius"][e]=jQuery(this).val()}),o["deformation-hover"].skewx=document.getElementById("hover_layer__skewx").value,o["deformation-hover"].skewy=document.getElementById("hover_layer__skewy").value,o["deformation-hover"].scalex=document.getElementById("hover_layer__scalex").value,o["deformation-hover"].scaley=document.getElementById("hover_layer__scaley").value,o["deformation-hover"].opacity=document.getElementById("hover_layer__opacity").value,o["deformation-hover"].xrotate=parseInt(document.getElementById("hover_layer__xrotate").value,0),o["deformation-hover"].yrotate=parseInt(document.getElementById("hover_layer__yrotate").value,0),o["deformation-hover"]["2d_rotation"]=parseInt(document.getElementById("hover_layer_2d_rotation").value,0),o["deformation-hover"].speed=document.getElementById("hover_speed").value,o["deformation-hover"].zindex=document.getElementById("hover_zindex").value,o["deformation-hover"].pointer_events=document.getElementById("pointer_events").value,o["deformation-hover"].easing=jQuery("#hover_easing option:selected").val(),o["deformation-hover"].css_cursor=jQuery("#css_cursor option:selected").val(),o["deformation-hover"].pointer_events=jQuery("#pointer_events option:selected").val(),null==o.svg&&(o.svg={}),o.svg["svgstroke-color"]=document.getElementById("css_svgstroke-color-show").value,o.svg["svgstroke-dasharray"]=document.getElementById("css_svgstroke-dasharray").value,o.svg["svgstroke-dashoffset"]=document.getElementById("css_svgstroke-dashoffset").value,o.svg["svgstroke-width"]=document.getElementById("css_svgstroke-width").value,o.svg["svgstroke-hover-color"]=document.getElementById("css_svgstroke-hover-color-show").value,o.svg["svgstroke-hover-dasharray"]=document.getElementById("css_svgstroke-hover-dasharray").value,o.svg["svgstroke-hover-dashoffset"]=document.getElementById("css_svgstroke-hover-dashoffset").value,o.svg["svgstroke-hover-width"]=document.getElementById("css_svgstroke-hover-width").value,null!=o.layer_action&&!jQuery.isEmptyObject(o.layer_action)||(o.layer_action={}),o.layer_action.tooltip_event=[],jQuery('select[name="layer_tooltip_event[]"] option:selected').each(function(){o.layer_action.tooltip_event.push(jQuery(this).val())}),o.layer_action.action=[],jQuery('select[name="layer_action[]"] option:selected').each(function(){o.layer_action.action.push(jQuery(this).val())}),o.layer_action.image_link=[],jQuery('input[name="layer_image_link[]"]').each(function(){o.layer_action.image_link.push(jQuery(this).val())}),o.layer_action.link_open_in=[],jQuery('select[name="layer_link_open_in[]"] option:selected').each(function(){o.layer_action.link_open_in.push(jQuery(this).val())}),o.layer_action.jump_to_slide=[],jQuery('select[name="jump_to_slide[]"] option:selected').each(function(){o.layer_action.jump_to_slide.push(jQuery(this).val())}),o.layer_action.scrollunder_offset=[],jQuery('input[name="layer_scrolloffset[]"]').each(function(){o.layer_action.scrollunder_offset.push(jQuery(this).val())}),o.layer_action.action_easing=[],jQuery('select[name="layer-action-easing[]"] option:selected').each(function(){o.layer_action.action_easing.push(jQuery(this).val())}),o.layer_action.action_speed=[],jQuery('input[name="layer_action_speed[]"]').each(function(){o.layer_action.action_speed.push(jQuery(this).val())}),o.layer_action.actioncallback=[],jQuery('input[name="layer_actioncallback[]"]').each(function(){o.layer_action.actioncallback.push(jQuery(this).val())}),o.layer_action.layer_target=[],jQuery('select[name="layer_target[]"] option:selected').each(function(){o.layer_action.layer_target.push(jQuery(this).val())}),o.layer_action.link_type=[],jQuery('select[name="layer_link_type[]"] option:selected').each(function(){o.layer_action.link_type.push(jQuery(this).val())}),o.layer_action.action_delay=[],jQuery('input[name="layer_action_delay[]"]').each(function(){o.layer_action.action_delay.push(jQuery(this).val())}),o.layer_action.toggle_layer_type=[],jQuery('select[name="toggle_layer_type[]"] option:selected').each(function(){o.layer_action.toggle_layer_type.push(jQuery(this).val())}),o.layer_action.toggle_class=[],jQuery('input[name="layer_toggleclass[]"]').each(function(){o.layer_action.toggle_class.push(jQuery(this).val())}),o.animation_overwrite=jQuery("#layer-animation-overwrite option:selected").val(),o.trigger_memory=jQuery("#layer-tigger-memory option:selected").val(),jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.function_position;"updateLayerFromFields_Core"===a&&"end"==i&&(o=r(o))}),t.updateCurrentLayer(o,["layer_action"]),t.showHideToggleContent(o),updateHtmlLayersFromObject(),updateHtmlSortboxFromObject(),initDisallowCaptionsOnClick(),u.rebuildLayerIdle(e),t.set_cover_mode()};var updateHtmlSortboxFromObject=function(e){e=null!=e?e:t.selectedLayerSerial;var r=t.getLayer(e),a=u.getHtmlSortItemFromSerial(e);if(!r||!a)return!1;var i=u.getSortboxText(r.alias);a.find(">.layer_sort_inner_wrapper .timer-layer-text").text(i)},redrawAllLayerHtml=function(){jQuery.each(t.arrLayers,function(e,t){redrawLayerHtml(t.serial)}),jQuery.each(t.arrLayersDemo,function(e,t){redrawLayerHtml(t.serial,!0)}),jQuery(".slide_layer").each(function(){u.rebuildLayerIdle(jQuery(this))}),t.updateLayerFormFields(t.selectedLayerSerial)},redrawLayerHtml=function(e,r){null==r&&(r=!1);var a=t.getLayer(e,r),i=t.makeLayerHtml(e,a,r);if("group"!=a.type&&"row"!=a.type&&"column"!=a.type){var o=jQuery(i).html();t.getHtmlLayerFromSerial(e,r);a.references.htmlLayer.html(o)}},nix=function(e){return void 0===e||0==e.length},updateSubStyleParameters=function(r,e){var a=void 0!==e&&!0===e,i=UniteCssEditorRev.getStyleSettingsByHandle(r.style),o=i.params,s=UniteCssEditorRev.getStyleSettingsByHandle(r.svg),n=i.hover;null==n&&(n={});var l=!1;try{l=void 0!==i&&(!!i.hasOwnProperty("settings")&&(!(void 0===i.settings||(i.settings.hover,0))&&i.settings.hover))}catch(e){}if(null!=r.deformation&&void 0!==o){if((nix(r.deformation["color-transparency"])||a)&&(r.deformation["color-transparency"]=nix(o["color-transparency"])?"1":o["color-transparency"]),(nix(r.deformation["font-style"])||a)&&(r.deformation["font-style"]=nix(o["font-style"])?"normal":o["font-style"]),(nix(r.deformation["font-family"])||a)&&(r.deformation["font-family"]=nix(o["font-family"])?"Arial":o["font-family"]),nix(r.padding)||a)if(nix(o.padding))if(null==r.padding){r.padding={};var d=[];jQuery('input[name="css_padding[]"]').each(function(){d.push(0)}),r=t.setVal(r,"padding",d,!0)}else"object"!=typeof r.padding&&(r=t.setVal(r,"padding",r.padding,!0));else null!=r.padding&&delete r.padding,"object"==typeof o.padding&&null!==o.padding?r.padding=o.padding:r=t.setVal(r,"padding",o.padding.split(" "),!0);if(nix(r.margin)||a)if(nix(o.margin))if(null==r.margin){r.margin={};d=[];jQuery('input[name="css_margin[]"]').each(function(){d.push(0)}),r=t.setVal(r,"margin",d,!0)}else"object"!=typeof r.margin&&(r=t.setVal(r,"margin",r.margin,!0));else null!=r.margin&&delete r.margin,"object"==typeof o.margin&&null!==o.margin?r.margin=o.margin:r=t.setVal(r,"margin",o.margin.split(" "),!0);if((nix(r.deformation.display)||a)&&(r.deformation.display=nix(o.display)?"block":o.display),nix(r["text-align"])||a)if(nix(o["text-align"]))if(null==r["text-align"]){r["text-align"]={};d=[];jQuery('input[name="css_text-align[]"]').each(function(){d.push(0)}),r=t.setVal(r,"text-align",d,!0)}else"object"!=typeof r["text-align"]&&(r=t.setVal(r,"text-align",r["text-align"],!0));else null!=r["text-align"]&&delete r["text-align"],"object"==typeof o["text-align"]&&null!==o["text-align"]?r["text-align"]=o["text-align"]:r=t.setVal(r,"text-align",o["text-align"],!0);if((nix(r.deformation["text-decoration"])||a)&&(r.deformation["text-decoration"]=nix(o["text-decoration"])?"none":o["text-decoration"]),(nix(r.deformation["text-align"])||a)&&(r.deformation["text-align"]=nix(o["text-align"])?"left":o["text-align"]),nix(r.deformation["background-color"])||a){var y=nix(o["background-color"])?"transparent":UniteAdminRev.rgb2hex(o["background-color"]),u=nix(o["background-color"])?1:UniteAdminRev.getTransparencyFromRgba(o["background-color"]);u=null==u||0==u||"false"==u?1:u,nix(o["background-transparency"])||(u=o["background-transparency"]),r.deformation["background-color"]=y,r.deformation["background-transparency"]=u}if((nix(r.deformation["border-color"])||a)&&(r.deformation["border-color"]=nix(o["border-color"])?"transparent":UniteAdminRev.rgb2hex(o["border-color"])),(nix(r.deformation["border-transparency"])||a)&&(r.deformation["border-transparency"]=nix(o["border-transparency"])?"1":o["border-transparency"]),(nix(r.deformation["border-style"])||a)&&(r.deformation["border-style"]=nix(o["border-style"])?"none":o["border-style"]),nix(r.deformation["border-width"])||nix(r.deformation["border-width"][0])&&nix(r.deformation["border-width"][1])&&nix(r.deformation["border-width"][2])&&nix(r.deformation["border-width"][3])||a){var c=nix(o["border-width"])?["0px","0px","0px","0px"]:"object"!=typeof o["border-width"]?o["border-width"].split(" "):o["border-width"];r.deformation["border-width"]=["0","0","0","0"],jQuery(r.deformation["border-width"]).each(function(e){r.deformation["border-width"][e]=c.length<2?c[0]:c.length<4?0==e||2==e?c[0]:c[1]:c[e]})}if(nix(r.deformation["border-radius"])||nix(r.deformation["border-radius"][0])&&nix(r.deformation["border-radius"][1])&&nix(r.deformation["border-radius"][2])&&nix(r.deformation["border-radius"][3])||a){c=nix(o["border-radius"])?["0px","0px","0px","0px"]:"object"!=typeof o["border-radius"]?o["border-radius"].split(" "):o["border-radius"];r.deformation["border-radius"]=["0","0","0","0"],jQuery(r.deformation["border-radius"]).each(function(e){r.deformation["border-radius"][e]=c.length<2?c[0]:c.length<4?0==e||2==e?c[0]:c[1]:c[e]})}(nix(r.deformation.corner_left)||a)&&(r.deformation.corner_left=nix(o.corner_left)?"nothing":o.corner_left),(nix(r.deformation.corner_right)||a)&&(r.deformation.corner_right=nix(o.corner_right)?"nothing":o.corner_right),(nix(r.deformation.parallax)||a)&&(r.deformation.parallax=nix(o.parallax)?"-":o.parallax),(nix(r.deformation.x)||a)&&(r.deformation.x=nix(o.x)?0:o.x),(nix(r.deformation.y)||a)&&(r.deformation.y=nix(o.y)?0:o.y),(nix(r.deformation.z)||a)&&(r.deformation.z=nix(o.z)?0:o.z),(nix(r.deformation.skewx)||a)&&(r.deformation.skewx=nix(o.skewx)?0:o.skewx),(nix(r.deformation.skewy)||a)&&(r.deformation.skewy=nix(o.skewy)?0:o.skewy),(nix(r.deformation.scalex)||a)&&(r.deformation.scalex=nix(o.scalex)?1:o.scalex),(nix(r.deformation.scaley)||a)&&(r.deformation.scaley=nix(o.scaley)?1:o.scaley),(nix(r.deformation.opacity)||a)&&(r.deformation.opacity=nix(o.opacity)?1:o.opacity),(nix(r.deformation.xrotate)||a)&&(r.deformation.xrotate=nix(o.xrotate)?0:o.xrotate),(nix(r.deformation.yrotate)||a)&&(r.deformation.yrotate=nix(o.yrotate)?0:o.yrotate),(nix(r["2d_rotation"])||a)&&(r["2d_rotation"]=nix(o["2d_rotation"])?0:o["2d_rotation"]),(nix(r.deformation["2d_origin_x"])||a)&&(r.deformation["2d_origin_x"]=nix(o["2d_origin_x"])?50:o["2d_origin_x"]),(nix(r.deformation["2d_origin_y"])||a)&&(r.deformation["2d_origin_y"]=nix(o["2d_origin_y"])?50:o["2d_origin_y"]),(nix(r.deformation.pers)||a)&&(r.deformation.pers=nix(o.pers)?600:o.pers),(nix(r.deformation.blurfilter)||a)&&(r.deformation.blurfilter=nix(o.blurfilter)?0:o.blurfilter),(nix(r.deformation.grayscalefilter)||a)&&(r.deformation.grayscalefilter=nix(o.grayscalefilter)?0:o.grayscalefilter)}if(null!=r.svg&&null!=s&&((nix(r.svg["svgstroke-color"])||a)&&(r.svg["svgstroke-color"]=nix(s["svgstroke-color"])?"transparent":UniteAdminRev.rgb2hex(s["svgstroke-color"])),(nix(r.svg["svgstroke-transparency"])||a)&&(r.svg["svgstroke-transparency"]=nix(s["svgstroke-transparency"])?"1":s["svgstroke-transparency"]),(nix(r.svg["svgstroke-dasharray"])||a)&&(r.svg["svgstroke-dasharray"]=nix(s["svgstroke-dasharray"])?"0":s["svgstroke-dasharray"]),(nix(r.svg["svgstroke-dashoffset"])||a)&&(r.svg["svgstroke-dashoffset"]=nix(s["svgstroke-dashoffset"])?"0":s["svgstroke-dashoffset"]),(nix(r.svg["svgstroke-width"])||a)&&(r.svg["svgstroke-width"]=nix(s["svgstroke-width"])?"0":s["svgstroke-width"]),(nix(r.svg["svgstroke-hover-color"])||a)&&(r.svg["svgstroke-hover-color"]=nix(s["svgstroke-hover-color"])?"transparent":UniteAdminRev.rgb2hex(s["svgstroke-hover-color"])),(nix(r.svg["svgstroke-hover-transparency"])||a)&&(r.svg["svgstroke-hover-transparency"]=nix(s["svgstroke-hover-transparency"])?"1":s["svgstroke-hover-transparency"]),(nix(r.svg["svgstroke-hover-dasharray"])||a)&&(r.svg["svgstroke-hover-dasharray"]=nix(s["svgstroke-hover-dasharray"])?"0":s["svgstroke-hover-dasharray"]),(nix(r.svg["svgstroke-hover-dashoffset"])||a)&&(r.svg["svgstroke-hover-dashoffset"]=nix(s["svgstroke-hover-dashoffset"])?"0":s["svgstroke-hover-dashoffset"]),(nix(r.svg["svgstroke-hover-width"])||a)&&(r.svg["svgstroke-hover-width"]=nix(s["svgstroke-hover-width"])?"0":s["svgstroke-hover-width"])),a&&("true"===l||!0===l?(jQuery("#hover_allow").attr("checked",!0),jQuery("#idle-hover-swapper").show()):(jQuery("#hover_allow").attr("checked",!1),jQuery("#idle-hover-swapper").hide())),RevSliderSettings.onoffStatus(jQuery("#hover_allow")),RevSliderSettings.onoffStatus(jQuery("#toggle_allow")),RevSliderSettings.onoffStatus(jQuery("#toggle_use_hover")),RevSliderSettings.onoffStatus(jQuery("#toggle_inverse_content")),jQuery('#css_layer_selectable option[value="'+r["layer-selectable"]+'"]').attr("selected",!0),null!=r.deformation){jQuery("#css_font-family").val(r.deformation["font-family"]),void 0===(d=t.getVal(r,"padding"))&&(d=r.deformation.padding),void 0===d&&(d=[0,0,0,0]),jQuery('input[name="css_padding[]"]').each(function(e){jQuery(this).val(d[e])});var _=t.getVal(r,"margin");if(void 0===_&&(_=r.deformation.margin),void 0===_&&(_=[0,0,0,0]),jQuery('input[name="css_margin[]"]').each(function(e){jQuery(this).val(_[e])}),"italic"==r.deformation["font-style"]?jQuery("#css_font-style").attr("checked",!0):jQuery("#css_font-style").attr("checked",!1),RevSliderSettings.onoffStatus(jQuery("#css_font-style")),jQuery('#css_text-align option[value="'+t.getVal(r,"text-align")+'"]').attr("selected",!0),jQuery("#css_font-transparency").val(r.deformation["color-transparency"]),jQuery('#css_text-decoration option[value="'+r.deformation["text-decoration"]+'"]').attr("selected",!0),jQuery('#css_overflow option[value="'+r.deformation.overflow+'"]').attr("selected",!0),jQuery('#column_break_at option[value="'+r.column_break_at+'"]').attr("selected",!0),jQuery('#css_vertical-align option[value="'+r.deformation["vertical-align"]+'"]').attr("selected",!0),jQuery('#css_text-transform option[value="'+r.deformation["text-transform"]+'"]').attr("selected",!0),jQuery("#css_background-color").val(r.deformation["background-color"]),jQuery("#css_background-transparency").val(r.deformation["background-transparency"]),jQuery("#css_border-color-show").val(r.deformation["border-color"]),jQuery("#css_border-transparency").val(r.deformation["border-transparency"]),jQuery('#css_border-style option[value="'+r.deformation["border-style"]+'"]').attr("selected",!0),jQuery('input[name="css_border-width[]"]').each(function(e){jQuery(this).val(r.deformation["border-width"][e])}),jQuery('input[name="css_border-radius[]"]').each(function(e){jQuery(this).val(r.deformation["border-radius"][e])}),jQuery('input[name="layer__x"]').val(r.deformation.x),jQuery('input[name="layer__y"]').val(r.deformation.y),jQuery("#layer__z").val(r.deformation.z),jQuery("#layer__skewx").val(r.deformation.skewx),jQuery("#layer__skewy").val(r.deformation.skewy),jQuery("#layer__scalex").val(r.deformation.scalex),jQuery("#layer__scaley").val(r.deformation.scaley),jQuery("#layer__opacity").val(r.deformation.opacity),jQuery("#layer__xrotate").val(r.deformation.xrotate),jQuery("#layer__yrotate").val(r.deformation.yrotate),jQuery("#layer_2d_rotation").val(r["2d_rotation"]),jQuery("#layer_2d_origin_x").val(r.deformation["2d_origin_x"]),jQuery("#layer_2d_origin_y").val(r.deformation["2d_origin_y"]),jQuery("#layer__pers").val(r.deformation.pers),jQuery("#blurfilter_idle").val(r.deformation.blurfilter),jQuery("#grayscalefilter_idle").val(r.deformation.grayscalefilter),jQuery("#blurfilter_hover").val(r["deformation-hover"].blurfilter),jQuery("#grayscalefilter_hover").val(r["deformation-hover"].grayscalefilter),jQuery('#layer_cornerleft option[value="'+r.deformation.corner_left+'"]').attr("selected",!0),jQuery('#layer_blend_mode option[value="'+r.layer_blend_mode+'"]').attr("selected",!0),jQuery('#layer_cornerright option[value="'+r.deformation.corner_right+'"]').attr("selected",!0),jQuery('#parallax_level option[value="'+r.deformation.parallax+'"]').attr("selected",!0),nix(r["deformation-hover"]["border-width"])||nix(r["deformation-hover"]["border-width"][0])&&nix(r["deformation-hover"]["border-width"][1])&&nix(r["deformation-hover"]["border-width"][2])&&nix(r["deformation-hover"]["border-width"][3])||a){c=nix(n["border-width"])?["0px","0px","0px","0px"]:"object"!=typeof n["border-width"]?n["border-width"].split(" "):n["border-width"];r["deformation-hover"]["border-width"]=["0","0","0","0"],jQuery(r["deformation-hover"]["border-width"]).each(function(e){r["deformation-hover"]["border-width"][e]=c.length<2?c[0]:c.length<4?0==e||2==e?c[0]:c[1]:c[e]})}if((nix(r["deformation-hover"]["color-transparency"])||a)&&(r["deformation-hover"]["color-transparency"]=nix(n["color-transparency"])?"1":n["color-transparency"]),(nix(r["deformation-hover"]["text-decoration"])||a)&&(r["deformation-hover"]["text-decoration"]=nix(n["text-decoration"])?"none":n["text-decoration"]),(nix(r["deformation-hover"]["background-color"])||a)&&(r["deformation-hover"]["background-color"]=nix(n["background-color"])?"transparent":n["background-color"]),(nix(r["deformation-hover"]["background-transparency"])||a)&&(r["deformation-hover"]["background-transparency"]=nix(n["background-transparency"])?"1":n["background-transparency"]),(nix(r["deformation-hover"]["border-color"])||a)&&(r["deformation-hover"]["border-color"]=nix(n["border-color"])?"transparent":n["border-color"]),(nix(r["deformation-hover"]["border-transparency"])||a)&&(r["deformation-hover"]["border-transparency"]=nix(n["border-transparency"])?"1":n["border-transparency"]),(nix(r["deformation-hover"]["border-style"])||a)&&(r["deformation-hover"]["border-style"]=nix(n["border-style"])?"none":n["border-style"]),(nix(r["deformation-hover"]["border-width"])||a)&&(r["deformation-hover"]["border-width"]=nix(n["border-width"])?"0":n["border-width"]),nix(r["deformation-hover"]["border-radius"])||nix(r["deformation-hover"]["border-radius"][0])&&nix(r["deformation-hover"]["border-radius"][1])&&nix(r["deformation-hover"]["border-radius"][2])&&nix(r["deformation-hover"]["border-radius"][3])||a){c=nix(n["border-radius"])?["0px","0px","0px","0px"]:"object"!=typeof n["border-radius"]?n["border-radius"].split(" "):n["border-radius"];r["deformation-hover"]["border-radius"]=["0","0","0","0"],jQuery(r["deformation-hover"]["border-radius"]).each(function(e){r["deformation-hover"]["border-radius"][e]=c.length<2?c[0]:c.length<4?0==e||2==e?c[0]:c[1]:c[e]})}(nix(r["deformation-hover"].skewx)||a)&&(r["deformation-hover"].skewx=nix(n.skewx)?0:n.skewx),(nix(r["deformation-hover"].skewy)||a)&&(r["deformation-hover"].skewy=nix(n.skewy)?0:n.skewy),(nix(r["deformation-hover"].scalex)||a)&&(r["deformation-hover"].scalex=nix(n.scalex)?1:n.scalex),(nix(r["deformation-hover"].scaley)||a)&&(r["deformation-hover"].scaley=nix(n.scaley)?1:n.scaley),(nix(r["deformation-hover"].opacity)||a)&&(r["deformation-hover"].opacity=nix(n.opacity)?1:n.opacity),(nix(r["deformation-hover"].xrotate)||a)&&(r["deformation-hover"].xrotate=nix(n.xrotate)?0:n.xrotate),(nix(r["deformation-hover"].yrotate)||a)&&(r["deformation-hover"].yrotate=nix(n.yrotate)?0:n.yrotate),(nix(r["deformation-hover"]["2d_rotation"])||a)&&(r["deformation-hover"]["2d_rotation"]=nix(n["2d_rotation"])?0:n["2d_rotation"]),(nix(r["deformation-hover"].css_cursor)||a)&&(r["deformation-hover"].css_cursor=nix(n.css_cursor)?"auto":n.css_cursor),(nix(r["deformation-hover"].pointer_events)||a)&&(r["deformation-hover"].pointer_events=nix(n.pointer_events)?"auto":n.pointer_events),(nix(r["deformation-hover"].blurfilter)||a)&&(r["deformation-hover"].blurfilter=nix(n.blurfilter)?0:n.blurfilter),(nix(r["deformation-hover"].grayscalefilter)||a)&&(r["deformation-hover"].grayscalefilter=nix(n.grayscalefilter)?0:n.grayscalefilter),(nix(r["deformation-hover"].speed)||a)&&(r["deformation-hover"].speed=nix(n.speed)?"0":n.speed),(nix(r["deformation-hover"].easing)||a)&&(r["deformation-hover"].easing=nix(n.easing)?"Linear.easeNone":n.easing),null!=r["deformation-hover"]&&(jQuery("#hover_layer_color_s").val(r["deformation-hover"].color),jQuery("#hover_css_font-transparency").val(r["deformation-hover"]["color-transparency"]),jQuery('#hover_css_text-decoration option[value="'+r["deformation-hover"]["text-decoration"]+'"]').attr("selected",!0),jQuery("#hover_css_background-color").val(r["deformation-hover"]["background-color"]),jQuery("#hover_css_background-transparency").val(r["deformation-hover"]["background-transparency"]),jQuery("#hover_css_border-color-show").val(r["deformation-hover"]["border-color"]),jQuery("#hover_css_border-transparency").val(r["deformation-hover"]["border-transparency"]),jQuery('#hover_css_border-style option[value="'+r["deformation-hover"]["border-style"]+'"]').attr("selected",!0),jQuery('input[name="hover_css_border-width[]"]').each(function(e){jQuery(this).val(r["deformation-hover"]["border-width"][e])}),jQuery('input[name="hover_css_border-radius[]"]').each(function(e){jQuery(this).val(r["deformation-hover"]["border-radius"][e])}),jQuery("#hover_layer__skewx").val(r["deformation-hover"].skewx),jQuery("#hover_layer__skewy").val(r["deformation-hover"].skewy),jQuery("#hover_layer__scalex").val(r["deformation-hover"].scalex),jQuery("#hover_layer__scaley").val(r["deformation-hover"].scaley),jQuery("#hover_layer__opacity").val(r["deformation-hover"].opacity),jQuery("#hover_layer__xrotate").val(r["deformation-hover"].xrotate),jQuery("#hover_layer__yrotate").val(r["deformation-hover"].yrotate),jQuery("#hover_layer_2d_rotation").val(r["deformation-hover"]["2d_rotation"]),jQuery('#css_cursor option[value="'+r["deformation-hover"].css_cursor+'"]').attr("selected",!0),jQuery('#pointer_events option[value="'+r["deformation-hover"].pointer_events+'"]').attr("selected",!0),jQuery("#hover_speed").val(r["deformation-hover"].speed),jQuery("#hover_zindex").val(r["deformation-hover"].zindex),jQuery('#hover_easing option[value="'+r["deformation-hover"].easing+'"]').attr("selected",!0))}return jQuery(".wp-color-result").each(function(){jQuery(this).css("backgroundColor",jQuery(this).parent().find(".my-color-field").val())}),r};t.updateLayerFormFields=function(e){var o=t.arrLayers[e];if(jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.function_position;"updateLayerFormFields"===a&&"start"==i&&(o=r(o))}),void 0===o)return!0;jQuery("#internal_classes").val(o.internal_class),jQuery(".rs-internal-class-wrapper").text(o.internal_class),jQuery("#layer_caption").val(o.style),jQuery("#layer_text").val(UniteAdminRev.stripslashes(o.text)),null!=o.texttoggle?jQuery("#layer_text_toggle").val(UniteAdminRev.stripslashes(o.texttoggle)):jQuery("#layer_text_toggle").val(""),jQuery("#layer_text").data("new_content",!1),jQuery('#layer_alt_option option[value="'+o.alt_option+'"]').attr("selected","selected"),jQuery("#layer_alt").val(o.alt),jQuery("#layer_alias_name").val(o.alias),"true"==o.hover||1==o.hover?(jQuery("#hover_allow").prop("checked",!0),jQuery("#idle-hover-swapper").show()):(jQuery("#hover_allow").prop("checked",!1),jQuery("#idle-hover-swapper").hide()),"true"==o.toggle||1==o.toggle?jQuery("#toggle_allow").prop("checked",!0):jQuery("#toggle_allow").prop("checked",!1),"true"==o.toggle_use_hover||1==o.toggle_use_hover?jQuery("#toggle_use_hover").prop("checked",!0):jQuery("#toggle_use_hover").prop("checked",!1),"true"==o.toggle_inverse_content||1==o.toggle_inverse_content?jQuery("#toggle_inverse_content").prop("checked",!0):jQuery("#toggle_inverse_content").prop("checked",!1),"true"==o["visible-notebook"]||1==o["visible-notebook"]?jQuery("#visible-notebook").prop("checked",!0):jQuery("#visible-notebook").prop("checked",!1),"true"==o["visible-desktop"]||1==o["visible-desktop"]?jQuery("#visible-desktop").prop("checked",!0):jQuery("#visible-desktop").prop("checked",!1),"true"==o["visible-tablet"]||1==o["visible-tablet"]?jQuery("#visible-tablet").prop("checked",!0):jQuery("#visible-tablet").prop("checked",!1),"true"==o["visible-mobile"]||1==o["visible-mobile"]?jQuery("#visible-mobile").prop("checked",!0):jQuery("#visible-mobile").prop("checked",!1),"true"==o["show-on-hover"]||1==o["show-on-hover"]?jQuery("#layer_on_slider_hover").prop("checked",!0):jQuery("#layer_on_slider_hover").prop("checked",!1),jQuery('#layer-lazy-loading option[value="'+o["lazy-load"]+'"]').attr("selected","selected"),jQuery('#layer-image-size option[value="'+o["image-size"]+'"]').attr("selected","selected"),jQuery('#layer-css-position option[value="'+o["css-position"]+'"]').attr("selected","selected"),RevSliderSettings.onoffStatus(jQuery("#hover_allow")),RevSliderSettings.onoffStatus(jQuery("#toggle_allow")),RevSliderSettings.onoffStatus(jQuery("#toggle_use_hover")),RevSliderSettings.onoffStatus(jQuery("#toggle_inverse_content")),RevSliderSettings.onoffStatus(jQuery("#visible-desktop")),RevSliderSettings.onoffStatus(jQuery("#visible-notebook")),RevSliderSettings.onoffStatus(jQuery("#visible-tablet")),RevSliderSettings.onoffStatus(jQuery("#visible-mobile")),RevSliderSettings.onoffStatus(jQuery("#layer_on_slider_hover")),jQuery("#layer_scaleX").val(specOrVal(t.getVal(o,"scaleX"),["auto","#1/1#","#1/2#","#1/3#","#1/4#","#1/5#","#1/6#","#2/3#","#3/4#","#2/5#","#3/5#","#4/5#","#4/6#","#5/6#"],"px")),jQuery("#layer_scaleY").val(specOrVal(t.getVal(o,"scaleY"),["auto","#1/1#","#1/2#","#1/3#","#1/4#","#1/5#","#1/6#","#2/3#","#3/4#","#2/5#","#3/5#","#4/5#","#4/6#","#5/6#"],"px")),jQuery('#layer_cover_mode option[value="'+o.cover_mode+'"]').attr("selected","selected"),jQuery("#layer_max_height").val(specOrVal(t.getVal(o,"max_height"),["auto","#1/1#","#1/2#","#1/3#","#1/4#","#1/5#","#1/6#","#2/3#","#3/4#","#2/5#","#3/5#","#4/5#","#4/6#","#5/6#"],"px")),jQuery("#layer_min_height").val(specOrVal(t.getVal(o,"min_height"),["auto","#1/1#","#1/2#","#1/3#","#1/4#","#1/5#","#1/6#","#2/3#","#3/4#","#2/5#","#3/5#","#4/5#","#4/6#","#5/6#"],"px")),jQuery("#layer_max_width").val(specOrVal(t.getVal(o,"max_width"),["auto","#1/1#","#1/2#","#1/3#","#1/4#","#1/5#","#1/6#","#2/3#","#3/4#","#2/5#","#3/5#","#4/5#","#4/6#","#5/6#"],"px")),jQuery("#layer_video_height").val(specOrVal(t.getVal(o,"video_height"),["auto","#1/1#","#1/2#","#1/3#","#1/4#","#1/5#","#1/6#","#2/3#","#3/4#","#2/5#","#3/5#","#4/5#","#4/6#","#5/6#"],"px")),jQuery("#layer_video_width").val(specOrVal(t.getVal(o,"video_width"),["auto","#1/1#","#1/2#","#1/3#","#1/4#","#1/5#","#1/6#","#2/3#","#3/4#","#2/5#","#3/5#","#4/5#","#4/6#","#5/6#"],"px")),jQuery("#layer_2d_rotation").val(o["2d_rotation"]),jQuery("#layer_2d_origin_x").val(o["2d_origin_x"]),jQuery("#layer_2d_origin_y").val(o["2d_origin_y"]),jQuery("#layer_static_start option[value='"+o.static_start+"']").attr("selected","selected"),changeEndStaticFunctions(),jQuery("#layer_static_end option[value='"+o.static_end+"']").attr("selected","selected"),jQuery("#layer_whitespace option[value='"+t.getVal(o,"whitespace")+"']").attr("selected","selected"),jQuery("#layer_display option[value='"+t.getVal(o,"display")+"']").attr("selected","selected"),"true"==o.scaleProportional||1==o.scaleProportional?(jQuery(".rs-proportion-check").removeClass("notselected"),jQuery("#layer_proportional_scale").prop("checked",!0)):(jQuery("#layer_proportional_scale").prop("checked",!1),jQuery(".rs-proportion-check").addClass("notselected")),"normal"===t.getVal(o,"whitespace")?(jQuery(".rs-linebreak-check").removeClass("notselected"),jQuery("#layer_auto_line_break").prop("checked",!0)):(jQuery(".rs-linebreak-check").addClass("notselected"),jQuery("#layer_auto_line_break").prop("checked",!1)),"block"===t.getVal(o,"display")?(jQuery("#layer-displaymode-wrapper").removeClass("notselected"),jQuery("#layer_displaymode").prop("checked",!0)):(jQuery("#layer-displaymode-wrapper").addClass("notselected"),jQuery("#layer_displaymode").prop("checked",!1)),RevSliderSettings.onoffStatus(jQuery(".rs-proportion-check")),RevSliderSettings.onoffStatus(jQuery(".rs-linebreak-check")),jQuery("#layer_top").val(parseInt(t.getVal(o,"top"),0)+"px"),jQuery("#layer_left").val(parseInt(t.getVal(o,"left"),0)+"px"),jQuery("#layer_bg_position option[value='"+o.layer_bg_position+"']").attr("selected","selected"),jQuery("#layer_bg_size option[value='"+o.layer_bg_size+"']").attr("selected","selected"),jQuery("#layer_bg_repeat option[value='"+o.layer_bg_repeat+"']").attr("selected","selected"),jQuery("#layer_loop_animation option[value='"+o.loop_animation+"']").attr("selected","selected"),jQuery("#layer_loop_easing").val(o.loop_easing),jQuery("#layer_loop_speed").val(o.loop_speed),jQuery("#layer_loop_startdeg").val(o.loop_startdeg),jQuery("#layer_loop_enddeg").val(o.loop_enddeg),jQuery("#layer_loop_xorigin").val(o.loop_xorigin),jQuery("#layer_loop_yorigin").val(o.loop_yorigin),jQuery("#layer_loop_xstart").val(o.loop_xstart),jQuery("#layer_loop_xend").val(o.loop_xend),jQuery("#layer_loop_ystart").val(o.loop_ystart),jQuery("#layer_loop_yend").val(o.loop_yend),jQuery("#layer_loop_zoomstart").val(o.loop_zoomstart),jQuery("#layer_loop_zoomend").val(o.loop_zoomend),jQuery("#layer_loop_angle").val(o.loop_angle),jQuery("#layer_loop_radius").val(o.loop_radius),null!=o.svg&&(jQuery("#css_svgstroke-color-show").val(o.svg["svgstroke-color"]),jQuery("#css_svgstroke-transparency").val(o.svg["svgstroke-transparency"]),jQuery("#css_svgstroke-dasharray").val(o.svg["svgstroke-dasharray"]),jQuery("#css_svgstroke-dashoffset").val(o.svg["svgstroke-dashoffset"]),jQuery("#css_svgstroke-width").val(o.svg["svgstroke-width"]),jQuery("#css_svgstroke-hover-color-show").val(o.svg["svgstroke-hover-color"]),jQuery("#css_svgstroke-hover-transparency").val(o.svg["svgstroke-hover-transparency"]),jQuery("#css_svgstroke-hover-dasharray").val(o.svg["svgstroke-hover-dasharray"]),jQuery("#css_svgstroke-hover-dashoffset").val(o.svg["svgstroke-hover-dashoffset"]),jQuery("#css_svgstroke-hover-width").val(o.svg["svgstroke-hover-width"])),jQuery("#layer_html_tag option[value='"+o.html_tag+"']").attr("selected","selected"),jQuery("#parallax_layer_ddd_zlevel option[value='"+o.parallax_layer_ddd_zlevel+"']").attr("selected","selected"),"true"==o.mask_start||1==o.mask_start?(jQuery("#masking-start").prop("checked",!1),jQuery(".mask-start-settings").show()):(jQuery("#masking-end").prop("checked",!1),jQuery(".mask-start-settings").hide()),"true"==o.mask_end||1==o.mask_end?(jQuery("#masking-end").attr("checked",!0),jQuery(".mask-end-settings").show()):(jQuery("#masking-end").removeAttr("checked"),jQuery(".mask-end-settings").hide()),RevSliderSettings.onoffStatus(jQuery("#masking-start")),RevSliderSettings.onoffStatus(jQuery("#masking-end")),jQuery("#mask_anim_xstart").val(o.mask_x_start),jQuery("#mask_anim_ystart").val(o.mask_y_start),jQuery("#mask_speed").val(o.mask_speed_start),jQuery("#mask_easing").val(o.mask_ease_start),jQuery("#mask_anim_xend").val(o.mask_x_end),jQuery("#mask_anim_yend").val(o.mask_y_end),jQuery("#layer_animation option[value='"+o.frames.frame_0.animation+"']").attr("selected","selected"),jQuery("#layer_easing").val(o.frames.frame_0.easing),jQuery("#layer_split").val(o.frames.frame_0.split),jQuery("#layer_endsplit").val(o.frames.frame_999.split),jQuery("#layer_splitdelay").val(o.frames.frame_0.splitdelay),jQuery("#layer_endsplitdelay").val(o.frames.frame_999.splitdelay),jQuery("#layer_speed").val(o.frames.frame_0.speed),jQuery("#layer_align_hor").val(t.getVal(o,"align_hor")),jQuery("#layer_align_vert").val(t.getVal(o,"align_vert")),"true"==o.hiddenunder||1==o.hiddenunder?jQuery("#layer_hidden").prop("checked",!0):jQuery("#layer_hidden").prop("checked",!1),"true"==o.resizeme||1==o.resizeme?jQuery("#layer_resizeme").prop("checked",!0):jQuery("#layer_resizeme").prop("checked",!1),"true"==o["seo-optimized"]||1==o["seo-optimized"]?jQuery("#layer-seo-optimized").prop("checked",!0):jQuery("#layer-seo-optimized").prop("checked",!1),"true"!=o["resize-full"]&&1!=o["resize-full"]||"row"===o.type||"column"===o.type?(jQuery("#layer_resize-full").prop("checked",!1),jQuery("#layer_resizeme").prop("checked",!1),o.resizeme=!1):(jQuery("#layer_resize-full").prop("checked",!0),"group"===o.type&&(jQuery("#layer_resizeme").prop("checked",!1),o.resizeme=!1)),jQuery("#layer_align_base").val(o.basealign),"true"==o.responsive_offset||1==o.responsive_offset?jQuery("#layer_resp_offset").prop("checked",!0):jQuery("#layer_resp_offset").prop("checked",!1),RevSliderSettings.onoffStatus(jQuery("#layer_hidden")),RevSliderSettings.onoffStatus(jQuery("#layer_resizeme")),RevSliderSettings.onoffStatus(jQuery("#layer_resize-full")),RevSliderSettings.onoffStatus(jQuery("#layer_resp_offset")),RevSliderSettings.onoffStatus(jQuery("#layer-seo-optimized")),jQuery("#layer_image_link").val(o.link),jQuery("#layer_link_open_in").val(o.link_open_in),jQuery("#layer_link_id").val(o.link_id),jQuery("#layer_link_class").val(o.link_class),jQuery("#layer_link_title").val(o.link_title),jQuery("#layer_link_rel").val(o.link_rel),jQuery("#layer_auto_line_break").val(o.autolinebreak),jQuery("#layer_displaymode").val(o.displaymode),jQuery("#layer_endanimation").val(o.frames.frame_999.animation),jQuery("#layer_endeasing").val(o.frames.frame_999.easing),jQuery("#layer_endspeed").val(o.frames.frame_999.speed),jQuery("#layer_anim_xstart").val(o.x_start),jQuery("#layer_anim_ystart").val(o.y_start),jQuery("#layer_anim_zstart").val(o.z_start),jQuery("#layer_anim_xend").val(o.x_end),jQuery("#layer_anim_yend").val(o.y_end),jQuery("#layer_anim_zend").val(o.z_end),jQuery("#layer_opacity_start").val(o.opacity_start),jQuery("#layer_opacity_end").val(o.opacity_end),jQuery("#blurfilter_start").val(o.blurfilter_start),jQuery("#blurfilter_end").val(o.blurfilter_end),jQuery("#grayscalefilter_start").val(o.grayscalefilter_start),jQuery("#grayscalefilter_end").val(o.grayscalefilter_end),jQuery("#layer_anim_xrotate").val(o.x_rotate_start),jQuery("#layer_anim_yrotate").val(o.y_rotate_start),jQuery("#layer_anim_zrotate").val(o.z_rotate_start),jQuery("#layer_anim_xrotate_end").val(o.x_rotate_end),jQuery("#layer_anim_yrotate_end").val(o.y_rotate_end),jQuery("#layer_anim_zrotate_end").val(o.z_rotate_end),jQuery("#layer_scale_xstart").val(o.scale_x_start),jQuery("#layer_scale_ystart").val(o.scale_y_start),jQuery("#layer_scale_xend").val(o.scale_x_end),jQuery("#layer_scale_yend").val(o.scale_y_end),jQuery("#layer_skew_xstart").val(o.skew_x_start),jQuery("#layer_skew_ystart").val(o.skew_y_start),jQuery("#layer_skew_xend").val(o.skew_x_end),jQuery("#layer_skew_yend").val(o.skew_y_end),jQuery("#layer_pers_start").val(o.pers_start),jQuery("#layer_pers_end").val(o.pers_end),jQuery("#blurfilter_start").val(o.blurfilter_start),jQuery("#blurfilter_end").val(o.blurfilter_end),jQuery("#grayscalefilter_start").val(o.grayscalefilter_start),jQuery("#grayscalefilter_end").val(o.grayscalefilter_end),void 0!==o["layer-selectable"]?jQuery('#css_layer_selectable option[value="'+o["layer-selectable"]+'"]').attr("selected",!0):jQuery('#css_layer_selectable option[value="default"]').attr("selected",!0),void 0===o.x_start_reverse||"true"!=o.x_start_reverse&&1!=o.x_start_reverse?jQuery("#layer_anim_xstart_reverse").prop("checked",!1):jQuery("#layer_anim_xstart_reverse").attr("checked",!0),void 0===o.y_start_reverse||"true"!=o.y_start_reverse&&1!=o.y_start_reverse?jQuery("#layer_anim_ystart_reverse").prop("checked",!1):jQuery("#layer_anim_ystart_reverse").attr("checked",!0),void 0===o.x_end_reverse||"true"!=o.x_end_reverse&&1!=o.x_end_reverse?jQuery("#layer_anim_xend_reverse").prop("checked",!1):jQuery("#layer_anim_xend_reverse").attr("checked",!0),void 0===o.y_end_reverse||"true"!=o.y_end_reverse&&1!=o.y_end_reverse?jQuery("#layer_anim_yend_reverse").prop("checked",!1):jQuery("#layer_anim_yend_reverse").attr("checked",!0),void 0===o.x_rotate_start_reverse||"true"!=o.x_rotate_start_reverse&&1!=o.x_rotate_start_reverse?jQuery("#layer_anim_xrotate_reverse").prop("checked",!1):jQuery("#layer_anim_xrotate_reverse").attr("checked",!0),void 0===o.y_rotate_start_reverse||"true"!=o.y_rotate_start_reverse&&1!=o.y_rotate_start_reverse?jQuery("#layer_anim_yrotate_reverse").prop("checked",!1):jQuery("#layer_anim_yrotate_reverse").attr("checked",!0),void 0===o.z_rotate_start_reverse||"true"!=o.z_rotate_start_reverse&&1!=o.z_rotate_start_reverse?jQuery("#layer_anim_zrotate_reverse").prop("checked",!1):jQuery("#layer_anim_zrotate_reverse").attr("checked",!0),void 0===o.x_rotate_end_reverse||"true"!=o.x_rotate_end_reverse&&1!=o.x_rotate_end_reverse?jQuery("#layer_anim_xrotate_end_reverse").prop("checked",!1):jQuery("#layer_anim_xrotate_end_reverse").attr("checked",!0),void 0===o.y_rotate_end_reverse||"true"!=o.y_rotate_end_reverse&&1!=o.y_rotate_end_reverse?jQuery("#layer_anim_yrotate_end_reverse").prop("checked",!1):jQuery("#layer_anim_yrotate_end_reverse").attr("checked",!0),void 0===o.z_rotate_end_reverse||"true"!=o.z_rotate_end_reverse&&1!=o.z_rotate_end_reverse?jQuery("#layer_anim_zrotate_end_reverse").prop("checked",!1):jQuery("#layer_anim_zrotate_end_reverse").attr("checked",!0),void 0===o.scale_x_start_reverse||"true"!=o.scale_x_start_reverse&&1!=o.scale_x_start_reverse?jQuery("#layer_scale_xstart_reverse").prop("checked",!1):jQuery("#layer_scale_xstart_reverse").attr("checked",!0),void 0===o.scale_y_start_reverse||"true"!=o.scale_y_start_reverse&&1!=o.scale_y_start_reverse?jQuery("#layer_scale_ystart_reverse").prop("checked",!1):jQuery("#layer_scale_ystart_reverse").attr("checked",!0),void 0===o.scale_x_end_reverse||"true"!=o.scale_x_end_reverse&&1!=o.scale_x_end_reverse?jQuery("#layer_scale_xend_reverse").prop("checked",!1):jQuery("#layer_scale_xend_reverse").attr("checked",!0),void 0===o.scale_y_end_reverse||"true"!=o.scale_y_end_reverse&&1!=o.scale_y_end_reverse?jQuery("#layer_scale_yend_reverse").prop("checked",!1):jQuery("#layer_scale_yend_reverse").attr("checked",!0),void 0===o.skew_x_start_reverse||"true"!=o.skew_x_start_reverse&&1!=o.skew_x_start_reverse?jQuery("#layer_skew_xstart_reverse").prop("checked",!1):jQuery("#layer_skew_xstart_reverse").attr("checked",!0),void 0===o.skew_y_start_reverse||"true"!=o.skew_y_start_reverse&&1!=o.skew_y_start_reverse?jQuery("#layer_skew_ystart_reverse").prop("checked",!1):jQuery("#layer_skew_ystart_reverse").attr("checked",!0),void 0===o.skew_x_end_reverse||"true"!=o.skew_x_end_reverse&&1!=o.skew_x_end_reverse?jQuery("#layer_skew_xend_reverse").prop("checked",!1):jQuery("#layer_skew_xend_reverse").attr("checked",!0),void 0===o.skew_y_end_reverse||"true"!=o.skew_y_end_reverse&&1!=o.skew_y_end_reverse?jQuery("#layer_skew_yend_reverse").prop("checked",!1):jQuery("#layer_skew_yend_reverse").attr("checked",!0),void 0===o.mask_x_start_reverse||"true"!=o.mask_x_start_reverse&&1!=o.mask_x_start_reverse?jQuery("#mask_anim_xstart_reverse").prop("checked",!1):jQuery("#mask_anim_xstart_reverse").attr("checked",!0),void 0===o.mask_y_start_reverse||"true"!=o.mask_y_start_reverse&&1!=o.mask_y_start_reverse?jQuery("#mask_anim_ystart_reverse").prop("checked",!1):jQuery("#mask_anim_ystart_reverse").attr("checked",!0),void 0===o.mask_x_end_reverse||"true"!=o.mask_x_end_reverse&&1!=o.mask_x_end_reverse?jQuery("#mask_anim_xend_reverse").prop("checked",!1):jQuery("#mask_anim_xend_reverse").attr("checked",!0),void 0===o.mask_y_end_reverse||"true"!=o.mask_y_end_reverse&&1!=o.mask_y_end_reverse?jQuery("#mask_anim_yend_reverse").prop("checked",!1):jQuery("#mask_anim_yend_reverse").attr("checked",!0),t.updateReverseList(),null!=o.static_styles&&(jQuery("#layer_font_size_s").val(t.getVal(o.static_styles,"font-size")),jQuery("#layer_line_height_s").val(t.getVal(o.static_styles,"line-height")),jQuery("#layer_font_weight_s option[value='"+t.getVal(o.static_styles,"font-weight")+"']").attr("selected",!0),jQuery("#layer_color_s").val(t.getVal(o.static_styles,"color")),jQuery("#letter_spacing_s").val(t.getVal(o.static_styles,"letter-spacing"))),null!=o.animation_overwrite?jQuery('#layer-animation-overwrite option[value="'+o.animation_overwrite+'"]').attr("selected",!0):jQuery('#layer-animation-overwrite option[value="wait"]').attr("selected",!0),null!=o.trigger_memory?jQuery('#layer-tigger-memory option[value="'+o.trigger_memory+'"]').attr("selected",!0):jQuery('#layer-tigger-memory option[value="keep"]').attr("selected",!0),t.remove_layer_actions(),t.add_layer_actions(o),o=updateSubStyleParameters(o);var r=t.getVal(o,"align_hor"),a=t.getVal(o,"align_vert");jQuery("#rs-align-wrapper a").removeClass("selected"),jQuery("#rs-align-wrapper-ver a").removeClass("selected"),jQuery("#rs-align-wrapper a[data-hor='"+r+"']").addClass("selected"),jQuery("#rs-align-wrapper-ver a[data-ver='"+a+"']").addClass("selected"),jQuery("#layer_id").val(o.attrID),jQuery("#layer_wrapper_id").val(o.attrWrapperID),jQuery("#layer_classes").val(o.attrClasses),jQuery("#layer_wrapper_classes").val(o.attrWrapperClasses),jQuery("#layer_title").val(o.attrTitle),jQuery("#layer_tabindex").val(o.attrTabindex),jQuery("#layer_rel").val(o.attrRel),jQuery('select[name="layer_action[]"], select[name="no_layer_action[]"]').each(function(){showHideLinkActions(jQuery(this))}),showHideToolTip(),showHideLoopFunctions(),jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.function_position;"updateLayerFormFields"===a&&"end"==i&&(o=r(o))})};var unselectHtmlLayers=function(){jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.function_position;"unselectHtmlLayers"===a&&"start"==i&&r()});for(var e=document.getElementById("divLayers"),r=e.getElementsByClassName("ui-resizable"),a=e.getElementsByClassName("ui-rotatable-handle"),i=0;i<r.length-1;i++)try{jQuery(r[i]).resizable("destroy")}catch(e){}for(i=0;i<a.length-1;i++)try{jQuery(a[i]).rotatable("destroy")}catch(e){}jQuery(containerID+" .slide_layer").removeClass("layer_selected"),jQuery(".layerrow_selected").removeClass("layerrow_selected"),jQuery(".layerchild_selected").removeClass("layerchild_selected"),document.getElementById("id-esw").className="",jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.function_position;"unselectHtmlLayers"===a&&"end"==i&&r()})};t.hideRowLayoutComposer=function(){jQuery("#rs-layout-row-composer").hide();for(var e=document.getElementsByClassName("row_editor open_re"),t=0;t<e.length;t++)e[t].className="row_editor"};var unselectLayers=function(){t.hideRowLayoutComposer(),unselectHtmlLayers(),jQuery("#timline-manual-dialog").appendTo(jQuery("#thelayer-editor-wrapper")).hide();for(var e=document.getElementsByClassName("layerchild_selected"),r=0;r<e.length-1;r++)jQuery(e[r]).removeClass("layerchild_selected");jQuery(".quicksortlayer.selected").removeClass("selected"),jQuery(".layerrow_selected").removeClass("layerrow_selected"),u.unselectSortboxItems(),t.selectedLayerSerial=-1,disableFormFields(),t.showHideContentEditor(!1),jQuery(".form_layers").addClass("notselected"),u.resetIdleSelector(),jQuery("#idle-hover-swapper").hide(),u.allLayerToIdle(),jQuery("#the_current-editing-layer-title").addClass("nolayerselectednow").val("No Layers Selected").attr("disabled","disabled"),jQuery("#layer-short-toolbar").data("serial","")};t.toolbarInPos=function(e){if(e)switch(e.type){case"image":jQuery("#button_change_image_source").show(),jQuery("#button_edit_layer").hide(),jQuery("#button_reset_size").show(),jQuery("#button_change_video_settings").hide(),jQuery("#layer-short-tool-placeholder-a").hide(),jQuery("#layer-short-tool-placeholder-b").hide();break;case"text":case"button":jQuery("#layer_text_wrapper").hasClass("currently_editing_txt")?(jQuery("#button_edit_layer").hide(),jQuery("#button_reset_size").hide()):(jQuery("#button_edit_layer").show(),jQuery("#button_reset_size").show()),jQuery("#button_change_image_source").hide(),jQuery("#button_change_video_settings").hide(),jQuery("#layer-short-tool-placeholder-a").hide(),jQuery("#layer-short-tool-placeholder-b").hide();break;case"audio":case"video":jQuery("#button_edit_layer").hide(),jQuery("#button_change_image_source").hide(),jQuery("#button_reset_size").hide(),jQuery("#button_change_video_settings").show(),jQuery("#layer-short-tool-placeholder-a").show(),jQuery("#layer-short-tool-placeholder-b").hide();break;case"shape":jQuery("#button_change_image_source").hide(),jQuery("#button_change_video_settings").hide(),jQuery("#button_edit_layer").hide(),jQuery("#button_reset_size").hide(),jQuery("#layer-short-tool-placeholder-a").show(),jQuery("#layer-short-tool-placeholder-b").show();break;case"svg":jQuery("#button_change_image_source").hide(),jQuery("#button_edit_layer").hide(),jQuery("#button_reset_size").hide(),jQuery("#button_change_video_settings").hide(),jQuery("#layer-short-tool-placeholder-a").show(),jQuery("#layer-short-tool-placeholder-b").hide(),jQuery("#button_edit_layer").show(),jQuery("#layer-short-tool-placeholder-b").hide()}},t.remove_layer_actions=function(){jQuery(".layer_action_wrap").each(function(){jQuery(this).remove()})},t.checkActionsOnLayers=function(e){var r=t.getSimpleLayers(),a=t.getUniqueIdByLayer(e);for(var i in r)if(r.hasOwnProperty(i)&&void 0!==r[i].layer_action)for(var o in r[i].layer_action.action)if(r[i].layer_action.action.hasOwnProperty(o))switch(r[i].layer_action.action[o]){case"start_in":case"start_out":case"start_video":case"stop_video":case"toggle_layer":case"toggle_video":case"mute_video":case"unmute_video":case"toggle_mute_video":case"toggle_global_mute_video":case"simulate_click":case"toggle_class":a==r[i].layer_action.layer_target[o]&&(r[i].layer_action.action&&r[i].layer_action.action[o]&&delete r[i].layer_action.action[o],r[i].layer_action.tooltip_event&&r[i].layer_action.tooltip_event[o]&&delete r[i].layer_action.tooltip_event[o],r[i].layer_action.image_link&&r[i].layer_action.image_link[o]&&delete r[i].layer_action.image_link[o],r[i].layer_action.link_open_in&&r[i].layer_action.link_open_in[o]&&delete r[i].layer_action.link_open_in[o],r[i].layer_action.jump_to_slide&&r[i].layer_action.jump_to_slide[o]&&delete r[i].layer_action.jump_to_slide[o],r[i].layer_action.scrolloffset&&r[i].layer_action.scrolloffset[o]&&delete r[i].layer_action.scrolloffset[o],r[i].layer_action.actioncallback&&r[i].layer_action.actioncallback[o]&&delete r[i].layer_action.actioncallback[o],r[i].layer_action.layer_target&&r[i].layer_action.layer_target[o]&&delete r[i].layer_action.layer_target[o],r[i].layer_action.action_delay&&r[i].layer_action.action_delay[o]&&delete r[i].layer_action.action_delay[o],r[i].layer_action.link_type&&r[i].layer_action.link_type[o]&&delete r[i].layer_action.link_type[o],r[i].layer_action.toggle_layer_type&&r[i].layer_action.toggle_layer_type[o]&&delete r[i].layer_action.toggle_layer_type[o],r[i].layer_action.toggle_class&&r[i].layer_action.toggle_class[o]&&delete r[i].layer_action.toggle_class[o])}},t.remove_action=function(e){confirm(rev_lang.remove_this_action)&&(e.closest("li").remove(),t.updateLayerFromFields(),u.updateAllLayerTimeline())},t.checkLayerTriggered=function(e){var r=t.getSimpleLayers(),a={in:!1,out:!1};for(var i in r)if(r.hasOwnProperty(i)&&void 0!==r[i].layer_action)for(var o in r[i].layer_action.action)if(r[i].layer_action.action.hasOwnProperty(o))switch(r[i].layer_action.action[o]){case"start_in":case"start_out":case"start_video":case"stop_video":case"toggle_layer":case"toggle_video":case"simulate_click":case"toggle_class":var s=r[i].layer_action.layer_target[o];if(e.unique_id==s)switch(r[i].layer_action.action[o]){case"start_in":a.in=!0;break;case"start_out":a.out=!0;break;case"toggle_layer":a.in=!0,a.out=!0}}return a},t.add_layer_actions=function(o){var s=t.getSimpleLayers();if(void 0===o){var e=global_action_template({edit:!0});jQuery(".layer_action_add_template").before(e),t.updateLayerFromFields()}else{jQuery("#triggered-element-behavior").hide();var r=t.getCurrentLayer();for(var n in s)if(s.hasOwnProperty(n)&&void 0!==s[n].layer_action){var a=!1;for(var i in s[n].layer_action.action)if(s[n].layer_action.action.hasOwnProperty(i))switch(s[n].layer_action.action[i]){case"start_in":case"start_out":case"start_video":case"stop_video":case"toggle_layer":case"toggle_video":case"simulate_click":case"toggle_class":var l=s[n].layer_action.layer_target[i];if(r.unique_id==l){switch(s[n].layer_action.action[i]){case"start_in":case"start_out":case"toggle_layer":a=!0}var d="";switch(s[n].layer_action.action[i]){case"start_in":d=rev_lang.start_layer_in;break;case"start_out":d=rev_lang.start_layer_out;break;case"start_video":d=rev_lang.start_video;break;case"stop_video":d=rev_lang.stop_video;break;case"toggle_layer":d=rev_lang.toggle_layer_anim;break;case"toggle_video":d=rev_lang.toggle_video;break;case"simulate_click":d=rev_lang.simulate_click;break;case"toggle_class":d=rev_lang.toggle_class}jQuery(".layer_action_add_template").before('<li class="layer_is_triggered layer_action_wrap">'+rev_lang.layer_action_by+" <a href=\"javascript:UniteLayersRev.setLayerSelected('"+n+"');void(0);\">"+s[n].alias+"</a> "+rev_lang.due_to_action+" "+d+"</li>")}}a&&jQuery("#triggered-element-behavior").show()}jQuery(".rs_disabled_field").each(function(){jQuery(this).attr("disabled","disabled")})}if(void 0!==o&&void 0!==o.layer_action&&void 0!==o.layer_action.action)for(var n in o.layer_action.action)if(o.layer_action.action.hasOwnProperty(n)){var y={edit:!0};y.tooltip_event=void 0!==o.layer_action.tooltip_event&&void 0!==o.layer_action.tooltip_event[n]?o.layer_action.tooltip_event[n]:"click",y.action=void 0!==o.layer_action.action&&void 0!==o.layer_action.action[n]?o.layer_action.action[n]:"none",y.image_link=void 0!==o.layer_action.image_link&&void 0!==o.layer_action.image_link[n]?o.layer_action.image_link[n]:"",y.link_open_in=void 0!==o.layer_action.link_open_in&&void 0!==o.layer_action.link_open_in[n]?o.layer_action.link_open_in[n]:"same",y.jump_to_slide=void 0!==o.layer_action.jump_to_slide&&void 0!==o.layer_action.jump_to_slide[n]?o.layer_action.jump_to_slide[n]:"",y.scrolloffset=void 0!==o.layer_action.scrollunder_offset&&void 0!==o.layer_action.scrollunder_offset[n]?o.layer_action.scrollunder_offset[n]:"",y.action_easing=void 0!==o.layer_action.action_easing&&void 0!==o.layer_action.action_easing[n]?o.layer_action.action_easing[n]:"Linear.easeNone",y.action_speed=void 0!==o.layer_action.action_speed&&void 0!==o.layer_action.action_speed[n]?o.layer_action.action_speed[n]:"300",y.actioncallback=void 0!==o.layer_action.actioncallback&&void 0!==o.layer_action.actioncallback[n]?o.layer_action.actioncallback[n]:"",y.layer_target=void 0!==o.layer_action.layer_target&&void 0!==o.layer_action.layer_target[n]?o.layer_action.layer_target[n]:"",y.action_delay=void 0!==o.layer_action.action_delay&&void 0!==o.layer_action.action_delay[n]?o.layer_action.action_delay[n]:"",y.link_type=void 0!==o.layer_action.link_type&&void 0!==o.layer_action.link_type[n]?o.layer_action.link_type[n]:"jquery",y.toggle_layer_type=void 0!==o.layer_action.toggle_layer_type&&void 0!==o.layer_action.toggle_layer_type[n]?o.layer_action.toggle_layer_type[n]:"visible",y.toggle_class=void 0!==o.layer_action.toggle_class&&void 0!==o.layer_action.toggle_class[n]?o.layer_action.toggle_class[n]:"",jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.function_position;"add_layer_actions"===a&&"data_definition"==i&&(y=r(y,o,n))});e=global_action_template(y);jQuery(".layer_action_add_template").before(e)}jQuery('select[name="jump_to_slide[]"], select[name="no_jump_to_slide[]"]').each(function(){for(var e in jQuery(this).html(""),slideIDs)if(slideIDs.hasOwnProperty(e))for(var t in slideIDs[e])slideIDs[e].hasOwnProperty(t)&&jQuery(this).append(jQuery("<option></option>").val(t).text("Slide: "+slideIDs[e][t]));var r=jQuery(this).data("selectoption");jQuery(this).find('option[value="'+r+'"]').attr("selected",!0)}),jQuery('select[name="layer_target[]"], select[name="no_layer_target[]"]').each(function(e){for(var r in jQuery(this).html(""),jQuery(this).append(jQuery('<option data-mytype="video-special"></option>').val("backgroundvideo").text(rev_lang.background_video)),jQuery(this).append(jQuery('<option data-mytype="video-special"></option>').val("firstvideo").text(rev_lang.active_video)),s)s.hasOwnProperty(r)&&!0!==s[r].deleted&&jQuery(this).append(jQuery('<option data-mytype="'+s[r].type+'"></option>').val(s[r].unique_id).text(s[r].alias));if(null!==initStaticLayers&&0<initStaticLayers.length)for(var r in jQuery(this).append(jQuery('<option data-mytype="all" disabled="disabled"></option>').text(rev_lang.static_layers)),initStaticLayers)initStaticLayers.hasOwnProperty(r)&&jQuery(this).append(jQuery('<option data-mytype="'+initStaticLayers[r].type+'"></option>').val("static-"+initStaticLayers[r].unique_id).text(initStaticLayers[r].alias));var a=jQuery(this).data("selectoption");jQuery(this).find('option[value="'+a+'"]').attr("selected",!0);var i=t.getAnimTimingAndTrigger(a);jQuery(this).closest("li").find('select[name="do-layer-animation-overwrite[]"] option[value="'+i.animation_overwrite+'"]').attr("selected",!0),jQuery(this).closest("li").find('select[name="do-layer-trigger-memory[]"] option[value="'+i.trigger_memory+'"]').attr("selected",!0)})},t.getAnimTimingAndTrigger=function(e){var r=t.getLayerByUniqueId(e);return{animation_overwrite:r.animation_overwrite,trigger_memory:r.trigger_memory}},t.setAnimTimingAndTrigger=function(e){var r=t.getLayerByUniqueId(e);return{animation_overwrite:r.animation_overwrite,trigger_memory:r.trigger_memory}},t.setLayerResizable=function(d){var y=!1,o=d.references.htmlLayer;!jQuery("#layer_proportional_scale")[0].checked&&"svg"!==d.type||(y=!0);try{o.resizable("destroy")}catch(e){}o.resizable({aspectRatio:y,handles:"all",start:function(e,t){switch(d.type){case"img":case"audio":case"video":var r=y?"auto":"100%";punchgs.TweenLite.set(t.element,{width:t.originalSize.width,height:t.originalSize.height}),punchgs.TweenLite.set(t.element.find("img"),{width:"100%",height:r}),punchgs.TweenLite.set(t.element.find(".innerslide_layer").first(),{width:"100%",height:r});break;default:if("svg"===d)o.find(".innerslide_layer.tp-caption").first().css({maxHeight:"none",minHeight:0,maxWidth:"none"});else{var a=o.outerWidth(),i="shape"===d.type?"none":o.outerHeight();"shape"!==d.type&&o.css({height:"auto"}),punchgs.TweenLite.set(t.element[0].getElementsByClassName("innerslide_layer")[0],{height:"auto",maxHeight:"none",minHeight:i,maxWidth:a})}}},resize:function(e,r){switch(d.type){case"audio":case"video":jQuery("#layer_video_width").val(Math.round(r.size.width)+"px"),jQuery("#layer_video_height").val(Math.round(r.size.height)+"px");var a=y?"auto":"100%";0<r.element[0].getElementsByTagName("img").length&&punchgs.TweenLite.set(r.element[0].getElementsByTagName("img")[0],{width:"100%",height:a}),punchgs.TweenLite.set(r.element[0].getElementsByClassName("innerslide_layer")[0],{maxWidth:"none",maxHeight:"none",width:"100%",height:"100%"}),punchgs.TweenLite.set(r.element[0].getElementsByClassName("slide_layer_video")[0],{width:"100%",height:"100%"});break;case"image":jQuery("#layer_scaleX").val(Math.round(r.size.width)+"px"),jQuery("#layer_scaleY").val(Math.round(r.size.height)+"px");a=y?"auto":"100%";punchgs.TweenLite.set(r.element,{width:Math.round(r.size.width),height:Math.round(r.size.height)}),punchgs.TweenLite.set(r.element[0].getElementsByTagName("img")[0],{width:"100%",height:a}),punchgs.TweenLite.set(r.element[0].getElementsByClassName("innerslide_layer")[0],{maxWidth:"100%",maxHeight:"100%",width:"100%",height:a});break;default:var i=r.element[0].getElementsByClassName("innerslide_layer")[0],o=jQuery(i),s=o.outerHeight(),n=(o.outerWidth(),Math.round(r.size.height)+1),l=Math.round(r.size.width)+1;"shape"!==d.type&&"group"!==d.type?(n=n<=s?"auto":n+"px",punchgs.TweenLite.set(i,{maxWidth:l})):punchgs.TweenLite.set(o,{maxWidth:l,maxHeight:n,minHeight:"none",overwrite:"auto",height:"100%"}),jQuery("#layer_max_width").val(l+"px"),jQuery("#layer_max_height").val(n)}"group"===d.type&&jQuery.each(t.getLayersInGroup(d.unique_id).layers,function(e,r){t.updateHtmlLayerPosition(!1,r,t.getVal(r,"top"),t.getVal(r,"left"),t.getVal(r,"align_hor"),t.getVal(r,"align_vert"))})},stop:function(e,r){layerresized=!0,setTimeout(function(){layerresized=!1},200),t.updateLayerFromFields()}})},t.resetLayerSelected=function(e){var r=e.references.htmlLayer;jQuery("#layer_cornerleft_row").hide(),jQuery("#layer_cornerright_row").hide(),jQuery("#layer_resizeme_row").hide(),jQuery("#layer_alt_row").hide(),jQuery("#layer_max_widthheight_wrapper").hide(),jQuery("#layer_video_widthheight_wrapper").hide(),jQuery("#layer_scaleXY_wrapper").hide(),jQuery("#layer_minwidthheight_wrapper").hide();var a=document.getElementById("id-esw"),i="column"===t.getObjLayerType(e.p_uid);switch(a.className="slt-"+e.type+"-w",i&&(a.className+=" sltic"),e.type){case"audio":case"video":jQuery("#linkInsertTemplate").addClass("disabled"),jQuery("#layer_video_widthheight_wrapper").show(),t.showHideContentEditor(!1),r.width()>=jQuery("#divLayers").width()&&r.height()>=jQuery("#divLayers").height()?r.addClass("fullscreen-video-layer"):r.removeClass("fullscreen-video-layer");break;case"image":jQuery("#layer_scaleXY_wrapper").show(),jQuery("#linkInsertTemplate").addClass("disabled"),jQuery("#layer_alt_row").show(),jQuery(".rs-lazy-load-images-wrap").show(),"custom"==jQuery("#layer_alt_option option:selected").val()?jQuery("#layer_alt").show():jQuery("#layer_alt").hide();break;case"svg":jQuery("#layer_max_widthheight_wrapper").show();break;case"shape":jQuery("#layer-covermode-wrapper").show(),jQuery("#layer_text_wrapper").removeClass("currently_editing_txt"),jQuery("#layer_max_widthheight_wrapper").show();break;case"group":case"row":jQuery("#layer_max_widthheight_wrapper").show();break;case"column":jQuery("#layer_minwidthheight_wrapper").show();break;case"text":case"button":default:jQuery("#layer_text_wrapper").addClass("currently_editing_txt"),jQuery("#layer_cornerleft_row").show(),jQuery("#layer_cornerright_row").show(),jQuery("#layer_resizeme_row").show(),jQuery("#layer_max_widthheight_wrapper").show()}"row"!==e.type&&"column"!==e.type&&(t.setLayerResizable(e),t.makeCurrentLayerRotatable()),jQuery("#hover_allow")[0].checked?jQuery("#idle-hover-swapper").show():jQuery("#idle-hover-swapper").hide(),RevSliderSettings.onoffStatus(jQuery("#hover_allow")),RevSliderSettings.onoffStatus(jQuery("#toggle_allow")),RevSliderSettings.onoffStatus(jQuery("#toggle_use_hover")),RevSliderSettings.onoffStatus(jQuery("#toggle_inverse_content")),jQuery("#layer_caption").catcomplete("close"),jQuery(".wp-color-result").each(function(){jQuery(this).css("backgroundColor",jQuery(this).parent().find(".my-color-field").val())}),u.rebuildLayerIdleProgress(r)},t.setLayerSelected=function(o,e,r){if(t.selectedLayerSerial==o&&!e)return!1;jQuery("#timline-manual-dialog").appendTo(jQuery("#thelayer-editor-wrapper")).hide(),t.hideRowLayoutComposer(),u.resetIdleSelector(),jQuery(".quicksortlayer.selected").removeClass("selected"),jQuery("#layer_quicksort_"+o).addClass("selected"),r||jQuery(".timer-layer-text:focus").blur(),t.remove_layer_actions();var a=t.getLayer(o);"text"!==a.type&&"button"!==a.type||(void 0!==a.deformation&&void 0!==a.deformation["font-family"]?t.check_the_font_bold(a.deformation["font-family"]):t.check_the_font_bold("")),t.showHideContentEditor(!1),t.toolbarInPos(a),unselectHtmlLayers();var i=a.references.htmlLayer,s=jQuery("#layer-short-toolbar");if(jQuery("#the_current-editing-layer-title").val(a.alias).prop("disabled",!1).removeClass("nolayerselectednow"),s.data("serial",o),u.isLayerLocked(i)){var n=(l=s.find(".quick-layer-lock")).find("i");l.addClass("in-off").removeClass("in-on"),n.removeClass("eg-icon-lock-open").addClass("eg-icon-lock")}else{n=(l=s.find(".quick-layer-lock")).find("i");l.addClass("in-on").removeClass("in-off"),n.removeClass("eg-icon-lock").addClass("eg-icon-lock-open")}if(u.isLayerVisible(i)){n=(l=s.find(".quick-layer-view")).find("i");l.addClass("in-on").removeClass("in-off"),n.removeClass("eg-icon-eye-off").addClass("eg-icon-eye")}else{var l;n=(l=s.find(".quick-layer-view")).find("i");l.addClass("in-off").removeClass("in-on"),n.removeClass("eg-icon-eye").addClass("eg-icon-eye-off")}"block"===t.getVal(a,"display")?jQuery("#layer-displaymode-wrapper").removeClass("notselected"):jQuery("#layer-displaymode-wrapper").addClass("notselected"),i.addClass("layer_selected"),i.closest(".slide_layer_type_row").addClass("layerchild_selected"),i.closest(".row-zone-container").addClass("layerrow_selected"),i.closest(".slide_layer_type_column").addClass("layerchild_selected"),u.setSortboxItemSelected(o),t.selectedLayerSerial=o,t.updateLayerFormFields(o),enableFormFields(),jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.function_position;"setLayerSelected"===a&&"start"==i&&r(o)}),jQuery("#layer_text_wrapper").removeClass("currently_editing_txt"),jQuery(".rs-lazy-load-images-wrap").hide(),t.resetLayerSelected(a),checkMaskingAvailabity(),u.rebuildLayerIdle(i),reAlignAndrePosition(),jQuery(".form_layers").removeClass("notselected"),t.set_cover_mode(),UniteCssEditorRev.updateCaptionsInput(initArrCaptionClasses),t.updateReverseList(),jQuery("#parallax_level").change(),jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.envifunction_position;"setLayerSelected"===a&&"end"==i&&r(o)})};var getRotationDegrees=function(e){var t=e.css("-webkit-transform")||e.css("-moz-transform")||e.css("-ms-transform")||e.css("-o-transform")||e.css("transform");if("none"!==t)var r=t.split("(")[1].split(")")[0].split(","),a=r[0],i=r[1],o=Math.round(Math.atan2(i,a)*(180/Math.PI));else o=0;return o<0?o+=360:o},isLayerSelected=function(e){return e==t.selectedLayerSerial},reAlignAndrePosition=function(){},getNextTime=function(){var e,r=0;for(key in t.arrLayers)if(t.arrLayers.hasOwnProperty(key)){var a=t.arrLayers[key];layerTime=a.time?Number(a.time):0,layerTime>r&&(r=layerTime)}return e=0==r?g_startTime:Number(r)+Number(g_stepTime),g_slideTime<=e&&(e=g_slideTime/2),e};t.updateHtmlLayerPosition=function(e,r,a,i,o,s){if(void 0!==r&&!1!==r){var n=r.references.htmlLayer.outerWidth(),l=r.references.htmlLayer.outerHeight();totalWidth=container.width(),totalHeight=container.height();var d=totalWidth,y=totalHeight;-1!==r.p_uid&&"group"===t.getObjLayerType(r.p_uid)&&(d=t.getLayerByUniqueId(r.p_uid).references.htmlLayer.width(),y=t.getLayerByUniqueId(r.p_uid).references.htmlLayer.height()),1==e&&"image"==r.type&&(-1!=t.getVal(r,"width")&&(n=t.getVal(r,"width")),-1!=t.getVal(r,"height")&&(l=t.getVal(r,"height")));var u={};switch(r.type){case"row":case"column":a=i=0}var c=-1!==r.p_uid&&"column"===t.getObjLayerType(r.p_uid);switch(u.position=c||"row"===r.type?"relative":"absolute",o){default:case"left":u.right="auto",u.left=c?"auto":i+"px";break;case"right":u.left="auto",u.right=c?"auto":i+"px";break;case"center":var _=(d-n)/2;_=Math.round(_)+i,u.left=c?"auto":_+"px",u.right="auto"}switch(s){default:case"top":u.bottom="auto",u.top=c?"auto":a+"px";break;case"middle":var m=(y-l)/2;m="row"===r.type?0:Math.round(m)+a,u.top=c?"auto":m+"px",u.bottom="auto";break;case"bottom":u.top="auto",u.bottom=c?"auto":a+"px"}punchgs.TweenLite.set(r.references.htmlLayer,u),"group"===r.type&&jQuery.each(t.getLayersInGroup(r.unique_id).layers,function(e,r){t.updateHtmlLayerPosition(!1,r,t.getVal(r,"top"),t.getVal(r,"left"),t.getVal(r,"align_hor"),t.getVal(r,"align_vert"))})}};var onLayerDragStart=function(){t.justDropped=!1,t.showHideContentEditor(!1),jQuery("#divLayers").addClass("onelayerinmove");var e=t.getSerialFromID(this.id),r=jQuery(this),a=t.getLayer(e);-1==jQuery.inArray(a.unique_id,t.selectedLayers)&&u.checkMultipleSelectedItems(!0),r.closest(".slide_layer_type_group").addClass("dragfromgroup"),r.data("originalPosition",r.position()),r.addClass("draggable_toponall"),selectedLayerWidth=r.outerWidth(),selectedlayerHeight=r.outerHeight(),totalWidth=container.width(),totalHeight=container.height(),r.closest(".slide_layer_type_column").addClass("column_from_draggable"),r.closest(".slide_layer_type_row").css({zIndex:190}),jQuery("#layer_text_wrapper").removeClass("currently_editing_txt"),t.setLayerSelected(e),t.groupMove.x=0,t.groupMove.y=0,t.groupMove.sameGroup=t.getSameLinkedElements(a)};t.getSameLinkedElements=function(e){var r=[];for(var a in t.selectedLayers)if(t.selectedLayers.hasOwnProperty(a)){var i=t.getLayerByUniqueId(t.selectedLayers[a]);i.unique_id!==e.unique_id&&i.p_uid===e.p_uid&&(i.positionCache=i.references.htmlLayer.position(),r.push(i))}return r},t.getCurLinkedElements=function(){var e=[];for(var r in t.selectedLayers)if(t.selectedLayers.hasOwnProperty(r)){var a=t.getLayerByUniqueId(t.selectedLayers[r]);e.push(a)}if(0===e.length){a=t.getLayer(t.selectedLayerSerial);e.push(a)}return e};var onLayerDragEnd=function(e,r){var a=t.getSerialFromID(this.id),i=jQuery(this);if(i.removeClass("draggable_toponall"),jQuery(".row-zone-container").removeClass("nowyouseeme"),jQuery(".row-zone-container").removeClass("layerrow_selected"),jQuery(".column_from_draggable").removeClass("column_from_draggable"),t.droppedContainerCheck(t.getLayer(a)),t.groupMove&&t.groupMove.sameGroup&&0<t.groupMove.sameGroup.length)for(var o=0;o<t.groupMove.sameGroup.length;o++){var s=t.groupMove.sameGroup[o];selectedLayerWidth=s.references.htmlLayer.outerWidth(),selectedlayerHeight=s.references.htmlLayer.outerHeight(),t.onLayerDrag("ende",s.serial,s.references.htmlLayer)}selectedLayerWidth=i.outerWidth(),selectedlayerHeight=i.outerHeight(),t.onLayerDrag("ende",a,i),jQuery(".layer_selected").each(function(){var e=jQuery(this);e.data("serial")!=a&&void 0!==a&&e.removeClass("layer_selected")}),t.setLayerSelected(a),jQuery("#divLayers").removeClass("onelayerinmove"),jQuery(".dragfromgroup").removeClass("dragfromgroup")};t.updateMovedLayers=function(e){jQuery.each(t.keyboardmovedlayers,function(e,r){void 0!==r.references&&(selectedLayerWidth=r.references.htmlLayer.outerWidth(),selectedlayerHeight=r.references.htmlLayer.outerHeight(),t.onLayerDrag("ende",r.serial,r.references.htmlLayer,!0))})},t.adjustSelectedLayerPositions=function(r,a){t.keyboardmovedlayers=t.getCurLinkedElements(),jQuery.each(t.keyboardmovedlayers,function(e,t){void 0!==t.references&&("top"==r?punchgs.TweenLite.set(t.references.htmlLayer,{top:Math.round(t.references.htmlLayer.position().top)+a}):punchgs.TweenLite.set(t.references.htmlLayer,{left:Math.round(t.references.htmlLayer.position().left)+a}))})},t.onLayerDrag=function(e,r,a,i){var o=(a=a||jQuery(this)).position(),s=Math.round(o.top),n=Math.round(o.left),l=0,d=0,y=void 0===r.originapPosition?t.getLayer(r):t.getLayer(t.selectedLayerSerial),u=totalWidth,c=totalHeight;jQuery("#layer_text_wrapper").removeClass("currently_editing_txt"),t.toolbarInPos(y);var _=y.p_uid;if("divLayers"===a.parent().attr("id")&&(y.p_uid=-1),-1!==_&&-1!==y.p_uid||_!=y.p_uid&&("row"===y.type||-1!==y.p_uid&&"column"===t.getObjLayerType(y.p_uid)?punchgs.TweenLite.set(a,{left:"auto",right:"auto",top:"auto",bottom:"auto",display:"inline-block",position:"relative"}):punchgs.TweenLite.set(a,{display:"block",position:"absolute"})),-1!==y.p_uid&&"group"===t.getObjLayerType(y.p_uid)&&(u=t.getLayerByUniqueId(y.p_uid).references.htmlLayer.width(),c=t.getLayerByUniqueId(y.p_uid).references.htmlLayer.height()),void 0!==e.offsetX&&void 0!==r.originalPosition&&0<t.groupMove.sameGroup.length)for(var m=r.originalPosition.left-r.position.left,p=r.originalPosition.top-r.position.top,v=0;v<t.groupMove.sameGroup.length;v++){var g=t.groupMove.sameGroup[v];punchgs.TweenLite.set(g.references.htmlLayer,{left:g.positionCache.left-m,top:g.positionCache.top-p})}switch(t.getVal(y,"align_hor")){case"left":d=n;break;case"right":d=u-n-selectedLayerWidth;break;case"center":d=n-Math.round((u-selectedLayerWidth)/2),d=Math.round(d);break;case"left":default:d=n}switch(t.getVal(y,"align_vert")){case"bottom":l=c-s-selectedlayerHeight;break;case"middle":l=s-Math.round((c-selectedlayerHeight)/2),l=Math.round(l);break;case"top":default:l=s}if(-1!==y.p_uid&&"column"===t.getObjLayerType(y.p_uid)&&(l=d=0),jQuery("#layer_left").val(d+"px"),jQuery("#layer_top").val(l+"px"),"ende"===e){var h={};h=t.setVal(h,"left",d),h=t.setVal(h,"top",l),h=t.setVal(h,"width",selectedLayerWidth),h=t.setVal(h,"height",selectedlayerHeight),t.updateLayer(r,h),t.updateHtmlLayerPosition(!1,y,t.getVal(h,"top"),t.getVal(h,"left"),t.getVal(y,"align_hor"),t.getVal(y,"align_vert")),isLayerSelected(r)&&t.updateLayerFormFields(r)}},t.getObjLayerType=function(e){var r=t.getLayerByUniqueId(e);return!!r.type&&r.type};var scaleAndResetLayerInit=function(){jQuery("#layer_scaleX").change(function(){jQuery("#layer_proportional_scale")[0].checked?scaleProportional(!0):scaleNormal()}),jQuery("#layer_scaleY").change(function(){jQuery("#layer_proportional_scale")[0].checked?scaleProportional(!1):scaleNormal()}),jQuery("#layer_video_width").change(function(){jQuery("#layer_proportional_scale")[0].checked?scaleProportionalVideo(!0):scaleNormalVideo()}),jQuery("#layer_video_height").change(function(){jQuery("#layer_proportional_scale")[0].checked?scaleProportionalVideo(!1):scaleNormalVideo()}),jQuery("#layer_proportional_scale").click(function(){var e=t.getLayer(t.selectedLayerSerial);this.checked?(jQuery('#layer_cover_mode option[value="custom"]').attr("selected",!0),jQuery(".rs-proportion-check").removeClass("notselected"),"video"===e.type||"audio"===e.type?scaleProportionalVideo(!1):"image"===e.type&&scaleProportional(!0)):(jQuery(".rs-proportion-check").addClass("notselected"),"video"===e.type||"audio"===e.type?scaleNormalVideo(!1):"image"===e.type&&scaleNormal()),t.setLayerResizable(e)}),jQuery("#layer_auto_line_break").click(function(){t.clickOnAutoLineBreak()}),jQuery("#layer_displaymode").click(function(){jQuery(this)[0].checked?jQuery("#layer_display option[value='block']").attr("selected","selected"):jQuery("#layer_display option[value='inline-block']").attr("selected","selected")}),jQuery("#layer_cover_mode").change(function(){t.set_cover_mode()}),jQuery("#reset-scale, #button_reset_size").click(resetCurrentElementSize)};t.clickOnAutoLineBreak=function(){var e=t.selectedLayerSerial,r=jQuery("#slide_layer_"+e);t.getLayer(t.selectedLayerSerial);if(jQuery("#layer_auto_line_break")[0].checked){jQuery(".rs-linebreak-check").removeClass("notselected"),jQuery("#layer_whitespace option[value='normal']").attr("selected","selected");var a=r.outerWidth()+1,i=r.outerHeight()+1;r.css({height:"auto"}),r.find(".innerslide_layer.tp-caption").first().css({maxHeight:"none",minHeight:i,maxWidth:a}),jQuery("#layer_max_width").val(a+"px"),jQuery("#layer_max_height").val("auto")}else jQuery(".rs-linebreak-check").addClass("notselected"),jQuery("#layer_whitespace option[value='nowrap']").attr("selected","selected"),jQuery("#layer_max_width").val("auto"),jQuery("#layer_max_height").val("auto"),r.css({width:"auto"}),r.find(".innerslide_layer.tp-caption").first().css({maxHeight:"none",minHeight:"none",maxWidth:"none"});t.updateLayerFromFields()};var resetCurrentElementSize=function(){var e=t.getLayer(t.selectedLayerSerial);if("shape"==e.type)return!1;if("svg"==e.type)return!1;if("audio"==e.type)return!1;if("text"==e.type||"button"==e.type){var r=jQuery(".slide_layer.layer_selected .innerslide_layer").first().outerWidth();parseInt(jQuery("#layer_max_width").val(),0)>r&&(r=void 0===r?"auto":r+"px",jQuery("#layer_max_width").val("auto")),jQuery("#layer_max_height").val("auto")}else{"image"==e.type&&jQuery('#layer_cover_mode option[value="custom"]').attr("selected",!0);var a=resetImageDimensions();jQuery("#layer_proportional_scale").attr("checked",!0),jQuery("#layer_scaleX_text").html(jQuery("#layer_scaleX_text").data("textnormal")).css("width","10px");var i=null!=e.image_librarysize?e.image_librarysize.width:a.width,o=null!=e.image_librarysize?e.image_librarysize.height:a.height;jQuery("#layer_scaleX").val(i),jQuery("#layer_scaleY").val(o),jQuery("#slide_layer_"+t.selectedLayerSerial+" img").css("width",i),jQuery("#slide_layer_"+t.selectedLayerSerial+" img").css("height",o)}t.updateLayerFromFields()},scaleProportional=function(e){var r=t.selectedLayerSerial;resetImageDimensions();var a,i,o,s,n,l=new Image;l.src=jQuery("#slide_layer_"+r+" img").attr("src"),e?(n=jQuery("#layer_scaleX").val(),a=parseFloat(n),o=n.replace(a,""),isNaN(a)&&(a="%"===o?100:l.width),i="%"===o?"auto":Math.round(100/l.width*a/100*l.height,0),s=""):(n=jQuery("#layer_scaleY").val(),i=parseFloat(n),s=n.replace(i,""),isNaN(i)&&(i="%"===s?100:l.height),a="%"===s?"auto":Math.round(100/l.height*i/100*l.width,0),o=""),jQuery("#slide_layer_"+r+" img").css("width",a+o),jQuery("#slide_layer_"+r+" img").css("height",i+s),jQuery("#slide_layer_"+r).css("width",jQuery("#slide_layer_"+r+" img").width()+o),jQuery("#slide_layer_"+r).css("height",jQuery("#slide_layer_"+r+" img").height()+s),jQuery("#slide_layer_"+r+" img").css("width","100%"),jQuery("#slide_layer_"+r+" img").css("height","100%"),jQuery("#layer_scaleX").val(a+o),jQuery("#layer_scaleY").val(i+s)},scaleNormal=function(){var e=t.selectedLayerSerial,r=(resetImageDimensions(),jQuery("#slide_layer_"+e)),a=jQuery("#layer_scaleX").val(),i=jQuery("#layer_scaleY").val();a=jQuery.isNumeric(a)?a+"px":a,i=jQuery.isNumeric(i)?i+"px":i,punchgs.TweenLite.set(r,{width:a,height:i}),punchgs.TweenLite.set(r.find(".innerslide_layer").first(),{width:a,height:i}),punchgs.TweenLite.set(r.find("img"),{width:a,height:i})},scaleProportionalVideo=function(e){var r=t.selectedLayerSerial,a=jQuery("#slide_layer_"+r).find(".slide_layer_video");if(e){var i=parseInt(jQuery("#layer_video_width").val());isNaN(i)&&(i=a.width());var o=Math.round(100/a.width()*i/100*a.height(),0)}else{o=parseInt(jQuery("#layer_video_height").val());isNaN(o)&&(o=a.height());i=Math.round(100/a.height()*o/100*a.width(),0)}a.css("width",i+"px"),a.css("height",o+"px"),jQuery("#slide_layer_"+r).css("width",i+"px"),jQuery("#slide_layer_"+r).css("height",o+"px"),jQuery("#layer_video_width").val(i),jQuery("#layer_video_height").val(o)},scaleNormalVideo=function(){var e=t.selectedLayerSerial,r=jQuery("#slide_layer_"+e).find(".slide_layer_video"),a=jQuery("#layer_video_width").val(),i=jQuery("#layer_video_height").val();a=jQuery.isNumeric(a)?a+"px":a,i=jQuery.isNumeric(i)?i+"px":i,r.css("width",a),r.css("height",i),jQuery("#slide_layer_"+e).css("width",a),jQuery("#slide_layer_"+e).css("height",i)},resetImageDimensions=function(){var e=new Image;return e.src=jQuery("#slide_layer_"+t.selectedLayerSerial+" img").attr("src"),jQuery("#slide_layer_"+t.selectedLayerSerial).css("width",e.width+"px"),jQuery("#slide_layer_"+t.selectedLayerSerial).css("height",e.height+"px"),{width:e.width,height:e.height}};t.getLayerGeneralParamsStatus=function(){return layerGeneralParamsStatus},t.startKenBurn=function(e){var t=jQuery("#ken_burn_example"),r=t.data(),a=(t.find(".defaultimg"),r.lastsrc),i=(r.owidth,r.oheight,t.width()),o=t.height();if(t.data("kbtl")&&t.data("kbtl").kill(),e=e||0,void 0!==a){t.find(".tp-kbimg").remove(),0==t.find(".tp-kbimg").length&&(t.append('<div class="tp-kbimg-wrap" style="z-index:2;width:100%;height:100%;top:0px;left:0px;position:absolute;"><img class="tp-kbimg" src="'+a+'" style="position:absolute;" width="'+r.owidth+'" height="'+r.oheight+'"></div>'),t.data("kenburn",t.find(".tp-kbimg")));function m(e,t,r,a,i,o,s){var n=e*r,l=t*r,d=Math.abs(a-n),y=Math.abs(i-l),u=new Object;return u.l=(0-o)*d,u.r=u.l+n,u.t=(0-s)*y,u.b=u.t+l,u.h=o,u.v=s,u}null!=t.data("kbtl")&&(t.data("kbtl").kill(),t.removeData("kbtl"));var s=t.data("kenburn"),n=s.parent(),l=function(e,t,r){var a=r.scalestart/100,i=r.scaleend/100,o=null!=r.offsetstart&&r.offsetstart.split(" ")||[0,0],s=null!=r.offsetend&&r.offsetend.split(" ")||[0,0];r.bgposition="center center"==r.bgposition?"50% 50%":r.bgposition;var n=new Object;r.owidth,r.oheight,r.owidth,r.oheight;if(n.start=new Object,n.starto=new Object,n.end=new Object,n.endo=new Object,n.start.width=e,n.start.height=n.start.width/r.owidth*r.oheight,n.start.height<t){var l=t/n.start.height;n.start.height=t,n.start.width=n.start.width*l}n.start.transformOrigin=r.bgposition,n.start.scale=a,n.end.scale=i,n.start.rotation=r.rotatestart+"deg",n.end.rotation=r.rotateend+"deg";var d=function(e,t,r,a,i){var o=e.bgposition.split(" ")||"center center",s="center"==o[0]?"50%":"left"==o[0]||"left"==o[1]?"0%":"right"==o[0]||"right"==o[1]?"100%":o[0],n="center"==o[1]?"50%":"top"==o[0]||"top"==o[1]?"0%":"bottom"==o[0]||"bottom"==o[1]?"100%":o[1];s=parseInt(s,0)/100||0,n=parseInt(n,0)/100||0;var l=new Object;return l.start=m(i.start.width,i.start.height,i.start.scale,t,r,s,n),l.end=m(i.start.width,i.start.height,i.end.scale,t,r,s,n),l}(r,e,t,0,n);o[0]=parseFloat(o[0])+d.start.l,s[0]=parseFloat(s[0])+d.end.l,o[1]=parseFloat(o[1])+d.start.t,s[1]=parseFloat(s[1])+d.end.t;var y=d.start.r-d.start.l,u=d.start.b-d.start.t,c=d.end.r-d.end.l,_=d.end.b-d.end.t;return o[0]=0<o[0]?0:y+o[0]<e?e-y:o[0],s[0]=0<s[0]?0:c+s[0]<e?e-c:s[0],n.starto.x=o[0]+"px",n.endo.x=s[0]+"px",o[1]=0<o[1]?0:u+o[1]<t?t-u:o[1],s[1]=0<s[1]?0:_+s[1]<t?t-_:s[1],n.starto.y=o[1]+"px",n.endo.y=s[1]+"px",n.end.ease=n.endo.ease=r.ease,n.end.force3D=n.endo.force3D=!0,n}(i,o,r),d=new punchgs.TimelineLite;d.pause(),l.start.transformOrigin="0% 0%",l.starto.transformOrigin="0% 0%",d.add(punchgs.TweenLite.fromTo(s,r.duration/1e3,l.start,l.end),0),d.add(punchgs.TweenLite.fromTo(n,r.duration/1e3,l.starto,l.endo),0),d.progress(e),jQuery("#kenburn-playpause-wrapper").hasClass("playing")?d.play(0):d.pause(),d.eventCallback("onComplete",function(){d.play(0)}),t.data("kbtl",d)}},t.updateKenBurnExampleValues=function(){var e=new Image,r=jQuery("#ken_burn_slot_example").data("src"),a=jQuery("#ken_burn_example").data("lastsrc");jQuery("#ken_burn_slot_example").data("inload")||(r!==a?(jQuery("#ken_burn_slot_example").data("inload",!0),e.onload=function(){jQuery("#ken_burn_example").data({lastsrc:this.src,owidth:this.width,oheight:this.height,bgposition:jQuery("#slide_bg_position").val(),duration:parseInt(jQuery("#kb_duration").val(),0),rotatestart:parseInt(jQuery("#kb_start_rotate").val(),0),rotateend:parseInt(jQuery("#kb_end_rotate").val(),0),scalestart:parseInt(jQuery("#kb_start_fit").val(),0),scaleend:parseInt(jQuery("#kb_end_fit").val(),0),offsetstart:jQuery("#kb_start_offset_x").val()+" "+jQuery("#kb_start_offset_y").val(),offsetend:jQuery("#kb_end_offset_x").val()+" "+jQuery("#kb_end_offset_y").val(),ease:jQuery("#kb_easing").val()}),jQuery("#ken_burn_slot_example").data("inload",!1),t.startKenBurn()},e.onerror=function(){console.log("Ken Burn Demo Image could not be Loaded")},e.onabort=function(){console.log("Ken Burn Demo Image could not be Loaded")},e.src=r):(jQuery("#ken_burn_example").data({lastsrc:jQuery("#ken_burn_slot_example").data("src"),owidth:jQuery("#ken_burn_example").data("owdith"),oheight:jQuery("#ken_burn_example").data("oheight"),bgposition:jQuery("#slide_bg_position").val(),duration:parseInt(jQuery("#kb_duration").val(),0),rotatestart:parseInt(jQuery("#kb_start_rotate").val(),0),rotateend:parseInt(jQuery("#kb_end_rotate").val(),0),scalestart:parseInt(jQuery("#kb_start_fit").val(),0),scaleend:parseInt(jQuery("#kb_end_fit").val(),0),offsetstart:jQuery("#kb_start_offset_x").val()+" "+jQuery("#kb_start_offset_y").val(),offsetend:jQuery("#kb_end_offset_x").val()+" "+jQuery("#kb_end_offset_y").val(),ease:jQuery("#kb_easing").val()}),t.startKenBurn()))};var buildKenBurnExample=function(){var e=jQuery("#ken_burn_example"),r=(jQuery("#ken_burn_slot_example"),jQuery("#divLayers")),a=e.width()/r.width()*r.height();e.css({height:a+"px"}),t.updateKenBurnExampleValues()},initBackgroundFunctions=function(){jQuery("body").on("change",'select[name="layer_target[]"]',function(){jQuery(this).data("selectoption",jQuery(this).find("option:selected").val());var e=t.getAnimTimingAndTrigger(jQuery(this).find("option:selected").val());jQuery(this).closest("li").find('select[name="do-layer-animation-overwrite[]"] option[value="'+e.animation_overwrite+'"]').attr("selected",!0),jQuery(this).closest("li").find('select[name="do-layer-trigger-memory[]"] option[value="'+e.trigger_memory+'"]').attr("selected",!0)}),jQuery("body").on("change",'select[name="jump_to_slide[]"]',function(){jQuery(this).data("selectoption",jQuery(this).find("option:selected").val())}),jQuery("body").on("change",'select[name="do-layer-animation-overwrite[]"]',function(){var e=jQuery(this).closest("li").find('select[name="layer_target[]"] option:selected').val(),r=jQuery(this).val(),a=t.getLayerIdByUniqueId(e),i={};i.animation_overwrite=r,update_layer_changes=!1,t.updateLayer(a,i),update_layer_changes=!0,t.getLayer(t.selectedLayerSerial).unique_id==e&&jQuery('#layer-animation-overwrite option[value="'+r+'"]').attr("selected",!0),jQuery('select[name="layer_target[]"] option:selected').each(function(){jQuery(this).val()==e&&jQuery(this).closest("li").find('select[name="do-layer-animation-overwrite[]"] option[value="'+r+'"]').attr("selected",!0)})}),jQuery("body").on("change",'select[name="do-layer-trigger-memory[]"]',function(){var e=jQuery(this).closest("li").find('select[name="layer_target[]"] option:selected').val(),r=jQuery(this).val(),a=t.getLayerIdByUniqueId(e),i={};i.trigger_memory=r,update_layer_changes=!1,t.updateLayer(a,i),update_layer_changes=!0,t.getLayer(t.selectedLayerSerial).unique_id==e&&jQuery('#layer-tigger-memory option[value="'+r+'"]').attr("selected",!0),jQuery('select[name="layer_target[]"] option:selected').each(function(){jQuery(this).val()==e&&jQuery(this).closest("li").find('select[name="do-layer-trigger-memory[]"] option[value="'+r+'"]').attr("selected",!0)})}),jQuery("#slide_bg_fit").change(function(){"percentage"==jQuery(this).val()?(jQuery('input[name="bg_fit_x"]').show(),jQuery('input[name="bg_fit_y"]').show(),jQuery("#divbgholder").css("background-size",jQuery('input[name="bg_fit_x"]').val()+"% "+jQuery('input[name="bg_fit_y"]').val()+"%")):(jQuery('input[name="bg_fit_x"]').hide(),jQuery('input[name="bg_fit_y"]').hide(),jQuery("#divbgholder").css("background-size",jQuery(this).val())),"contain"==jQuery(this).val()?jQuery("#divLayers-wrapper").css("maxWidth",jQuery("#divbgholder").css("minWidth")):jQuery("#divLayers-wrapper").css("maxWidth","100%")}),jQuery("#slide_bg_fit").change(),jQuery('input[name="bg_fit_x"]').change(function(){jQuery("#divbgholder").css("background-size",jQuery('input[name="bg_fit_x"]').val()+"% "+jQuery('input[name="bg_fit_y"]').val()+"%")}),jQuery('input[name="bg_fit_y"]').change(function(){jQuery("#divbgholder").css("background-size",jQuery('input[name="bg_fit_x"]').val()+"% "+jQuery('input[name="bg_fit_y"]').val()+"%")}),jQuery("#slide_bg_position").change(function(){"percentage"==jQuery(this).val()?(jQuery('input[name="bg_position_x"]').show(),jQuery('input[name="bg_position_y"]').show(),jQuery("#divbgholder").css("background-position",jQuery('input[name="bg_fit_x"]').val()+"% "+jQuery('input[name="bg_fit_y"]').val()+"%")):(jQuery('input[name="bg_position_x"]').hide(),jQuery('input[name="bg_position_y"]').hide(),jQuery("#divbgholder").css("background-position",jQuery(this).val()))}),jQuery('input[name="bg_position_x"]').change(function(){jQuery("#divbgholder").css("background-position",jQuery('input[name="bg_position_x"]').val()+"% "+jQuery('input[name="bg_position_y"]').val()+"%")}),jQuery('input[name="bg_position_y"]').change(function(){jQuery("#divbgholder").css("background-position",jQuery('input[name="bg_position_x"]').val()+"% "+jQuery('input[name="bg_position_y"]').val()+"%")}),jQuery("#slide_bg_repeat").change(function(){jQuery("#divbgholder").css("background-repeat",jQuery(this).val())}),jQuery('input[name="kenburn_effect"]').change(function(){jQuery(this)[0].checked?(jQuery("#kenburn_wrapper").show(),jQuery("#divbgholder").css("background-repeat",""),jQuery("#divbgholder").css("background-position",""),jQuery("#divbgholder").css("background-size",""),jQuery('input[name="kb_start_fit"]').change(),jQuery("#divLayers-wrapper").css("maxWidth","none"),jQuery("#slide_bg_position").change(),jQuery("#bg-setting-bgfit-wrap").css({display:"none"}),jQuery("#bg-setting-bgrep-wrap").css({display:"none"}),jQuery("#bg-setting-bgpos-wrap").prependTo("#kenburn_wrapper"),buildKenBurnExample()):(jQuery("#kenburn_wrapper").hide(),jQuery("#slide_bg_repeat").change(),jQuery("#slide_bg_position").change(),jQuery("#slide_bg_fit").change(),jQuery("#bg-setting-bgfit-wrap").show(),jQuery("#bg-setting-bgrep-wrap").show(),jQuery("#bg-setting-bgpos-wrap").appendTo("#bg-setting-bgpos-def-wrap"),"contain"==jQuery("#slide_bg_fit").val()?jQuery("#divLayers-wrapper").css("maxWidth",jQuery("#divbgholder").css("minWidth")):jQuery("#divLayers-wrapper").css("maxWidth","100%")),t.changeSlotBGs()}),jQuery('input[name="kenburn_effect"]:checked').change(),jQuery("body").on("mouseenter",".inst-filter-griditem",function(){punchgs.TweenLite.to(jQuery(this).find(".inst-filter-griditem-img"),.5,{autoAlpha:0})}),jQuery("body").on("mouseleave",".inst-filter-griditem",function(){punchgs.TweenLite.to(jQuery(this).find(".inst-filter-griditem-img"),.5,{autoAlpha:1})}),jQuery("body").on("click",".inst-filter-griditem",function(){var e=jQuery(this);jQuery("#media-filter-type option:selected").prop("selected",!1),jQuery('#media-filter-type option[value="'+e.data("type")+'"]').attr("selected","selected"),jQuery(".inst-filter-griditem.selected").removeClass("selected"),e.addClass("selected"),jQuery(".oldslotholder").attr("class","oldslotholder "+e.data("type")),jQuery(".slotholder").attr("class","slotholder "+e.data("type"))});var e=jQuery("#media-filter-type option:selected").val();void 0!==e&&(jQuery(".inst-filter-griditem.selected").removeClass("selected"),jQuery(".inst-filter-griditem.filter_"+e).addClass("selected"),jQuery(".oldslotholder").attr("class","oldslotholder "+e),jQuery(".slotholder").attr("class","slotholder "+e)),jQuery("#slide_bg_end_position").change(function(){"percentage"==jQuery(this).val()?(jQuery('input[name="bg_end_position_x"]').show(),jQuery('input[name="bg_end_position_y"]').show()):(jQuery('input[name="bg_end_position_x"]').hide(),jQuery('input[name="bg_end_position_y"]').hide())}),jQuery('input[name="kb_start_fit"]').change(function(){var e=parseInt(jQuery(this).val()),r=new Image;r.onload=function(){i(e,r.width,r.height,jQuery("#divbgholder"))};var a="";jQuery("#radio_back_image")[0].checked?a=jQuery("#image_url").val():jQuery("#radio_back_external")[0].checked&&(a=jQuery("#slide_bg_external").val()),""!=a&&(r.src=a),t.changeSlotBGs()});var i=function(e,r,a,i){var o=r,s=a;i.width(),i.height();e+="%";jQuery("#divbgholder").css("background-size",e+" auto"),t.changeSlotBGs()};jQuery("#layer_resize-full").change(function(){jQuery(this)[0].checked||(jQuery("#layer_resizeme").prop("checked",!1),RevSliderSettings.onoffStatus(jQuery("#layer_resizeme")))}),jQuery("#layer_resizeme").change(function(){jQuery(this)[0].checked&&(jQuery("#layer_resize-full").prop("checked",!0),RevSliderSettings.onoffStatus(jQuery("#layer_resize-full")))}),jQuery(window).resize(function(){if("on"==jQuery('input[name="kenburn_effect"]:checked').val()){var e=parseInt(jQuery('input[name="kb_start_fit"]').val()),r=new Image;r.onload=function(){i(e,r.width,r.height,jQuery("#divbgholder"))};var a="";jQuery("#radio_back_image")[0].checked?a=jQuery("#image_url").val():jQuery("#radio_back_external")[0].checked&&(a=jQuery("#slide_bg_external").val()),""!=a&&(r.src=a)}t.setObjectLibraryHeight()})},initLoopFunctions=function(){jQuery('select[name="layer_loop_animation"]').change(function(){showHideLoopFunctions()}),jQuery("#layer_static_start").change(function(){changeEndStaticFunctions()})},showHideLoopFunctions=function(){jQuery('select[name="layer_loop_animation"]').each(function(){switch(jQuery("#layer_easing_wrapper").hide(),jQuery("#layer_speed_wrapper").hide(),jQuery("#layer_parameters_wrapper").hide(),jQuery("#layer_degree_wrapper").hide(),jQuery("#layer_origin_wrapper").hide(),jQuery("#layer_x_wrapper").hide(),jQuery("#layer_y_wrapper").hide(),jQuery("#layer_zoom_wrapper").hide(),jQuery("#layer_angle_wrapper").hide(),jQuery("#layer_radius_wrapper").hide(),jQuery(this).val()){case"none":break;case"rs-pendulum":case"rs-rotate":jQuery("#layer_easing_wrapper").show(),jQuery("#layer_speed_wrapper").show(),jQuery("#layer_parameters_wrapper").show(),jQuery("#layer_degree_wrapper").show(),jQuery("#layer_origin_wrapper").show();break;case"rs-slideloop":jQuery("#layer_easing_wrapper").show(),jQuery("#layer_speed_wrapper").show(),jQuery("#layer_parameters_wrapper").show(),jQuery("#layer_x_wrapper").show(),jQuery("#layer_y_wrapper").show();break;case"rs-pulse":jQuery("#layer_easing_wrapper").show(),jQuery("#layer_speed_wrapper").show(),jQuery("#layer_parameters_wrapper").show(),jQuery("#layer_zoom_wrapper").show();break;case"rs-wave":jQuery("#layer_speed_wrapper").show(),jQuery("#layer_parameters_wrapper").show(),jQuery("#layer_angle_wrapper").show(),jQuery("#layer_radius_wrapper").show(),jQuery("#layer_origin_wrapper").show()}})},changeEndStaticFunctions=function(){jQuery("#layer_static_start").each(function(){var e=parseInt(jQuery(this).val()),t=jQuery("#layer_static_end option:selected").val(),r=parseInt(jQuery("#layer_static_start option:last-child").val());jQuery("#layer_static_end").empty();for(var a=e+1;a<=r;a++)jQuery("#layer_static_end").append('<option value="'+a+'">'+a+"</option>");jQuery("#layer_static_end").append('<option value="last">'+rev_lang.last_slide+"</option>"),jQuery("#layer_static_end option[value='"+t+"']").attr("selected","selected")})};t.get_current_selected_layer=function(){return t.selectedLayerSerial},t.addPreventLeave=function(){window.onbeforeunload=function(e){if(save_needed){var t=rev_lang.leave_not_saved;return(e=e||window.event)&&(e.returnValue=t),t}}}};return jQuery(document).ready(function(){UniteLayersRev.setGlobalAction(wp.template("rs-action-layer-wrap")),UniteLayersRev.setGlobalSlideImport(wp.template("rs-import-layer-wrap"))}),window.UniteLayersRev=UniteLayersRev,UniteLayersRev});