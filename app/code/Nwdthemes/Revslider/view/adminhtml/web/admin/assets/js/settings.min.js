define("revSettings",["jquery","tipsy","themepunchTools"],function(l,e,c){var n=new function(){var t={},o=this;this.getSettingsObject=function(e){for(var t,n,o,i,c=new Object,s=document.getElementById(e),a=s.elements.length,r=0;r<a;r++){var d=s.elements[r];if("##NAME##[]"!=d.name&&!l(d).hasClass("rs-ingore-save")){switch(t=d.name,n=d.value,o=d.type,l(d).hasClass("wp-editor-area")&&(o="editor"),i=!0,o){case"checkbox":if(void 0!==s.elements[r].getAttribute("data-useval")&&null!==s.elements[r].getAttribute("data-useval")){if(!s.elements[r].checked)continue;n=s.elements[r].value}else n=void 0!==s.elements[r].getAttribute("data-unchecked")&&null!==s.elements[r].getAttribute("data-unchecked")?s.elements[r].checked?n:s.elements[r].getAttribute("data-unchecked"):s.elements[r].checked;break;case"radio":0==s.elements[r].checked&&(i=!1);break;case"editor":"undefined"!=typeof tiynMCE&&null!=tinyMCE.get(t)&&(n=tinyMCE.get(t).getContent());break;case"select-multiple":(n=l(d).val())&&(n=n.toString())}1==i&&null!=t&&(-1<t.indexOf("[]")?("object"!=typeof c[t=t.replace("[]","")]&&(c[t]=[]),c[t][Object.keys(c[t]).length]=n):c[t]=n)}}return c};o.initAccordion=function(t){var n="box_closed";l("#"+t+" .unite-postbox h3").click(function(){var e=l(this);e.hasClass(n)?(function(e){l("#"+e+" .unite-postbox .inside").slideUp("fast"),l("#"+e+" .unite-postbox h3").addClass("box_closed")}(t),e.removeClass(n).siblings(".inside").slideDown("fast")):e.addClass(n).siblings(".inside").slideUp("fast")})};function e(){l(".list_settings li .setting_text").tipsy({gravity:"e",delayIn:70}),l(".tipsy_enabled_top").tipsy({gravity:"s",delayIn:70}),l(".tipsy_enabled_top_left").tipsy({gravity:"se",delayIn:70}),l(".button-primary").tipsy({gravity:"s",delayIn:70}),l('input[type="checkbox"]').change(function(){n.onoffStatus(l(this))}),function(){if("undefined"!=typeof g_settingsObj)for(key in g_settingsObj)if(g_settingsObj.hasOwnProperty(key)){var e=g_settingsObj[key];for(controlKey in e.controls)e.controls.hasOwnProperty(controlKey)&&(t[controlKey]=e.controls[controlKey])}}(),l(".button-image-select").click(function(){var c=this.id.replace("_button","");require(["admin"],function(i){i.openAddImageDialog("Choose Image",function(e,t){l("#"+c).val(e);var n=i.getUrlShowImage(t,100,70,!0);if(l("#"+c+"_button_preview").html("<div style=\"width:100px;height:70px;background:url('"+n+"'); background-position:center center; background-size:cover;\"></div>"),l(".show_on_thumbnail_exist").show(),"checked"==l("#thumb_for_admin").prop("checked")){var o=l("#slide_thumb_button_preview div").css("background-image");l("#slide_selector .list_slide_links li.selected .slide-media-container").css({"background-image":o,backgroundSize:"cover",backgroundPosition:"center center"})}})})}),l(".button-image-remove").click(function(){var e=this.id.replace("_button_remove","");l("#"+e).val(""),l("#"+e+"_button_preview").html(""),l(".show_on_thumbnail_exist").hide()}),l(".button-image-select-video").click(function(){require(["admin"],function(o){o.openAddImageDialog("Choose Image",function(e,t){l("#input_video_preview").val(e);var n=o.getUrlShowImage(t,200,150,!0);l("#video-thumbnail-preview").css({backgroundImage:"url("+n+")"})})})}),l(".button-image-remove-video").click(function(){l("#input_video_preview").val(""),"none"!=l("#video_block_vimeo").css("display")&&l("#button_vimeo_search").trigger("click"),"none"!=l("#video_block_youtube").css("display")&&l("#button_youtube_search").trigger("click")}),l(".button-image-select-html5-video").click(function(){l(".ui-dialog.ui-widget,.ui-widget-overlay").hide(),require(["admin"],function(e){e.openAddImageDialog("Choose Image",function(e,t){l(".ui-dialog.ui-widget,.ui-widget-overlay").show(),l("#html5_url_poster").val(e)})})}),l("body").on("click",".rs-close-preview",function(){var e=l("#rs-preview-form");e.action=g_urlAjaxActions,l("#preview-slide-data").val("empty_output"),l("#preview_sliderid").val("empty_output"),l("#rs-preview-wrapper").hide(),e.submit()}),l(document).keyup(function(e){27==e.keyCode&&l(".rs-close-preview").click()}),l(window).resize(function(){l(".rs-preview-width").text(l(".rs-frame-preview-wrapper").width()),l(".rs-preview-height").text(l(".rs-frame-preview-wrapper").height())})}o.createModernOnOff=function(){l(".tp-moderncheckbox").each(function(){var e=l(this);e.wrap('<div class="tp-onoffbutton"><span class="tp-onoff-onstate">On</span><span class="tp-onoff-offstate">Off</span></div>'),e.change(function(){var e=l(this);e.hasClass("changedbyclick")||o.onoffStatus(e)})}),l(".tp-modernonoffboxes").each(function(){var e=l(this);e.wrap('<div class="tp-onoffbutton tp-onoffbasedontwo"><span class="tp-onoff-onstate">On</span><span class="tp-onoff-offstate">Off</span></div>');var t=e.find('input[value="on"]'),n=e.find('input[value="off"]');t.change(function(){t.hasClass("changedbyclick")||o.onoffStatusBasedOnTwo(t,n)}),n.change(function(){t.hasClass("changedbyclick")||o.onoffStatusBasedOnTwo(t,n)}),o.onoffStatusBasedOnTwo(t,n)}),l(".tp-onoffbutton").each(function(){l(this).click(function(){var e=l(this);if(e.hasClass("tp-onoffbasedontwo")){var t=e.find('input[value="on"]'),n=e.find('input[value="off"]');t.addClass("changedbyclick"),setTimeout(function(){t.removeClass("changedbyclick")},200),void 0===t.prop("checked")||0==t.prop("checked")||""==t.prop("checked")?(t.attr("checked","checked"),n.attr("checked",!1)):(t.attr("checked",!1),n.attr("checked","checked")),t.trigger("change"),n.trigger("change"),o.onoffStatusBasedOnTwo(t,n)}else inp=e.find("input"),inp.addClass("changedbyclick"),setTimeout(function(){inp.removeClass("changedbyclick")},200),void 0===inp.prop("checked")||0==inp.prop("checked")||""==inp.prop("checked")?inp.attr("checked","checked"):inp.attr("checked",!1),inp.trigger("change"),o.onoffStatus(inp)})})},o.onoffStatus=function(e){var t=e.closest(".tp-onoffbutton"),n=t.find(".tp-onoff-onstate"),o=t.find(".tp-onoff-offstate");void 0===e.prop("checked")||0==e.prop("checked")||""==e.prop("checked")?(c.TweenLite.to(n,.2,{left:"50px"}),c.TweenLite.to(o,.2,{left:"0px"})):(c.TweenLite.to(n,.2,{left:"0px"}),c.TweenLite.to(o,.2,{left:"-50px"}))},o.onoffStatusBasedOnTwo=function(e,t){var n=e.closest(".tp-onoffbutton"),o=n.find(".tp-onoff-onstate"),i=n.find(".tp-onoff-offstate");void 0===e.prop("checked")||0==e.prop("checked")||""==e.prop("checked")?(c.TweenLite.to(o,.2,{left:"50px"}),c.TweenLite.to(i,.2,{left:"0px"})):(c.TweenLite.to(o,.2,{left:"0px"}),c.TweenLite.to(i,.2,{left:"-50px"}))},l(document).ready(function(){e()})};return n});