define("admin",["jquery","galleryBrowser","rev_lang","loading","themepunchTools","revSettings"],function(g,e,b,w,k,y){var x=new function(){var n=this,l=null,o=null,r=null,s=null,i=[],u=null,c=null,t=null,d=!1;n.showInfo=function(e){var o='<i class="eg-icon-info"></i>';"warning"==e.type&&(o='<i class="eg-icon-cancel"></i>'),"success"==e.type&&(o='<i class="eg-icon-ok"></i>'),e.showdelay=null!=e.showdelay?e.showdelay:0,e.hidedelay=null!=e.hidedelay?e.hidedelay:0,0==g("#eg-toolbox-wrapper").length&&g("#viewWrapper").append('<div id="eg-toolbox-wrapper"></div>'),g("#eg-toolbox-wrapper").append('<div class="eg-toolbox newadded">'+o+e.content+"</div>");var i=g("#eg-toolbox-wrapper").find(".eg-toolbox.newadded");i.removeClass("newadded"),k.TweenLite.fromTo(i,.5,{y:-50,autoAlpha:0,transformOrigin:"50% 50%",transformPerspective:900,rotationX:-90},{autoAlpha:1,y:0,rotationX:0,ease:k.Back.easeOut,delay:e.showdelay}),"event"!=e.hideon?(i.click(function(){k.TweenLite.to(i,.3,{x:200,ease:k.Power3.easeInOut,autoAlpha:0,onComplete:function(){i.remove()}})}),0!=e.hidedelay&&"click"!=e.hideon&&k.TweenLite.to(i,.3,{x:200,ease:k.Power3.easeInOut,autoAlpha:0,delay:e.hidedelay+e.showdelay,onComplete:function(){i.remove()}})):g("#eg-toolbox-wrapper").on(e.event,function(){k.TweenLite.to(i,.3,{x:200,ease:k.Power3.easeInOut,autoAlpha:0,onComplete:function(){i.remove()}})})},n.htmlspecialchars=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},n.getAbsolutePos=function(e){var o=curtop=0;if(e.offsetParent)for(o=e.offsetLeft,curtop=e.offsetTop;e=e.offsetParent;)o+=e.offsetLeft,curtop+=e.offsetTop;return[o,curtop]},n.stripslashes=function(e){return(e+"").replace(/\\(.?)/g,function(e,o){switch(o){case"\\":return"\\";case"0":return"\0";case"":return"";default:return o}})},n.strToBool=function(e){return null!=e&&("string"==typeof e&&"true"==(e=e.toLowerCase()))},n.setColorPickerCallback=function(e){t=e},n.onColorPickerMoveEvent=function(e){"function"==typeof t&&t(e)},n.stripTags=function(e,i){i=(((i||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,o){return-1<i.indexOf("<"+o.toLowerCase()+">")?e:""})},n.rgb2hex=function(e){if(-1==e.search("rgb")||""==g.trim(e))return e;function o(e){return("0"+parseInt(e).toString(16)).slice(-2)}-1<e.indexOf("-moz")&&(delete(a=e.split(" "))[0],e=g.trim(a.join(" ")));if(2<e.split(")").length){for(var i="",t=e.split(")"),d=0;d<t.length-1;d++){var a;t[d]+=")",4==(a=t[d].split(",")).length?(e=a[0]+","+a[1]+","+a[2],e+=")"):e=t[d],i+="#"+o((e=(e=g.trim(e)).match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/))[1])+o(e[2])+o(e[3])+" "}return i}return 4==(a=e.split(",")).length&&(e=a[0]+","+a[1]+","+a[2],e+=")"),"#"+o((e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/))[1])+o(e[2])+o(e[3])},n.getTransparencyFromRgba=function(e,o){var i=e.split(",");return 4==i.length&&((o=void 0===o||o)?i[3].replace(/[^\d.]/g,""):100*i[3].replace(/[^\d.]/g,""))},n.debug=function(e){g("#div_debug").show().html(e)},n.trace=function(e,o){o&&1==o&&console.clear(),console.log(e)},n.showErrorMessage=function(e){n.showInfo({content:e,type:"warning",showdelay:0,hidedelay:3,hideon:"",event:""}),v()};n.setErrorMessageID=function(e){l=e},n.setSuccessMessageID=function(e){o=e};this.hideSuccessMessage=function(){o?(g("#"+o).hide(),o=null):g("#success_message").slideUp("slow").fadeOut("slow"),v()},this.setAjaxLoaderID=function(e){r=e};function _(){r&&(g("#"+r).hide(),r=null)}this.setAjaxHideButtonID=function(e){s=e};var v=function(){if(s){var e=s.split(",");if(1<e.length)for(var o=0;o<e.length;o++)g("#"+e[o]).show();else g("#"+s).show();s=null}};n.ajaxRequest=function(o,e,i,t,d){var a={action:g_uniteDirPlugin+"_ajax_action",client_action:o,nonce:g_revNonce,form_key:window.FORM_KEY,data:e};null!==l?(g("#"+l).hide(),l=null):g("#error_message").hide(),r&&g("#"+r).show(),function(){if(s){var e=s.split(",");if(1<e.length)for(var o=0;o<e.length;o++)g("#"+e[o]).hide();else g("#"+s).hide()}}(),void 0===t&&w({fadeIn:300,text:b.please_wait_a_moment}),g.ajax({type:"post",url:ajaxurl,dataType:"json",data:a,success:function(e){if(void 0===t&&e&&!e.is_redirect&&w({fadeOut:300}),_(),!e)return n.showErrorMessage("Empty ajax response!"),!1;if(-1==e)return n.showErrorMessage("ajax error!!!"),!1;if(0==e)return n.showErrorMessage("ajax error, action: <b>"+o+"</b> not found"),!1;if(null==e.success)return n.showErrorMessage("The 'success' param is a must!"),!1;if(0==e.success){if(void 0===d)return n.showErrorMessage(e.message),!1;"function"==typeof i&&i(e)}else"function"==typeof i&&i(e),e.message&&function(e){n.showInfo({content:e,type:"success",showdelay:0,hidedelay:1,hideon:"",event:""}),v()}(e.message),e.is_redirect&&(location.href=e.redirect_url)},error:function(e,o,i){void 0===t&&w({fadeOut:300}),_(),"parsererror"==o&&n.debug(e.responseText),n.showErrorMessage("Ajax Error!!! "+o)}})};function a(e,o,i,t){MediabrowserUtility.openDialog(revMageImageUploadUrl.replace("file_type",t||"image"),!1,!1,e,{},o)}n.openAddImageDialog=function(e,o,i){e||(e=b.select_image),a(e,o)},n.openAddVideoDialog=function(e,o,i){e||(e=b.select_image),a(e,o,0,"video")},n.loadCssFile=function(e,o,i){var t=Math.floor(1e5*Math.random()+1);i||(e+="?rand="+t),o&&g("#"+o).remove(),g("head").append("<link>");var d=g("head").children(":last");d.attr({rel:"stylesheet",type:"text/css",href:e}),o&&d.attr({id:o})},n.getUrlShowImage=function(e,o,i,t){var d=g_urlAjaxShowImage.replace("-image-",e);return o&&(d=d.replace("-width-",o)),i&&(d=d.replace("-height-",i)),t&&1==t&&(d=d.replace("-type-","exact")),d};function p(e){if(!e)return g("#video_content").html(""),!1;var o=e.thumb_medium,i='<div class="video-thumbnail-all-wrapper">';i+='<div class="video-thumbnail-preview-wrapper"><div id="video-thumbnail-preview" style="background-size:cover; background-position:center center; background-image:url('+(""!=g.trim(g("#input_video_preview").val())?g("#input_video_preview").val():o.url)+"); width:"+o.width+"px; height:"+o.height+'px;display:inline-block;vertical-align:bottom"></div></div>',i+='<div class="video-content-description">',i+='<div class="video-content-title">'+e.title+"</div>",void 0!==e.desc_small&&(i+=e.desc_small),i+="</div>",i+="</div>",g("#video_content").html(i)}n.onYoutubeCallback=function(e){g("#youtube_loader").hide();var o={};if(o.id=g("#youtube_id").val(),o.id=g.trim(o.id),o.video_type="youtube",e[0].width<=129||e[0].height<=96){if(-1!=e[0].src.indexOf("/sddefault.jpg"))return e[0].src=e[0].src.replace("sddefault.jpg","hqdefault.jpg"),!1;o.title="YouTube: "+b.maybe_wrong_yt_id}else o.title="YouTube";o.author="YouTube",o.link="",o.description="",o.desc_small="",200<o.description.length&&(o.desc_small=o.description.slice(0,200)+"..."),o.thumb_small={url:e[0].src,width:200,height:150},o.thumb_medium={url:e[0].src,width:320,height:240},o.thumb_big={url:e[0].src,width:e[0].width,height:e[0].height},o.thumb_very_big={url:e[0].src.replace("sddefault.jpg","maxresdefault.jpg"),width:e[0].width,height:e[0].height},o.video_width=e[0].width,o.video_height=e[0].height,p(o);var i=g("#input_video_arguments");""==i.val()&&i.val(i.data("youtube")),u=o,g("#video_dialog_tabs").removeClass("disabled"),d=!0,g("#button-video-add").show()},n.initVideoDef=function(){g(".button-image-select-video-default").click(function(){if(void 0===u)return!1;switch(u.video_type){case"vimeo":g("#input_video_preview").val(u.thumb_medium.url),g("#video-thumbnail-preview").css({backgroundImage:"url("+u.thumb_medium.url+")"});break;case"youtube":g("#input_video_preview").val(u.thumb_big.url),g("#video-thumbnail-preview").css({backgroundImage:"url("+u.thumb_big.url+")"})}}),g(".button-image-select-video-max").click(function(){if(void 0===u)return!1;switch(u.video_type){case"vimeo":g("#input_video_preview").val(u.thumb_large.url),g("#video-thumbnail-preview").css({backgroundImage:"url("+u.thumb_large.url+")"});break;case"youtube":g("#input_video_preview").val(u.thumb_very_big.url),g("#video-thumbnail-preview").css({backgroundImage:"url("+u.thumb_very_big.url+")"})}})},n.onVimeoCallback=function(e){g("#vimeo_loader").hide();e=e[0];var o={video_type:"vimeo"};o.id=e.id,o.id=g.trim(o.id),o.title=e.title,o.link=e.url,o.author=e.user_name,o.description=e.description,200<o.description.length&&(o.desc_small=o.description.slice(0,200)+"..."),o.thumb_large={url:e.thumbnail_large,width:640,height:360},o.thumb_medium={url:e.thumbnail_medium,width:200,height:150},o.thumb_small={url:e.thumbnail_small,width:100,height:75},o.video_with=640,o.video_height=360,p(o);var i=g("#input_video_arguments");""==i.val()&&i.val(i.data("vimeo")),u=o,g("#video_dialog_tabs").removeClass("disabled"),d=!0,g("#button-video-add").show()},n.videoDialogOnError=function(){if(1==d)return g("#video_radio_audio").is(":checked")?g("#button-audio-add").show():g("#button-video-add").show(),d=!1;g("#button-video-add").hide(),g("#button-audio-add").hide(),g("#youtube_loader").hide(),g("#vimeo_loader").hide();var e="<div class='video-content-error'>"+b.video_not_found+"</div>";g("#video_content").html(e)};function h(){1==g("#input_video_fullwidth").is(":checked")?g("#video_full_screen_settings").show():(g("#input_video_cover").prop("checked",!1),g("#video_full_screen_settings").hide()),1==g("#input_video_cover").is(":checked")?g("#input_video_ratio_lbl, #input_video_ratio, #input_video_dotted_overlay_lbl, #input_video_dotted_overlay").show():g("#input_video_ratio_lbl, #input_video_ratio, #input_video_dotted_overlay_lbl, #input_video_dotted_overlay").hide(),y.onoffStatus(g("#input_video_fullwidth")),y.onoffStatus(g("#input_video_cover"))}n.openVideoDialog=function(e,o,i){c=e;var t=g("#dialog_video"),d={Close:function(){t.dialog("close")}};"audio"==i?function(e){if(g("#button-audio-add").text(g("#button-audio-add").data("textadd")),g("#video_radio_audio").attr("checked",!0),g("#video_type_chooser").hide(),g("#video_block_youtube").hide(),g("#video_block_vimeo").hide(),g("#video_block_html5").hide(),g("#video_block_audio").show(),g(".rs-hide-on-audio").hide(),g(".rs-show-on-audio").show(),!e)return g("#video_content").html("");var o=e.thumb_medium,i='<div class="video-thumbnail-all-wrapper">';i+='<div class="video-thumbnail-preview-wrapper"><div id="video-thumbnail-preview" style="background-size:cover; background-position:center center; background-image:url('+(""!=g.trim(g("#input_video_preview").val())?g("#input_video_preview").val():o.url)+"); width:"+o.width+"px; height:"+o.height+'px;display:inline-block;vertical-align:bottom"></div></div>',i+='<div class="video-content-description">',i+='<div class="video-content-title">'+e.title+"</div>",void 0!==e.desc_small&&(i+=e.desc_small),i+="</div>",i+="</div>",g("#video_content").html(i)}(!1):(p(!1),g("#video_block_youtube").show(),g("#video_block_audio").hide(),g("#video_radio_youtube").attr("checked",!0),g(".rs-hide-on-audio").show(),g(".rs-show-on-audio").hide(),g("#video_type_chooser").show(),g("#video_type_chooser input[type=radio]:checked").trigger("click")),g("#youtube_id,#vimeo_id").prop("disabled","").removeClass("input-disabled"),g("#html5_url_poster").val(""),g("#html5_url_mp4").val(""),g("#html5_url_webm").val(""),g("#html5_url_ogv").val(""),g("#html5_url_audio").val(""),g("#input_video_arguments").val(""),g("#select_video_autoplay option[value='false']").attr("selected",!0),g("#input_video_nextslide").prop("checked",""),g("#input_video_force_rewind").prop("checked",""),g("#input_video_fullwidth").prop("checked",""),g("#input_video_control").prop("checked",""),g("#input_video_mute").prop("checked",""),g("#input_disable_on_mobile").prop("checked",""),g("#input_video_show_cover_pause").prop("checked",""),g("#input_video_large_controls").prop("checked",!0),g("#input_video_leave_fs_on_pause").prop("checked",!0),g("#input_video_cover").prop("checked",""),g("#input_video_stopallvideo").prop("checked",""),g("#input_video_allowfullscreen").prop("checked",""),g("#input_video_dotted_overlay option[value='none']").attr("selected",!0),g("#input_video_ratio option[value='16:9']").attr("selected",!0),g('#input_video_preload option[value="auto"]').attr("selected",!0),g('#input_video_preload_wait option[value="5"]').attr("selected",!0),g('#input_video_speed option[value="1"]').attr("selected",!0),g('#input_video_loop option[value="none"]').attr("selected",!0),g("#input_video_preview").val(""),g("#input_use_poster_on_mobile").prop("checked",""),g("#input_video_show_visibility").prop("checked",""),g("#input_video_play_inline").prop("checked",""),g("#input_video_start_at").val(""),g("#input_video_end_at").val(""),g("#input_video_volume").val("100"),y.onoffStatus(g("#input_video_nextslide")),y.onoffStatus(g("#input_video_force_rewind")),y.onoffStatus(g("#input_video_fullwidth")),y.onoffStatus(g("#input_video_control")),y.onoffStatus(g("#input_video_mute")),y.onoffStatus(g("#input_disable_on_mobile")),y.onoffStatus(g("#input_video_cover")),y.onoffStatus(g("#input_video_stopallvideo")),y.onoffStatus(g("#input_video_allowfullscreen")),y.onoffStatus(g("#input_use_poster_on_mobile")),y.onoffStatus(g("#input_video_show_cover_pause")),y.onoffStatus(g("#input_video_large_controls")),y.onoffStatus(g("#input_video_leave_fs_on_pause")),y.onoffStatus(g("#input_video_show_visibility")),y.onoffStatus(g("#input_video_play_inline")),g("#button-video-add").hide(),g("#button-audio-add").hide(),g("#video_dialog_tabs").hasClass("disabled")||g("#video_dialog_tabs").addClass("disabled"),g("#youtube_id").val(""),g("#vimeo_id").val(""),g("#fullscreenvideofun").hide();var a=g("#button-video-add");a.text(a.data("textadd"));var n=g("#button-audio-add");n.text(n.data("textadd")),t.dialog({buttons:d,minWidth:830,minHeight:500,modal:!0,dialogClass:"tpdialogs",create:function(e){g(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")}}),o&&m(o),h()};function f(e){return e.args=g("#input_video_arguments").val(),e.previewimage=g("#input_video_preview").val(),e.autoplay=g("#select_video_autoplay option:selected").val(),e.use_poster_on_mobile=g("#input_use_poster_on_mobile").is(":checked"),e.video_show_visibility=g("#input_video_show_visibility").is(":checked"),e.video_play_inline=g("#input_video_play_inline").is(":checked"),e.nextslide=g("#input_video_nextslide").is(":checked"),e.forcerewind=g("#input_video_force_rewind").is(":checked"),e.fullwidth=g("#input_video_fullwidth").is(":checked"),e.controls=g("#input_video_control").is(":checked"),e.mute=g("#input_video_mute").is(":checked"),e.disable_on_mobile=g("#input_disable_on_mobile").is(":checked"),e.cover=g("#input_video_cover").is(":checked"),e.stopallvideo=g("#input_video_stopallvideo").is(":checked"),e.allowfullscreen=g("#input_video_allowfullscreen").is(":checked"),e.dotted=g("#input_video_dotted_overlay option:selected").val(),e.preload=g("#input_video_preload option:selected").val(),e.preload_audio=g("#input_audio_preload option:selected").val(),e.preload_wait=g("#input_video_preload_wait option:selected").val(),e.videospeed=g("#input_video_speed option:selected").val(),e.ratio=g("#input_video_ratio option:selected").val(),e.videoloop=g("#input_video_loop option:selected").val(),e.show_cover_pause=g("#input_video_show_cover_pause").is(":checked"),e.start_at=g("#input_video_start_at").val(),e.end_at=g("#input_video_end_at").val(),e.volume=g("#input_video_volume").val(),e.large_controls=g("#input_video_large_controls").is(":checked"),e.leave_on_pause=g("#input_video_leave_fs_on_pause").is(":checked"),e}function e(){g("#video_radio_youtube").prop("checked",!0),g("#video_radio_vimeo").click(function(){g("#video_block_youtube").hide(),g("#video_block_html5").hide(),g("#rev-html5-options").hide(),g("#rev-youtube-options").hide(),g("#rev-playsinline-options").hide(),g("#video_block_vimeo").show(),g("#preview-image-video-wrap").show(),g("#video-dialog-wrap").removeClass("html5select"),g("#fullscreenvideofun").hide(),g(".video-volume").show(),g(".hide-for-vimeo").hide()}),g("#video_radio_youtube").click(function(){g("#video_block_vimeo").hide(),g("#video_block_html5").hide(),g("#rev-html5-options").hide(),g("#rev-youtube-options").show(),g("#rev-playsinline-options").show(),g("#video_block_youtube").show(),g("#preview-image-video-wrap").show(),g("#video-dialog-wrap").removeClass("html5select"),g("#fullscreenvideofun").hide(),g(".video-volume").show(),g(".hide-for-vimeo").show()}),g("#video_radio_html5").click(function(){g("#video_block_vimeo").hide(),g("#video_block_youtube").hide(),g("#video_block_html5").show(),g("#rev-youtube-options").hide(),g("#rev-playsinline-options").show(),g("#rev-html5-options").show(),g("#video_content").hide(),g("#preview-image-video-wrap").hide(),g("#video-dialog-wrap").addClass("html5select"),g("#fullscreenvideofun").show(),g(".video-volume").show(),g(".hide-for-vimeo").show()}),g("#video_radio_streamyoutube").click(function(){g("#video_block_youtube").hide(),g("#video_block_vimeo").hide(),g("#video_block_html5").hide(),g("#rev-html5-options").hide(),g("#rev-youtube-options").hide(),g("#rev-playsinline-options").hide(),g("#preview-image-video-wrap").show(),g("#video-dialog-wrap").removeClass("html5select"),g("#fullscreenvideofun").hide(),g("#video_dialog_tabs").removeClass("disabled"),g("#button-video-add").show(),g(".video-volume").show(),g(".hide-for-vimeo").show()}),g("#video_radio_streamvimeo").click(function(){g("#video_block_youtube").hide(),g("#video_block_vimeo").hide(),g("#video_block_html5").hide(),g("#rev-html5-options").hide(),g("#rev-youtube-options").show(),g("#rev-playsinline-options").show(),g("#preview-image-video-wrap").show(),g("#video-dialog-wrap").removeClass("html5select"),g("#fullscreenvideofun").hide(),g("#video_dialog_tabs").removeClass("disabled"),g("#button-video-add").show(),g(".video-volume").show(),g(".hide-for-vimeo").hide()}),g("#video_radio_streaminstagram").click(function(){g("#video_block_youtube").hide(),g("#video_block_vimeo").hide(),g("#video_block_html5").hide(),g("#rev-html5-options").hide(),g("#rev-youtube-options").hide(),g("#rev-playsinline-options").hide(),g("#preview-image-video-wrap").show(),g("#video-dialog-wrap").removeClass("html5select"),g("#fullscreenvideofun").hide(),g("#video_dialog_tabs").removeClass("disabled"),g("#button-video-add").show(),g(".video-volume").hide(),g(".hide-for-vimeo").show()}),g("#input_video_cover").change(function(){g(this).is(":checked")&&(g("#input_video_fullwidth").is(":checked")||g("#input_video_fullwidth").prop("checked",!0),y.onoffStatus(g("#input_video_fullwidth"))),h()}),g("#input_video_fullwidth").change(function(){g(this).is(":checked")?g("#video_full_screen_settings").show():g("#video_full_screen_settings").hide()}),g("#button_youtube_search").click(function(){p(!1),g("#youtube_loader").show();var e=g("#youtube_id").val();e=function(e){var o=(e=g.trim(e)).split("v=")[1];if(o){var i=o.indexOf("&");-1!=i&&(o=o.substring(0,i))}else o=-1!=e.indexOf("youtu.be/")?e.split("youtu.be/")[1]:e;return o}(e=g.trim(e)),g("#youtube_id").val(e);var o=new Image;o.onload=function(){var e=g(this);x.onYoutubeCallback(e)},o.src="https://img.youtube.com/vi/"+e+"/maxresdefault.jpg",g("#video_content").show(),setTimeout("UniteAdminRev.videoDialogOnError()",2e3)}),g("#button-video-add, #button-audio-add").click(function(){var e=g("#video_radio_html5").prop("checked"),o=g("#video_radio_audio").prop("checked"),i=g("#video_radio_streamyoutube").prop("checked"),t=g("#video_radio_streamvimeo").prop("checked"),d=g("#video_radio_streaminstagram").prop("checked");if(g("#video_content").hide(),e)(a={video_type:"html5"}).urlPoster=g("#html5_url_poster").val(),a.urlMp4=g("#html5_url_mp4").val(),a.urlWebm=g("#html5_url_webm").val(),a.urlOgv=g("#html5_url_ogv").val(),a.video_width=480,a.video_height=360,a=f(a),"function"==typeof c&&c(a),g("#dialog_video").dialog("close");else if(i){a=f(a={video_type:"streamyoutube",video_width:480,video_height:360}),"function"==typeof c&&c(a),g("#dialog_video").dialog("close")}else if(t){a=f(a={video_type:"streamvimeo",video_width:480,video_height:360}),"function"==typeof c&&c(a),g("#dialog_video").dialog("close")}else if(d){a=f(a={video_type:"streaminstagram",video_width:480,video_height:360}),"function"==typeof c&&c(a),g("#dialog_video").dialog("close")}else if(o){var a;(a={video_type:"audio"}).urlAudio=g("#html5_url_audio").val(),a.video_width=200,a.video_height=34,a=f(a),"function"==typeof c&&c(a),g("#dialog_video").dialog("close")}else{if(!u)return!1;u=f(u),"function"==typeof c&&c(u),g("#dialog_video").dialog("close")}try{UniteLayersRev.setLayerSelected(selectedLayerSerial,!0)}catch(e){}}),g("#html5_url_ogv, #html5_url_webm, #html5_url_mp4").on("change",function(){g("#video_dialog_tabs").removeClass("disabled"),g("#button-video-add").show(),g("#button-audio-add").hide()}),g("#html5_url_audio").on("change",function(){g("#video_dialog_tabs").removeClass("disabled"),g("#button-video-add").hide(),g("#button-audio-add").show()}),g("#button_vimeo_search").click(function(){p(!1),g("#vimeo_loader").show(),g("#video_content").show();var e=g("#vimeo_id").val(),o="//www.vimeo.com/api/v2/video/"+(e=function(e){var o=(e=g.trim(e)).replace(/[^0-9]+/g,"");return o=g.trim(o)}(e=g.trim(e)))+".json?callback=UniteAdminRev.onVimeoCallback";g.getScript(o),setTimeout("UniteAdminRev.videoDialogOnError()",2e3)}),g("#input_video_fullwidth").change(h)}var m=function(e){switch(e.id=g.trim(e.id),e.video_type){case"youtube":g("#video-dialog-wrap").removeClass("html5select"),g("#video_radio_youtube").trigger("click"),g("#youtube_id").val(e.id),g("#fullscreenvideofun").hide();break;case"vimeo":g("#video-dialog-wrap").removeClass("html5select"),g("#video_radio_vimeo").trigger("click"),g("#vimeo_id").val(e.id),g("#fullscreenvideofun").hide();break;case"html5":g("#video-dialog-wrap").addClass("html5select"),g("#html5_url_poster").val(e.urlPoster),g("#html5_url_mp4").val(e.urlMp4),g("#html5_url_webm").val(e.urlWebm),g("#html5_url_ogv").val(e.urlOgv),g("#video_radio_html5").trigger("click"),g("#fullscreenvideofun").show();break;case"streamvimeo":g("#video-dialog-wrap").removeClass("html5select"),g("#video_radio_streamvimeo").trigger("click");break;case"streamyoutube":g("#video-dialog-wrap").removeClass("html5select"),g("#video_radio_streamyoutube").trigger("click");break;case"streaminstagram":g("#video-dialog-wrap").removeClass("html5select"),g("#video_radio_streaminstagram").trigger("click");break;case"audio":g("#html5_url_audio").val(e.urlAudio),g("#rev-html5-options").hide()}if(g("#input_video_arguments").val(e.args),g("#input_video_preview").val(e.previewimage),e.use_poster_on_mobile&&1==e.use_poster_on_mobile?g("#input_use_poster_on_mobile").prop("checked","checked"):g("#input_use_poster_on_mobile").prop("checked",""),e.video_show_visibility&&1==e.video_show_visibility?g("#input_video_show_visibility").prop("checked","checked"):g("#input_video_show_visibility").prop("checked",""),e.video_play_inline&&1==e.video_play_inline?g("#input_video_play_inline").prop("checked","checked"):g("#input_video_play_inline").prop("checked",""),e.autoplayonlyfirsttime&&1==e.autoplayonlyfirsttime&&(e.autoplay="1sttime"),e.autoplay)switch(e.autoplay){case"true":case!0:g('#select_video_autoplay option[value="true"]').attr("selected",!0);break;case!1:case"false":g('#select_video_autoplay option[value="false"]').attr("selected",!0);break;default:g('#select_video_autoplay option[value="'+e.autoplay+'"]').attr("selected",!0)}e.nextslide&&1==e.nextslide?g("#input_video_nextslide").prop("checked","checked"):g("#input_video_nextslide").prop("checked",""),e.forcerewind&&1==e.forcerewind?g("#input_video_force_rewind").prop("checked","checked"):g("#input_video_force_rewind").prop("checked",""),e.fullwidth&&1==e.fullwidth?g("#input_video_fullwidth").prop("checked","checked"):g("#input_video_fullwidth").prop("checked",""),e.controls&&1==e.controls?g("#input_video_control").prop("checked","checked"):g("#input_video_control").prop("checked",""),e.mute&&1==e.mute?g("#input_video_mute").prop("checked","checked"):g("#input_video_mute").prop("checked",""),e.disable_on_mobile&&1==e.disable_on_mobile?g("#input_disable_on_mobile").prop("checked","checked"):g("#input_disable_on_mobile").prop("checked",""),e.cover&&1==e.cover?g("#input_video_cover").prop("checked","checked"):g("#input_video_cover").prop("checked",""),e.stopallvideo&&1==e.stopallvideo?g("#input_video_stopallvideo").prop("checked","checked"):g("#input_video_stopallvideo").prop("checked",""),e.allowfullscreen&&1==e.allowfullscreen?g("#input_video_allowfullscreen").prop("checked","checked"):g("#input_video_allowfullscreen").prop("checked",""),e.preload&&g("#input_video_preload option").each(function(){g(this).val()==e.preload&&g(this).attr("selected",!0)}),e.preload_audio&&g("#input_audio_preload option").each(function(){g(this).val()==e.preload_audio&&g(this).attr("selected",!0)}),e.preload_wait&&g("#input_video_preload_wait option").each(function(){g(this).val()==e.preload_wait&&g(this).attr("selected",!0)}),e.videospeed&&g("#input_video_speed option").each(function(){g(this).val()==e.videospeed&&g(this).attr("selected",!0)}),e.dotted&&g("#input_video_dotted_overlay option").each(function(){g(this).val()==e.dotted&&g(this).attr("selected",!0)}),e.ratio&&g("#input_video_ratio option").each(function(){g(this).val()==e.ratio&&g(this).attr("selected",!0)}),e.videoloop&&(1==e.videoloop?g('#input_video_loop option[value="loop"]').attr("selected",!0):g("#input_video_loop option").each(function(){g(this).val()==e.videoloop&&g(this).attr("selected",!0)}));var o=g("#button-video-add");o.text(o.data("textupdate"));var i=g("#button-audio-add");switch(i.text(i.data("textupdate")),e.video_type){case"youtube":g("#button_youtube_search").trigger("click");break;case"vimeo":g("#button_vimeo_search").trigger("click")}e.show_cover_pause&&1==e.show_cover_pause?g("#input_video_show_cover_pause").prop("checked","checked"):g("#input_video_show_cover_pause").prop("checked",""),void 0!==e.large_controls&&0==e.large_controls?g("#input_video_large_controls").prop("checked",""):g("#input_video_large_controls").prop("checked","checked"),void 0!==e.leave_on_pause&&0==e.leave_on_pause?g("#input_video_leave_fs_on_pause").prop("checked",""):g("#input_video_leave_fs_on_pause").prop("checked","checked"),g("#input_video_start_at").val(e.start_at),g("#input_video_end_at").val(e.end_at),g("#input_video_volume").val(e.volume),y.onoffStatus(g("#input_video_nextslide")),y.onoffStatus(g("#input_video_force_rewind")),y.onoffStatus(g("#input_video_fullwidth")),y.onoffStatus(g("#input_video_control")),y.onoffStatus(g("#input_video_mute")),y.onoffStatus(g("#input_disable_on_mobile")),y.onoffStatus(g("#input_video_cover")),y.onoffStatus(g("#input_video_stopallvideo")),y.onoffStatus(g("#input_video_allowfullscreen")),y.onoffStatus(g("#input_use_poster_on_mobile")),y.onoffStatus(g("#input_video_show_cover_pause")),y.onoffStatus(g("#input_video_large_controls")),y.onoffStatus(g("#input_video_leave_fs_on_pause")),y.onoffStatus(g("#input_video_show_visibility")),y.onoffStatus(g("#input_video_play_inline")),"audio"===e.video_type?(g("#button-video-add").hide(),g("#button-audio-add").show()):(g("#button-video-add").show(),g("#button-audio-add").hide()),g("#video_dialog_tabs").removeClass("disabled"),g("#reset_video_dialog_tab").click()};n.setMultipleTextKey=function(e,o){i[e]=o},n.getMultipleTextKey=function(e){return i[e]};n.parseCssMultiAttribute=function(e){if(""==e)return!1;var o=e.split(" "),i=[];switch(o.length){case 1:i[0]=o[0],i[1]=o[0],i[2]=o[0],i[3]=o[0];break;case 2:i[0]=o[0],i[1]=o[1],i[2]=o[0],i[3]=o[1];break;case 3:i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[1];break;case 4:i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[3];break;case 0:default:return!1}return i},n.convertHexToRGB=function(e){return[(e=parseInt(-1<e.indexOf("#")?e.substring(1):e,16))>>16,(65280&e)>>8,255&e]},n.initGoogleFonts=function(){g("#eg-font-setting-change").click(function(){x.ajaxRequest("change_google_fonts_settings",{setting:g('input[name="load_fonts_place"]:checked').val()},function(e){})}),g("#eg-font-add").click(function(){g("#font-dialog-wrap").dialog({modal:!0,draggable:!1,resizable:!1,width:470,height:320,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){g(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:[{text:"Add Font",click:function(){var e={};if(e.handle=n.sanitize_input(g('input[name="eg-font-handle"]').val()),e.url=g('input[name="eg-font-url"]').val(),e.handle.length<3||e.url.length<3)return alert(b.handle_at_least_three_chars),!1;x.ajaxRequest("add_google_fonts",e,function(e){})}}]})}),g("body").on("click",".eg-font-edit",function(){if(confirm(b.really_change_font_sett)){var e={},o=g(this);e.handle=o.closest(".inside").find('input[name="esg-font-handle[]"]').val(),e.url=o.closest(".inside").find('input[name="esg-font-url[]"]').val(),x.ajaxRequest("edit_google_fonts",e,function(e){})}}),g("body").on("click",".eg-font-delete",function(){if(confirm(b.really_delete_font)){var e={},o=g(this);e.handle=o.closest(".inside").find('input[name="esg-font-handle[]"]').val(),x.ajaxRequest("remove_google_fonts",e,function(e){1==e.success&&o.closest(".postbox.eg-postbox").remove()})}})},n.sanitize_input=function(e){return e.replace(/ /g,"-").replace(/[^-0-9a-zA-Z_-]/g,"")},n.sanitize_input_lc=function(e){return e.replace(/ /g,"-").replace(/[^-0-9a-z_-]/g,"")},n.initAccordion=function(){g(".postbox-arrow").each(function(e){g(this).closest("h3").click(function(){var e=g(this);e.hasClass("box-closed")?(g(".postbox-arrow").each(function(){var e=g(this).closest("h3");e.closest(".postbox").find(".inside").slideUp("fast"),e.addClass("box-closed")}),e.closest(".postbox").find(".inside").slideDown("fast"),e.removeClass("box-closed")):(e.closest(".postbox").find(".inside").slideUp("fast"),e.addClass("box-closed"))})})},n.return_ajaxurl_param=function(){return-1===ajaxurl.indexOf("?")?"?":"&"},n.duplicateObject=function(e,o){return n.removePrototypeMethods(void 0!==o&&o?g.extend(!0,{},e):g.extend({},e))},n.duplicateObjectDeep=function(e){return n.duplicateObject(e,!0)},n.removePrototypeMethods=function(e){for(var o in e)e.hasOwnProperty(o)?"Object"!=typeof e[o]&&"Array"!=typeof e[o]||(e[o]=n.removePrototypeMethods(e[o])):delete e[o];return e},g(document).ready(function(){g("body").addClass("wp-core-ui"),e(),g(".button_save_general_settings").click(function(){var e=y.getSettingsObject("form_general_settings");g("#loader_general_settings").show(),x.ajaxRequest("update_general_settings",e,function(){})}),g("#trigger_font_deletion").click(function(){confirm("This will update all downloaded Google Fonts")&&x.ajaxRequest("trigger_font_deletion",{},function(e){})}),g("body").on("click",".remove_multiple_text",function(){g("#"+g(this).data("remove")).remove(),g(this).parent().remove()}),g(".multiple_text_add").click(function(){var e=g(this).data("name"),o=n.getMultipleTextKey(e)+1,i=g("."+e+"_TEMPLATE").html();i=i.replace(/##ID##/gi,e+"_"+o).replace(/##NAME##/gi,e),g("#"+e+"_row .setting_input").append(i),n.setMultipleTextKey(e,o)}),g("#rs-validation-activate").click(function(){var e={code:g('input[name="rs-validation-token"]').val().replace(/[^0-9a-z-]/gi,"")};x.ajaxRequest("activate_purchase_code",e,function(e){0==e.success?g("#register-wrong-purchase-code").click():void 0!==e.error&&"exist"==e.error&&n.showErrorMessage(e.msg)},void 0,!0)}),g("#rs-validation-deactivate").click(function(){x.ajaxRequest("deactivate_purchase_code","")})})};return window.UniteAdminRev=x});