require(["jquery","themepunchTools"],function(t,w){"use strict";var v=jQuery.fn.revolution,m={alias:"KenBurns Min JS",name:"revolution.extensions.kenburn.min.js",min_core:"5.4",version:"1.3.1"};jQuery.extend(!0,v,{stopKenBurn:function(t){if("stop"===v.compare_version(m).check)return!1;null!=t.data("kbtl")&&t.data("kbtl").pause()},startKenBurn:function(t,e,a){if("stop"===v.compare_version(m).check)return!1;var r=t.data(),n=t.find(".defaultimg"),i=n.data("lazyload")||n.data("src"),s=(r.owidth,r.oheight,"carousel"===e.sliderType?e.carousel.slide_width:e.ul.width()),o=e.ul.height();if(t.data("kbtl")&&t.data("kbtl").kill(),a=a||0,0==t.find(".tp-kbimg").length){var d=n.data("mediafilter");d=void 0===d?"":d,t.append('<div class="tp-kbimg-wrap '+d+'" style="z-index:2;width:100%;height:100%;top:0px;left:0px;position:absolute;"><img class="tp-kbimg" src="'+i+'" style="position:absolute;" width="'+r.owidth+'" height="'+r.oheight+'"></div>'),t.data("kenburn",t.find(".tp-kbimg"))}var c=function(t,e,a,r,n,i,s){var o=t*a,d=e*a,l=Math.abs(r-o),h=Math.abs(n-d),u=new Object;return u.l=(0-i)*l,u.r=u.l+o,u.t=(0-s)*h,u.b=u.t+d,u.h=i,u.v=s,u};null!=t.data("kbtl")&&(t.data("kbtl").kill(),t.removeData("kbtl"));var l=t.data("kenburn"),h=l.parent(),u=function(t,e,a){var r=a.scalestart/100,n=a.scaleend/100,i=null!=a.offsetstart&&a.offsetstart.split(" ")||[0,0],s=null!=a.offsetend&&a.offsetend.split(" ")||[0,0];a.bgposition="center center"==a.bgposition?"50% 50%":a.bgposition;var o=new Object;a.owidth,a.oheight,a.owidth,a.oheight;if(o.start=new Object,o.starto=new Object,o.end=new Object,o.endo=new Object,o.start.width=t,o.start.height=o.start.width/a.owidth*a.oheight,o.start.height<e){var d=e/o.start.height;o.start.height=e,o.start.width=o.start.width*d}o.start.transformOrigin=a.bgposition,o.start.scale=r,o.end.scale=n,a.rotatestart=0===a.rotatestart?.01:a.rotatestart,o.start.rotation=a.rotatestart+"deg",o.end.rotation=a.rotateend+"deg";var l=function(t,e,a,r,n){var i=t.bgposition.split(" ")||"center center",s="center"==i[0]?"50%":"left"==i[0]||"left"==i[1]?"0%":"right"==i[0]||"right"==i[1]?"100%":i[0],o="center"==i[1]?"50%":"top"==i[0]||"top"==i[1]?"0%":"bottom"==i[0]||"bottom"==i[1]?"100%":i[1];s=parseInt(s,0)/100||0,o=parseInt(o,0)/100||0;var d=new Object;return d.start=c(n.start.width,n.start.height,n.start.scale,e,a,s,o),d.end=c(n.start.width,n.start.height,n.end.scale,e,a,s,o),d}(a,t,e,0,o);i[0]=parseFloat(i[0])+l.start.l,s[0]=parseFloat(s[0])+l.end.l,i[1]=parseFloat(i[1])+l.start.t,s[1]=parseFloat(s[1])+l.end.t;var h=l.start.r-l.start.l,u=l.start.b-l.start.t,p=l.end.r-l.end.l,b=l.end.b-l.end.t;return i[0]=0<i[0]?0:h+i[0]<t?t-h:i[0],s[0]=0<s[0]?0:p+s[0]<t?t-p:s[0],i[1]=0<i[1]?0:u+i[1]<e?e-u:i[1],s[1]=0<s[1]?0:b+s[1]<e?e-b:s[1],o.starto.x=i[0]+"px",o.starto.y=i[1]+"px",o.endo.x=s[0]+"px",o.endo.y=s[1]+"px",o.end.ease=o.endo.ease=a.ease,o.end.force3D=o.endo.force3D=!0,o}(s,o,r),p=new w.TimelineLite;if(p.pause(),u.start.transformOrigin="0% 0%",u.starto.transformOrigin="0% 0%",p.add(w.TweenLite.fromTo(l,r.duration/1e3,u.start,u.end),0),p.add(w.TweenLite.fromTo(h,r.duration/1e3,u.starto,u.endo),0),void 0!==r.blurstart&&void 0!==r.blurend&&(0!==r.blurstart||0!==r.blurend)){var b={a:r.blurstart},f={a:r.blurend,ease:u.endo.ease},g=new w.TweenLite(b,r.duration/1e3,f);g.eventCallback("onUpdate",function(t){w.TweenLite.set(t,{filter:"blur("+b.a+"px)",webkitFilter:"blur("+b.a+"px)"})},[h]),p.add(g,0)}p.progress(a),p.play(),t.data("kbtl",p)}})});