require(["jquery","themepunchTools"],function(e,c){"use strict";var f=jQuery.fn.revolution,s={alias:"Carousel Min JS",name:"revolution.extensions.carousel.min.js",min_core:"5.3.0",version:"1.2.1"};jQuery.extend(!0,f,{prepareCarousel:function(e,i,t,a){if("stop"===f.compare_version(s).check)return!1;t=e.carousel.lastdirection=d(t,e.carousel.lastdirection),l(e),e.carousel.slide_offset_target=o(e),void 0!==a?h(e,t,!1,0):null==i?f.carouselToEvalPosition(e,t):h(e,t,!1)},carouselToEvalPosition:function(e,i){var t=e.carousel;i=t.lastdirection=d(i,t.lastdirection);var a="center"===t.horizontal_align?(t.wrapwidth/2-t.slide_width/2-t.slide_globaloffset)/t.slide_width:(0-t.slide_globaloffset)/t.slide_width,s=f.simp(a,e.slideamount,!1),l=s-Math.floor(s),o=0,r=-1*(Math.ceil(s)-s),n=-1*(Math.floor(s)-s);o=.3<=l&&"left"===i||.7<=l&&"right"===i?r:l<.3&&"left"===i||l<.7&&"right"===i?n:o,o="off"===t.infinity?s<0?s:a>e.slideamount-1?a-(e.slideamount-1):o:o,t.slide_offset_target=o*t.slide_width,0!==Math.abs(t.slide_offset_target)?h(e,i,!0):f.organiseCarousel(e,i)},organiseCarousel:function(o,r,n,e){r=void 0===r||"down"==r||"up"==r||null===r||jQuery.isEmptyObject(r)?"left":r;for(var d=o.carousel,f=new Array,h=d.slides.length,i=("right"===d.horizontal_align&&o.width,0);i<h;i++){var t=i*d.slide_width+d.slide_offset;"on"===d.infinity&&(t=(t=t>d.wrapwidth-d.inneroffset&&"right"==r?d.slide_offset-(d.slides.length-i)*d.slide_width:t)<0-d.inneroffset-d.slide_width&&"left"==r?t+d.maxwidth:t),f[i]=t}var w=999;d.slides&&jQuery.each(d.slides,function(e,i){var t=f[e];"on"===d.infinity&&(t=(t=t>d.wrapwidth-d.inneroffset&&"left"===r?f[0]-(h-e)*d.slide_width:t)<0-d.inneroffset-d.slide_width?"left"==r?t+d.maxwidth:"right"===r?f[h-1]+(e+1)*d.slide_width:t:t);var a=new Object;a.left=t+d.inneroffset;var s="center"===d.horizontal_align?(Math.abs(d.wrapwidth/2)-(a.left+d.slide_width/2))/d.slide_width:(d.inneroffset-a.left)/d.slide_width,l="center"===d.horizontal_align?2:1;if((n&&Math.abs(s)<w||0===s)&&(w=Math.abs(s),d.focused=e),a.width=d.slide_width,a.x=0,a.transformPerspective=1200,a.transformOrigin="50% "+d.vertical_align,"on"===d.fadeout)if("on"===d.vary_fade)a.autoAlpha=1-Math.abs(1/Math.ceil(d.maxVisibleItems/l)*s);else switch(d.horizontal_align){case"center":a.autoAlpha=Math.abs(s)<Math.ceil(d.maxVisibleItems/l-1)?1:1-(Math.abs(s)-Math.floor(Math.abs(s)));break;case"left":a.autoAlpha=s<1&&0<s?1-s:Math.abs(s)>d.maxVisibleItems-1?1-(Math.abs(s)-(d.maxVisibleItems-1)):1;break;case"right":a.autoAlpha=-1<s&&s<0?1-Math.abs(s):s>d.maxVisibleItems-1?1-(Math.abs(s)-(d.maxVisibleItems-1)):1}else a.autoAlpha=Math.abs(s)<Math.ceil(d.maxVisibleItems/l)?1:0;if(void 0!==d.minScale&&0<d.minScale)if("on"===d.vary_scale){a.scale=1-Math.abs(d.minScale/100/Math.ceil(d.maxVisibleItems/l)*s);d.slide_width,d.slide_width,a.scale,Math.abs(s)}else{a.scale=1<=s||s<=-1?1-d.minScale/100:(100-d.minScale*Math.abs(s))/100;d.slide_width,d.slide_width,d.minScale,Math.abs(s)}void 0!==d.maxRotation&&0!=Math.abs(d.maxRotation)&&("on"===d.vary_rotation?(a.rotationY=Math.abs(d.maxRotation)-Math.abs((1-Math.abs(1/Math.ceil(d.maxVisibleItems/l)*s))*d.maxRotation),a.autoAlpha=90<Math.abs(a.rotationY)?0:a.autoAlpha):a.rotationY=1<=s||s<=-1?d.maxRotation:Math.abs(s)*d.maxRotation,a.rotationY=s<0?-1*a.rotationY:a.rotationY),a.x=-1*d.space*s,a.left=Math.floor(a.left),a.x=Math.floor(a.x),a.scale,a.x,a.zIndex=Math.round(100-Math.abs(5*s)),a.transformStyle="3D"!=o.parallax.type&&"3d"!=o.parallax.type?"flat":"preserve-3d",c.TweenLite.set(i,a)}),e&&(o.c.find(".next-revslide").removeClass("next-revslide"),jQuery(d.slides[d.focused]).addClass("next-revslide"),o.c.trigger("revolution.nextslide.waiting"));d.wrapwidth,d.slide_offset,d.maxwidth,d.slide_offset,d.wrapwidth}});var l=function(e){void 0===e.bw&&f.setSize(e);var i,t,a=e.carousel,s=f.getHorizontalOffset(e.c,"left"),l=f.getHorizontalOffset(e.c,"right");void 0===a.wrap&&((t=(i=e).carousel).infbackup=t.infinity,t.maxVisiblebackup=t.maxVisibleItems,t.slide_globaloffset="none",t.slide_offset=0,t.wrap=i.c.find(".tp-carousel-wrapper"),t.slides=i.c.find(".tp-revslider-slidesli"),0!==t.maxRotation&&("3D"!=i.parallax.type&&"3d"!=i.parallax.type?c.TweenLite.set(t.wrap,{perspective:1200,transformStyle:"flat"}):c.TweenLite.set(t.wrap,{perspective:1600,transformStyle:"preserve-3d"})),void 0!==t.border_radius&&0<parseInt(t.border_radius,0)&&c.TweenLite.set(i.c.find(".tp-revslider-slidesli"),{borderRadius:t.border_radius})),a.slide_width="on"!==a.stretch?e.gridwidth[e.curWinRange]*e.bw:e.c.width(),a.maxwidth=e.slideamount*a.slide_width,a.maxVisiblebackup>a.slides.length+1&&(a.maxVisibleItems=a.slides.length+2),a.wrapwidth=a.maxVisibleItems*a.slide_width+(a.maxVisibleItems-1)*a.space,a.wrapwidth="auto"!=e.sliderLayout?a.wrapwidth>e.c.closest(".tp-simpleresponsive").width()?e.c.closest(".tp-simpleresponsive").width():a.wrapwidth:a.wrapwidth>e.ul.width()?e.ul.width():a.wrapwidth,a.infinity=a.wrapwidth>=a.maxwidth?"off":a.infbackup,a.wrapoffset="center"===a.horizontal_align?(e.c.width()-l-s-a.wrapwidth)/2:0,a.wrapoffset="auto"!=e.sliderLayout&&e.outernav?0:a.wrapoffset<s?s:a.wrapoffset;var o="hidden";"3D"!=e.parallax.type&&"3d"!=e.parallax.type||(o="visible"),"right"===a.horizontal_align?c.TweenLite.set(a.wrap,{left:"auto",right:a.wrapoffset+"px",width:a.wrapwidth,overflow:o}):c.TweenLite.set(a.wrap,{right:"auto",left:a.wrapoffset+"px",width:a.wrapwidth,overflow:o}),a.inneroffset="right"===a.horizontal_align?a.wrapwidth-a.slide_width:0,a.realoffset=Math.abs(a.wrap.position().left),a.windhalf=jQuery(window).width()/2},d=function(e,i){return null===e||jQuery.isEmptyObject(e)?i:void 0===e?"right":e},h=function(i,t,a,e){var s=i.carousel;t=s.lastdirection=d(t,s.lastdirection);var l=new Object,o=a?c.Power2.easeOut:s.easing;l.from=0,l.to=s.slide_offset_target,e=void 0===e?s.speed/1e3:e,e=a?.4:e,void 0!==s.positionanim&&s.positionanim.pause(),s.positionanim=c.TweenLite.to(l,e,{from:l.to,onUpdate:function(){s.slide_offset=s.slide_globaloffset+l.from,s.slide_offset=f.simp(s.slide_offset,s.maxwidth),f.organiseCarousel(i,t,!1,!1)},onComplete:function(){s.slide_globaloffset="off"===s.infinity?s.slide_globaloffset+s.slide_offset_target:f.simp(s.slide_globaloffset+s.slide_offset_target,s.maxwidth),s.slide_offset=f.simp(s.slide_offset,s.maxwidth),f.organiseCarousel(i,t,!1,!0);var e=jQuery(i.li[s.focused]);i.c.find(".next-revslide").removeClass("next-revslide"),a&&f.callingNewSlide(i.c,e.data("index"))},ease:o})},w=function(e,i){return Math.abs(e)>Math.abs(i)?0<e?e-Math.abs(Math.floor(e/i)*i):e+Math.abs(Math.floor(e/i)*i):e},o=function(e){var i,t,a,s,l,o=0,r=e.carousel;if(void 0!==r.positionanim&&r.positionanim.kill(),"none"==r.slide_globaloffset)r.slide_globaloffset=o="center"===r.horizontal_align?r.wrapwidth/2-r.slide_width/2:0;else{r.slide_globaloffset=r.slide_offset,r.slide_offset=0;var n=e.c.find(".processing-revslide").index(),d="center"===r.horizontal_align?(r.wrapwidth/2-r.slide_width/2-r.slide_globaloffset)/r.slide_width:(0-r.slide_globaloffset)/r.slide_width;d=f.simp(d,e.slideamount,!1),n=0<=(n=0<=n?n:e.c.find(".active-revslide").index())?n:0,o="off"===r.infinity?d-n:(i=d,t=n,a=e.slideamount,l=t-a-i,s=w(s=t-i,a),l=w(l,a),-(Math.abs(s)>Math.abs(l)?l:s)),o*=r.slide_width}return o}});